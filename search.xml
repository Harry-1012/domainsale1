<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>JSé£å…¥é£å‡ºåŠ¨ç”» åŠ é€ŸåŠ¨ç”» æ¢å…¥æ¢å‡ºæ•ˆæœ</title>
      <link href="/posts/274/"/>
      <url>/posts/274/</url>
      
        <content type="html"><![CDATA[<p>JSé£å…¥é£å‡ºåŠ¨ç”» åŠ é€ŸåŠ¨ç”» æ¢å…¥æ¢å‡ºæ•ˆæœ</p><p>åœ¨çº¿é¢„è§ˆ <a href="https://haoleiqin.github.io/blog/my/demo/fly.html">https://haoleiqin.github.io/blog/my/demo/fly.html</a> online visit </p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;gift-fly&quot;</span> <span class="attr">style</span>=<span class="string">&quot; position: absolute; width: 50px;height: 50px;background-color: #327dff &quot;</span>&gt;</span> åŠ¨ç”»ç›’å­<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> flyDiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;gift-fly&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">animate</span>(flyDiv, &#123;<span class="string">&quot;left&quot;</span>: <span class="number">500</span>&#125;, <span class="number">3000</span>, <span class="string">&quot;easeIn&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é£å…¥åŠ¨ç”»æ‰§è¡Œå®Œäº†&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">animate</span>(flyDiv, &#123;<span class="string">&quot;left&quot;</span>: <span class="number">0</span>&#125;, <span class="number">3000</span>, <span class="string">&quot;easeOut&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é£å‡ºåŠ¨ç”»æ‰§è¡Œå®Œäº†&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@param</span> elem &#123;HTMLElement&#125; æ‰§è¡ŒåŠ¨ç”»çš„HTMLå…ƒç´ </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@param</span> params &#123;JSON&#125; åŠ¨ç”»æ‰§è¡Œè¿‡è¿‡ç¨‹ä¸­éœ€è¦ä¿®æ”¹çš„HTMLå±æ€§</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@param</span> duration &#123;Number&#125; å¯é€‰ï¼ŒåŠ¨ç”»æ‰§è¡Œæ—¶é—´ï¼Œå•ä½æ¯«ç§’</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * <span class="doctag">@param</span> easing &#123;String&#125; å¯é€‰ï¼ŒåŠ¨ç”»æ‰§è¡Œçš„æ–¹å¼ï¼Œç¼“å…¥easeInã€ç¼“å‡ºeaseOut</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     */</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">animate</span>(<span class="params">elem, params, duration, easing</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">success</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * æè¿°: tweenåŠ¨ç”»ç®—æ³•ã€‚</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * @param Number t: åŠ¨ç”»å·²ç»æ‰§è¡Œçš„æ—¶é—´ï¼ˆå®é™…ä¸Šæ—¶æ‰§è¡Œå¤šå°‘æ¬¡/å¸§æ•°ï¼‰</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * @param Number b: èµ·å§‹ä½ç½®</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * @param Number c: ç»ˆæ­¢ä½ç½®</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             * @param Number d: ä»èµ·å§‹ä½ç½®åˆ°ç»ˆæ­¢ä½ç½®çš„ç»è¿‡æ—¶é—´ï¼ˆå®é™…ä¸Šæ—¶æ‰§è¡Œå¤šå°‘æ¬¡/å¸§æ•°ï¼‰</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">             */</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> tween = &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">easeIn</span>: <span class="keyword">function</span> (<span class="params">t, b, c, d</span>) &#123;<span class="comment">//ç¼“å…¥</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> c * (t /= d) * t + b;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">easeOut</span>: <span class="keyword">function</span> (<span class="params">t, b, c, d</span>) &#123;<span class="comment">//ç¼“å‡º</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> -c * (t /= d) * (t - <span class="number">2</span>) + b;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> attribute = &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params">elem, attr</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> val;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (elem.<span class="property">currentStyle</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (attr === <span class="string">&quot;opacity&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            val = elem.<span class="property">filters</span>.<span class="property">alpha</span>[attr];</span></span><br><span class="line"><span class="language-javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            val = elem.<span class="property">currentStyle</span>[attr];</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        val = <span class="title function_">getComputedStyle</span>(elem)[attr];</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (attr === <span class="string">&quot;opacity&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            val = <span class="number">100</span> * val;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> val;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">elem, attr, val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (attr == <span class="string">&#x27;opacity&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        elem.<span class="property">style</span>.<span class="property">filter</span> = <span class="string">&#x27;alpha(opacity=&#x27;</span> + (val) + <span class="string">&#x27;)&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                        elem.<span class="property">style</span>.<span class="property">opacity</span> = (val) / <span class="number">100</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        elem.<span class="property">style</span>[attr] = val + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> effect = &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">animate</span>: <span class="keyword">function</span> (<span class="params">elem, params, duration, easing</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> dt = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(),</span></span><br><span class="line"><span class="language-javascript">                        b = <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                        c = <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                        d = duration || <span class="number">500</span>,</span></span><br><span class="line"><span class="language-javascript">                        fps = <span class="number">1000</span> / <span class="number">60</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> changes = [];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">for</span> (<span class="keyword">let</span> attr <span class="keyword">in</span> params) &#123;</span></span><br><span class="line"><span class="language-javascript">                        b = <span class="built_in">parseFloat</span>(attribute.<span class="title function_">get</span>(elem, attr));</span></span><br><span class="line"><span class="language-javascript">                        c = params[attr] - b;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        changes.<span class="title function_">push</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">attr</span>: attr,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">b</span>: b,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">c</span>: c</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    easing = easing || <span class="string">&quot;easeOut&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">let</span> t = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>() - dt;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">let</span> b, c, attr;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; changes.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                            b = changes[i].<span class="property">b</span>;</span></span><br><span class="line"><span class="language-javascript">                            c = changes[i].<span class="property">c</span>;</span></span><br><span class="line"><span class="language-javascript">                            attr = changes[i].<span class="property">attr</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            attribute.<span class="title function_">set</span>(elem, attr, tween[easing](t, b, c, d));</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (d &lt;= t) &#123;</span></span><br><span class="line"><span class="language-javascript">                                attribute.<span class="title function_">set</span>(elem, attr, params[attr]);</span></span><br><span class="line"><span class="language-javascript">                                <span class="title function_">success</span>();</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        <span class="built_in">setTimeout</span>(<span class="variable language_">arguments</span>.<span class="property">callee</span>, fps);</span></span><br><span class="line"><span class="language-javascript">                    &#125;, fps);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            effect.<span class="title function_">animate</span>(elem, params, duration, easing);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ’åºç»“æ„ä½“structä¸­å­—æ®µæå‡æ€§èƒ½,é™ä½å†…å­˜ä½¿ç”¨ç‡</title>
      <link href="/posts/273/"/>
      <url>/posts/273/</url>
      
        <content type="html"><![CDATA[<p>å°†ç¬¬ä¸€ä¸ªstructæ”¹å†™ä¸ºç¬¬äºŒç§å¯ä»¥é€šè¿‡æ’åºç»“æ„ä½“structä¸­å­—æ®µæå‡æ€§èƒ½,é™ä½å†…å­˜ä½¿ç”¨ç‡</p><p>&#96;&#96;&#96;go<br>type BadStruct struct {<br>    age          uint8<br>    IdCardNumber uint64<br>    DateOfBirth  uint16<br>}</p><p>type GoodStruct struct {<br>    age          uint8<br>    DateOfBirth  uint16<br>    IdCardNumber uint64<br>}</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> struct </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>emojiè¡¨æƒ…åœ¨çº¿é¢„è§ˆ å¯å¤åˆ¶éå›¾ç‰‡</title>
      <link href="/posts/9925/"/>
      <url>/posts/9925/</url>
      
        <content type="html"><![CDATA[<p>è¶…1000ä¸ªemojiç¬¦å·è¡¨æƒ…å¤§å…¨ï¼ŒåŒ…æ‹¬ï¼šè¡¨æƒ… äººç‰© æ‰‹åŠ¿ æ—¥å¸¸ æ‰‹æœº å…¬å…± åŠ¨ç‰© æ¤ç‰© è‡ªç„¶ é¥®é£Ÿ æ–‡ä½“ ææ€– æ—…æ¸¸ ç‰©å“ æ ‡å¿— ç”Ÿè‚– æ˜Ÿåº§ é’Ÿè¡¨ å¿ƒå½¢ èŠ±è‰ æ ‘å¶ æœˆäº® æ°´æœ é’±å¸ äº¤é€š å»ºç­‘ åŠå…¬ ç®­å¤´ æ‰‘å…‹ å¤©æ°”</p><h1 id="è¡¨æƒ…-emoji"><a href="#è¡¨æƒ…-emoji" class="headerlink" title="è¡¨æƒ… emoji"></a>è¡¨æƒ… emoji</h1><p><span style="font-size:xx-large"> ğŸ˜ƒğŸ˜„ğŸ˜ğŸ˜†ğŸ˜…ğŸ¤£ğŸ˜‚ğŸ™‚ğŸ™ƒğŸ˜‰ğŸ˜ŠğŸ˜‡ğŸ¥°ğŸ˜ğŸ¤©ğŸ˜˜ğŸ˜—ğŸ˜šğŸ˜™ğŸ˜‹ğŸ˜›ğŸ˜œğŸ¤ªğŸ˜ğŸ¤‘ğŸ¤—ğŸ¤­ğŸ¤«ğŸ¤”ğŸ¤ğŸ¤¨ğŸ˜ğŸ˜‘ğŸ˜¶ğŸ˜ğŸ˜’ğŸ™„ğŸ˜¬ğŸ¤¥ğŸ˜ŒğŸ˜”ğŸ˜ªğŸ¤¤ğŸ˜´ğŸ˜·ğŸ¤’ğŸ¤•ğŸ¤¢ğŸ¤®ğŸ¤§ğŸ¥µğŸ¥¶ğŸ¥´ğŸ˜µğŸ¤¯ğŸ¤ ğŸ¥³ğŸ˜ğŸ¤“ğŸ§ğŸ˜•ğŸ˜ŸğŸ™â˜¹ï¸ğŸ˜®ğŸ˜¯ğŸ˜²ğŸ˜³ğŸ¥ºğŸ˜¦ğŸ˜§ğŸ˜¨ğŸ˜°ğŸ˜¥ğŸ˜¢ğŸ˜­ğŸ˜±ğŸ˜–ğŸ˜£ğŸ˜ğŸ˜“ğŸ˜©ğŸ˜«ğŸ¥±ğŸ˜¤ğŸ˜¡ğŸ˜ ğŸ¤¬</span></p><h1 id="äººç‰©-emoji"><a href="#äººç‰©-emoji" class="headerlink" title="äººç‰© emoji"></a>äººç‰© emoji</h1><p><span style="font-size:xx-large">  ğŸ‘¶ğŸ§’ğŸ‘¦ğŸ‘§ğŸ§‘ğŸ‘±ğŸ‘¨ğŸ§”ğŸ‘¨â€ğŸ¦°ğŸ‘¨â€ğŸ¦±ğŸ‘¨â€ğŸ¦³ğŸ‘¨â€ğŸ¦²ğŸ‘©ğŸ‘©â€ğŸ¦°ğŸ§‘â€ğŸ¦°ğŸ‘©â€ğŸ¦±ğŸ§‘â€ğŸ¦±ğŸ‘©â€ğŸ¦³ğŸ§‘â€ğŸ¦³ğŸ‘©â€ğŸ¦²ğŸ§‘â€ğŸ¦²ğŸ‘±â€â™€ï¸ğŸ‘±â€â™‚ï¸ğŸ§“ğŸ‘´ğŸ‘µğŸ™ğŸ™â€â™‚ï¸ğŸ™â€â™€ï¸ğŸ™ğŸ™â€â™‚ï¸ğŸ™â€â™€ï¸ğŸ™…ğŸ™…â€â™‚ï¸ğŸ™…â€â™€ï¸ğŸ™†ğŸ™†â€â™‚ï¸ğŸ™†â€â™€ï¸ğŸ’ğŸ’â€â™‚ï¸ğŸ’â€â™€ï¸ğŸ™‹ğŸ™‹â€â™‚ï¸ğŸ™‹â€â™€ï¸ğŸ§ğŸ§â€â™‚ï¸ğŸ§â€â™€ï¸ğŸ™‡ğŸ™‡â€â™‚ï¸ğŸ™‡â€â™€ï¸ğŸ¤¦ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™€ï¸ğŸ¤·ğŸ¤·â€â™‚ï¸ğŸ¤·â€â™€ï¸ğŸ§‘â€âš•ï¸ğŸ‘¨â€âš•ï¸ğŸ‘©â€âš•ï¸ğŸ§‘â€ğŸ“ğŸ‘¨â€ğŸ“ğŸ‘©â€ğŸ“ğŸ§‘â€ğŸ«ğŸ‘¨â€ğŸ«ğŸ‘©â€ğŸ«ğŸ§‘â€âš–ï¸ğŸ‘¨â€âš–ï¸ğŸ‘©â€âš–ï¸ğŸ§‘â€ğŸŒ¾ğŸ‘¨â€ğŸŒ¾ğŸ‘©â€ğŸŒ¾ğŸ§‘â€ğŸ³ğŸ‘¨â€ğŸ³ğŸ‘©â€ğŸ³ğŸ§‘â€ğŸ”§ğŸ‘¨â€ğŸ”§ğŸ‘©â€ğŸ”§ğŸ§‘â€ğŸ­ğŸ‘¨â€ğŸ­ğŸ‘©â€ğŸ­ğŸ§‘â€ğŸ’¼ğŸ‘¨â€ğŸ’¼ğŸ‘©â€ğŸ’¼ğŸ§‘â€ğŸ”¬ğŸ‘¨â€ğŸ”¬ğŸ‘©â€ğŸ”¬ğŸ§‘â€ğŸ’»ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»ğŸ§‘â€ğŸ¤ğŸ‘¨â€ğŸ¤ğŸ‘©â€ğŸ¤ğŸ§‘â€ğŸ¨ğŸ‘¨â€ğŸ¨ğŸ‘©â€ğŸ¨ğŸ§‘â€âœˆï¸ğŸ‘¨â€âœˆï¸ğŸ‘©â€âœˆï¸ğŸ§‘â€ğŸš€ğŸ‘¨â€ğŸš€ğŸ‘©â€ğŸš€ğŸ§‘â€ğŸš’ğŸ‘¨â€ğŸš’ğŸ‘©â€ğŸš’ğŸ‘®ğŸ‘®â€â™‚ï¸ğŸ‘®â€â™€ï¸ğŸ•µï¸ğŸ•µï¸â€â™‚ï¸ğŸ•µï¸â€â™€ï¸ğŸ’‚ğŸ’‚â€â™‚ï¸ğŸ’‚â€â™€ï¸ğŸ¥·ğŸ‘·ğŸ‘·â€â™‚ï¸ğŸ‘·â€â™€ï¸ğŸ¤´ğŸ‘¸ğŸ‘³ğŸ‘³â€â™‚ï¸ğŸ‘³â€â™€ï¸ğŸ‘²ğŸ§•ğŸ¤µğŸ¤µâ€â™‚ï¸ğŸ¤µâ€â™€ï¸ğŸ‘°ğŸ‘°â€â™‚ï¸ğŸ‘°â€â™€ï¸ğŸ¤°ğŸ¤±ğŸ‘©â€ğŸ¼ğŸ‘¨â€ğŸ¼ğŸ§‘â€ğŸ¼ğŸ‘¼ğŸ…ğŸ¤¶ğŸ§‘â€ğŸ„ğŸ¦¸ğŸ¦¸â€â™‚ï¸ğŸ¦¸â€â™€ï¸ğŸ¦¹ğŸ¦¹â€â™‚ï¸ğŸ¦¹â€â™€ï¸ğŸ§™ğŸ§™â€â™‚ï¸ğŸ§™â€â™€ï¸ğŸ§šğŸ§šâ€â™‚ï¸ğŸ§šâ€â™€ï¸ğŸ§›ğŸ§›â€â™‚ï¸ğŸ§›â€â™€ï¸ğŸ§œğŸ§œâ€â™‚ï¸ğŸ§œâ€â™€ï¸ğŸ§ğŸ§â€â™‚ï¸ğŸ§â€â™€ï¸ğŸ§ğŸ§â€â™‚ï¸ğŸ§â€â™€ï¸ğŸ§ŸğŸ§Ÿâ€â™‚ï¸ğŸ§Ÿâ€â™€ï¸ğŸ’†ğŸ’†â€â™‚ï¸ğŸ’†â€â™€ï¸ğŸ’‡ğŸ’‡â€â™‚ï¸ğŸ’‡â€â™€ï¸ğŸš¶ğŸš¶â€â™‚ï¸ğŸš¶â€â™€ï¸ğŸ§ğŸ§â€â™‚ï¸ğŸ§â€â™€ï¸ğŸ§ğŸ§â€â™‚ï¸ğŸ§â€â™€ï¸ğŸ§‘â€ğŸ¦¯ğŸ‘¨â€ğŸ¦¯ğŸ‘©â€ğŸ¦¯ğŸ§‘â€ğŸ¦¼ğŸ‘¨â€ğŸ¦¼ğŸ‘©â€ğŸ¦¼ğŸ§‘â€ğŸ¦½ğŸ‘¨â€ğŸ¦½ğŸ‘©â€ğŸ¦½ğŸƒğŸƒâ€â™‚ï¸ğŸƒâ€â™€ï¸ğŸ’ƒğŸ•ºğŸ•´ï¸ğŸ‘¯ğŸ‘¯â€â™‚ï¸ğŸ‘¯â€â™€ï¸ğŸ§–ğŸ§–â€â™‚ï¸ğŸ§–â€â™€ï¸ğŸ§˜ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ‘­ğŸ‘«ğŸ‘¬ğŸ’ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ğŸ‘¨â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘©ğŸ’‘ğŸ‘©â€â¤ï¸â€ğŸ‘¨ğŸ‘¨â€â¤ï¸â€ğŸ‘¨ğŸ‘©â€â¤ï¸â€ğŸ‘©ğŸ‘ªğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ğŸ‘©â€ğŸ‘©â€ğŸ‘¦ğŸ‘©â€ğŸ‘©â€ğŸ‘§ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘¨â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘§ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ğŸ‘©â€ğŸ‘¦ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘©â€ğŸ‘§ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ—£ï¸ğŸ‘¤ğŸ‘¥</span></p><h1 id="æ‰‹åŠ¿-emoji"><a href="#æ‰‹åŠ¿-emoji" class="headerlink" title="æ‰‹åŠ¿ emoji"></a>æ‰‹åŠ¿ emoji</h1><p><span style="font-size:xx-large">  ğŸ‘‹ğŸ¤šğŸ–ï¸âœ‹ğŸ––ğŸ‘ŒğŸ¤ŒğŸ¤âœŒï¸ğŸ¤ğŸ¤ŸğŸ¤˜ğŸ¤™ğŸ‘ˆğŸ‘‰ğŸ‘†ğŸ–•ğŸ‘‡â˜ï¸ğŸ‘ğŸ‘âœŠğŸ‘ŠğŸ¤›ğŸ¤œğŸ‘ğŸ™ŒğŸ‘ğŸ¤²ğŸ¤ğŸ™âœï¸ğŸ’…ğŸ¤³ğŸ’ª</span></p><h1 id="æ—¥å¸¸-emoji"><a href="#æ—¥å¸¸-emoji" class="headerlink" title="æ—¥å¸¸ emoji"></a>æ—¥å¸¸ emoji</h1><p>ï¸ï¸ï¸ï¸<span style="font-size:xx-large">  ğŸ‘£ğŸ‘€ğŸ‘ï¸ğŸ‘„ğŸ’‹ğŸ‘‚ğŸ¦»ğŸ‘ƒğŸ‘…ğŸ§ ğŸ«€ğŸ«ğŸ¦·ğŸ¦´ğŸ’ªğŸ¦¾ğŸ¦¿ğŸ¦µğŸ¦¶ğŸ‘“ğŸ•¶ï¸ğŸ¥½ğŸ¥¼ğŸ¦ºğŸ‘”ğŸ‘•ğŸ‘–ğŸ§£ğŸ§¤ğŸ§¥ğŸ§¦ğŸ‘—ğŸ‘˜ğŸ¥»ğŸ©±ğŸ©²ğŸ©³ğŸ‘™ğŸ‘šğŸ‘›ğŸ‘œğŸ‘ğŸ’ğŸ©´ğŸ‘ğŸ‘ŸğŸ¥¾ğŸ¥¿ğŸ‘ ğŸ‘¡ğŸ©°ğŸ‘¢ğŸ‘‘ğŸ‘’ğŸ©ğŸ“ğŸ§¢ğŸª–â›‘ï¸ğŸ’„ğŸ’…ğŸ’ğŸ’¼ğŸŒ‚â˜‚ï¸ğŸ’ˆğŸ›€ğŸ›ŒğŸ’¥ğŸ’«ğŸ’¦ğŸ’¨</span><br></span></p><h1 id="æ‰‹æœº-emoji"><a href="#æ‰‹æœº-emoji" class="headerlink" title="æ‰‹æœº emoji"></a>æ‰‹æœº emoji</h1><p><span style="font-size:xx-large">  ğŸ“±ğŸ“²ğŸ“¶ğŸ“³ğŸ“´â˜ğŸ“ğŸ“ŸğŸ“ ğŸ¤³</span></p><h1 id="å…¬å…±-emoji"><a href="#å…¬å…±-emoji" class="headerlink" title="å…¬å…± emoji"></a>å…¬å…± emoji</h1><p><span style="font-size:xx-large">  â™»ğŸ§ğŸš®ğŸš°â™¿ğŸš¹ğŸšºğŸš»ğŸš¼ğŸš¾âš ğŸš¸â›”ğŸš«ğŸš³ğŸš­ğŸš¯ğŸš±ğŸš·ğŸ”ğŸ’ˆ</span></p><h1 id="åŠ¨ç‰©-emoji"><a href="#åŠ¨ç‰©-emoji" class="headerlink" title="åŠ¨ç‰© emoji"></a>åŠ¨ç‰© emoji</h1><p><span style="font-size:xx-large">  ğŸ™ˆğŸ™‰ğŸ™ŠğŸ’¥ğŸ’«ğŸ’¦ğŸ’¨ğŸµğŸ’ğŸ¦ğŸ¦§ğŸ¶ğŸ•ğŸ¦®ğŸ•â€ğŸ¦ºğŸ©ğŸºğŸ¦ŠğŸ¦ğŸ±ğŸˆğŸˆâ€â¬›ğŸ¦ğŸ¯ğŸ…ğŸ†ğŸ´ğŸğŸ¦„ğŸ¦“ğŸ¦ŒğŸ¦¬ğŸ®ğŸ‚ğŸƒğŸ„ğŸ·ğŸ–ğŸ—ğŸ½ğŸğŸ‘ğŸğŸªğŸ«ğŸ¦™ğŸ¦’ğŸ˜ğŸ¦ğŸ¦›ğŸ­ğŸğŸ€ğŸ¹ğŸ°ğŸ‡ğŸ¿ï¸ğŸ¦«ğŸ¦”ğŸ¦‡ğŸ»ğŸ»â€â„ï¸ğŸ¨ğŸ¼ğŸ¦¥ğŸ¦¦ğŸ¦¨ğŸ¦˜ğŸ¦¡ğŸ¾ğŸ¦ƒğŸ”ğŸ“ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ§ğŸ•Šï¸ğŸ¦…ğŸ¦†ğŸ¦¢ğŸ¦‰ğŸ¦©ğŸ¦šğŸ¦œğŸ¸ğŸŠğŸ¢ğŸ¦ğŸğŸ²ğŸ‰ğŸ¦•ğŸ¦–ğŸ³ğŸ‹ğŸ¬ğŸ¦­ğŸŸğŸ ğŸ¡ğŸ¦ˆğŸ™ğŸšğŸŒğŸ¦‹ğŸ›ğŸœğŸğŸª²ğŸğŸ¦—ğŸª³ğŸ•·ï¸ğŸ•¸ï¸ğŸ¦‚ğŸ¦ŸğŸ¦ ğŸ¦€ğŸ¦ğŸ¦ğŸ¦‘</span></p><h1 id="æ¤ç‰©-emoji"><a href="#æ¤ç‰©-emoji" class="headerlink" title="æ¤ç‰© emoji"></a>æ¤ç‰© emoji</h1><p>ï¸ï¸<span style="font-size:xx-large">  ğŸ’ğŸŒ¸ğŸ’®ğŸµï¸ğŸŒ¹ğŸ¥€ğŸŒºğŸŒ»ğŸŒ¼ğŸŒ·ğŸŒ±ğŸŒ²ğŸŒ³ğŸŒ´ğŸŒµğŸŒ¾ğŸŒ¿â˜˜ï¸ğŸ€ğŸğŸ‚ğŸƒ</span></p><h1 id="è‡ªç„¶-emoji"><a href="#è‡ªç„¶-emoji" class="headerlink" title="è‡ªç„¶ emoji"></a>è‡ªç„¶ emoji</h1><p><span style="font-size:xx-large">  ğŸŒğŸŒğŸŒğŸŒğŸª¨ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜ğŸŒ™ğŸŒšğŸŒ›ğŸŒœâ˜€ï¸ğŸŒğŸŒâ­ğŸŒŸğŸŒ â˜ï¸â›…â›ˆï¸ğŸŒ¤ï¸ğŸŒ¥ï¸ğŸŒ¦ï¸ğŸŒ§ï¸ğŸŒ¨ï¸ğŸŒ©ï¸ğŸŒªï¸ğŸŒ«ï¸ğŸŒ¬ï¸ğŸŒˆâ˜‚ï¸â˜”âš¡â„ï¸â˜ƒï¸â›„â˜„ï¸ğŸ”¥ğŸ’§ğŸŒŠ</span></p><h1 id="é¥®é£Ÿ-emoji"><a href="#é¥®é£Ÿ-emoji" class="headerlink" title="é¥®é£Ÿ emoji"></a>é¥®é£Ÿ emoji</h1><p>ï¸<span style="font-size:xx-large">  ğŸ‡ğŸˆğŸ‰ğŸŠğŸ‹ğŸŒğŸğŸ¥­ğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ¥ğŸ…ğŸ¥¥ğŸ¥‘ğŸ†ğŸ¥”ğŸ¥•ğŸŒ½ğŸŒ¶ï¸ğŸ¥’ğŸ¥¬ğŸ¥¦ğŸ§„ğŸ§…ğŸ„ğŸ¥œğŸŒ°ğŸğŸ¥ğŸ¥–ğŸ«“ğŸ¥¨ğŸ¥¯ğŸ¥ğŸ§‡ğŸ§€ğŸ–ğŸ—ğŸ¥©ğŸ¥“ğŸ”ğŸŸğŸ•ğŸŒ­ğŸ¥ªğŸŒ®ğŸŒ¯ğŸ¥™ğŸ§†ğŸ¥šğŸ³ğŸ¥˜ğŸ²ğŸ¥£ğŸ¥—ğŸ¿ğŸ§ˆğŸ§‚ğŸ¥«ğŸ±ğŸ˜ğŸ™ğŸšğŸ›ğŸœğŸğŸ ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¥®ğŸ¡ğŸ¥ŸğŸ¥ ğŸ¥¡ğŸ¦ªğŸ¦ğŸ§ğŸ¨ğŸ©ğŸªğŸ‚ğŸ°ğŸ§ğŸ¥§ğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸ¼ğŸ¥›â˜•ğŸ«–ğŸµğŸ¶ğŸ¾ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¥‚ğŸ¥ƒğŸ¥¤ğŸ§‹ğŸ§ƒğŸ§‰ğŸ§ŠğŸ¥¢ğŸ½ï¸ğŸ´ğŸ¥„</span></p><h1 id="æ–‡ä½“-emoji"><a href="#æ–‡ä½“-emoji" class="headerlink" title="æ–‡ä½“ emoji"></a>æ–‡ä½“ emoji</h1><p><span style="font-size:xx-large">  ğŸ§—ğŸ§—â€â™‚ï¸ğŸ§—â€â™€ï¸ğŸ¤ºğŸ‡â›·ï¸ğŸ‚ğŸŒï¸ğŸŒï¸â€â™‚ï¸ğŸŒï¸â€â™€ï¸ğŸ„ğŸ„â€â™‚ï¸ğŸ„â€â™€ï¸ğŸš£ğŸš£â€â™‚ï¸ğŸš£â€â™€ï¸ğŸŠğŸŠâ€â™‚ï¸ğŸŠâ€â™€ï¸â›¹ï¸â›¹ï¸â€â™‚ï¸â›¹ï¸â€â™€ï¸ğŸ‹ï¸ğŸ‹ï¸â€â™‚ï¸ğŸ‹ï¸â€â™€ï¸ğŸš´ğŸš´â€â™‚ï¸ğŸš´â€â™€ï¸ğŸšµğŸšµâ€â™‚ï¸ğŸšµâ€â™€ï¸ğŸ¤¸ğŸ¤¸â€â™‚ï¸ğŸ¤¸â€â™€ï¸ğŸ¤¼ğŸ¤¼â€â™‚ï¸ğŸ¤¼â€â™€ï¸ğŸ¤½ğŸ¤½â€â™‚ï¸ğŸ¤½â€â™€ï¸ğŸ¤¾ğŸ¤¾â€â™‚ï¸ğŸ¤¾â€â™€ï¸ğŸ¤¹ğŸ¤¹â€â™‚ï¸ğŸ¤¹â€â™€ï¸ğŸ§˜ğŸ§˜â€â™‚ï¸ğŸ§˜â€â™€ï¸ğŸªğŸ›¹ğŸ›¼ğŸ›¶ğŸ—ï¸ğŸŸï¸ğŸ«ğŸ–ï¸ğŸ†ğŸ…ğŸ¥‡ğŸ¥ˆğŸ¥‰âš½âš¾ğŸ¥ğŸ€ğŸğŸˆğŸ‰ğŸ¾ğŸ¥ğŸ³ğŸğŸ‘ğŸ’ğŸ¥ğŸ“ğŸ¸ğŸ¥ŠğŸ¥‹ğŸ¥…â›³â›¸ï¸ğŸ£ğŸ½ğŸ¿ğŸ›·ğŸ¥ŒğŸ¯ğŸ±ğŸ®ğŸ°ğŸ²ğŸ§©â™Ÿï¸ğŸ­ğŸ¨ğŸ§µğŸ§¶ğŸ¼ğŸ¤ğŸ§ğŸ·ğŸª—ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¥ğŸª˜ğŸ¬ğŸ¹</span></p><h1 id="ææ€–-emoji"><a href="#ææ€–-emoji" class="headerlink" title="ææ€– emoji"></a>ææ€– emoji</h1><p><span style="font-size:xx-large">  ğŸ˜ˆğŸ‘¿ğŸ‘¹ğŸ‘ºğŸ’€â˜ ğŸ‘»ğŸ‘½ğŸ‘¾ğŸ’£</span></p><h1 id="æ—…æ¸¸-emoji"><a href="#æ—…æ¸¸-emoji" class="headerlink" title="æ—…æ¸¸ emoji"></a>æ—…æ¸¸ emoji</h1><p><span style="font-size:xx-large">  ğŸ‘£ğŸ ğŸ¡ğŸ¢ğŸš£ğŸ”ï¸â›°ï¸ğŸŒ‹ğŸ—»ğŸ•ï¸ğŸ–ï¸ğŸœï¸ğŸï¸ğŸï¸ğŸŸï¸ğŸ›ï¸ğŸ—ï¸ğŸ›–ğŸ˜ï¸ğŸšï¸ğŸ ğŸ¡ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ¨ğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ¯ğŸ°ğŸ’’ğŸ—¼ğŸ—½â›ªğŸ•ŒğŸ›•ğŸ•â›©ğŸ•‹â›²â›ºğŸŒğŸŒƒğŸ™ï¸ğŸŒ„ğŸŒ…ğŸŒ†ğŸŒ‡ğŸŒ‰ğŸ ğŸ¡ğŸ¢ğŸš‚ğŸšƒğŸš„ğŸš…ğŸš†ğŸš‡ğŸšˆğŸš‰ğŸšŠğŸšğŸšğŸš‹ğŸšŒğŸšğŸšğŸšğŸš‘ğŸš’ğŸš“ğŸš”ğŸš•ğŸš–ğŸš—ğŸš˜ğŸš™ğŸ›»ğŸššğŸš›ğŸšœğŸï¸ğŸï¸ğŸ›µğŸ›ºğŸš²ğŸ›´ğŸšğŸ›£ï¸ğŸ›¤ï¸â›½ğŸš¨ğŸš¥ğŸš¦ğŸš§âš“â›µğŸš¤ğŸ›³ï¸â›´ï¸ğŸ›¥ï¸ğŸš¢âœˆï¸ğŸ›©ï¸ğŸ›«ğŸ›¬ğŸª‚ğŸ’ºğŸšğŸšŸğŸš ğŸš¡ğŸ›°ï¸ğŸš€ğŸ›¸ğŸªğŸŒ ğŸŒŒâ›±ï¸ğŸ†ğŸ‡ğŸ‘ğŸ’´ğŸ’µğŸ’¶ğŸ’·ğŸ—¿ğŸ›‚ğŸ›ƒğŸ›„ğŸ›…ğŸ§­</span></p><h1 id="ç‰©å“-emoji"><a href="#ç‰©å“-emoji" class="headerlink" title="ç‰©å“ emoji"></a>ç‰©å“ emoji</h1><p><span style="font-size:xx-large">  ğŸ’ŒğŸ’ğŸ”ªğŸ’ˆğŸšªğŸš½ğŸš¿ğŸ›âŒ›â³âŒšâ°ğŸˆğŸ‰ğŸŠğŸğŸğŸğŸ€ğŸğŸ“¯ğŸ“»ğŸ“±ğŸ“²â˜ğŸ“ğŸ“ŸğŸ“ ğŸ”‹ğŸ”ŒğŸ’»ğŸ’½ğŸ’¾ğŸ’¿ğŸ“€ğŸ¥ğŸ“ºğŸ“·ğŸ“¹ğŸ“¼ğŸ”ğŸ”ğŸ”¬ğŸ”­ğŸ“¡ğŸ’¡ğŸ”¦ğŸ®ğŸ“”ğŸ“•ğŸ“–ğŸ“—ğŸ“˜ğŸ“™ğŸ“šğŸ““ğŸ“ƒğŸ“œğŸ“„ğŸ“°ğŸ“‘ğŸ”–ğŸ’°ğŸ’´ğŸ’µğŸ’¶ğŸ’·ğŸ’¸ğŸ’³âœ‰ğŸ“§ğŸ“¨ğŸ“©ğŸ“¤ğŸ“¥ğŸ“¦ğŸ“«ğŸ“ªğŸ“¬ğŸ“­ğŸ“®âœâœ’ğŸ“ğŸ“ğŸ“‚ğŸ“…ğŸ“†ğŸ“‡ğŸ“ˆğŸ“‰ğŸ“ŠğŸ“‹ğŸ“ŒğŸ“ğŸ“ğŸ“ğŸ“âœ‚ğŸ”’ğŸ”“ğŸ”ğŸ”ğŸ”‘ğŸ”¨ğŸ”«ğŸ”§ğŸ”©ğŸ”—ğŸ’‰ğŸ’ŠğŸš¬ğŸ”®ğŸš©ğŸŒğŸ’¦ğŸ’¨</span></p><h1 id="æ ‡å¿—-emoji"><a href="#æ ‡å¿—-emoji" class="headerlink" title="æ ‡å¿— emoji"></a>æ ‡å¿— emoji</h1><p><span style="font-size:xx-large">  â™ ï¸â™¥ï¸â™¦ï¸â™£ï¸ğŸƒğŸ€„ğŸ´ğŸ”‡ğŸ”ˆğŸ”‰ğŸ”ŠğŸ“¢ğŸ“£ğŸ“¯ğŸ””ğŸ”•ğŸµğŸ¶ğŸ’¹ğŸ›—ğŸ§ğŸš®ğŸš°â™¿ğŸš¹ğŸšºğŸš»ğŸš¼ğŸš¾âš ï¸ğŸš¸â›”ğŸš«ğŸš³ğŸš­ğŸš¯ğŸš±ğŸš·ğŸ“µğŸ”â˜¢ï¸â˜£ï¸â¬†ï¸â†—ï¸â¡ï¸â†˜ï¸â¬‡ï¸â†™ï¸â¬…ï¸â†–ï¸â†•ï¸â†”ï¸â†©ï¸â†ªï¸â¤´ï¸â¤µï¸ğŸ”ƒğŸ”„ğŸ”™ğŸ”šğŸ”›ğŸ”œğŸ”ğŸ›âš›ï¸ğŸ•‰ï¸âœ¡ï¸â˜¸ï¸â˜¯ï¸âœï¸â˜¦ï¸â˜ªï¸â˜®ï¸ğŸ•ğŸ”¯â™ˆâ™‰â™Šâ™‹â™Œâ™â™â™â™â™‘â™’â™“â›ğŸ”€ğŸ”ğŸ”‚â–¶ï¸â©â­ï¸â¯ï¸â—€ï¸âªâ®ï¸ğŸ”¼â«ğŸ”½â¬â¸ï¸â¹ï¸âºï¸âï¸ğŸ¦ğŸ”…ğŸ”†ğŸ“¶ğŸ“³ğŸ“´â™€ï¸â™‚ï¸âœ–ï¸â•â–â—â™¾ï¸â€¼ï¸â‰ï¸â“â”â•â—ã€°ï¸ğŸ’±ğŸ’²âš•ï¸â™»ï¸âšœï¸ğŸ”±ğŸ“›ğŸ”°â­•âœ…â˜‘ï¸âœ”ï¸âŒââ°â¿ ã€½ï¸âœ³ï¸âœ´ï¸â‡ï¸Â©ï¸Â®ï¸â„¢ï¸<span style="font-size:xx-large"> ï¸âƒ£*ï¸âƒ£0ï¸âƒ£1ï¸âƒ£2ï¸âƒ£3ï¸âƒ£4ï¸âƒ£5ï¸âƒ£6ï¸âƒ£7ï¸âƒ£8ï¸âƒ£9ï¸âƒ£ğŸ”ŸğŸ” ğŸ”¡ğŸ”¢ğŸ”£ğŸ”¤ğŸ…°ï¸ğŸ†ğŸ…±ï¸ğŸ†‘ğŸ†’ğŸ†“â„¹ï¸ğŸ†”â“‚ï¸ğŸ†•ğŸ†–ğŸ…¾ï¸ğŸ†—ğŸ…¿ï¸ğŸ†˜ğŸ†™ğŸ†šğŸˆğŸˆ‚ï¸ğŸˆ·ï¸ğŸˆ¶ğŸˆ¯ğŸ‰ğŸˆ¹ğŸˆšğŸˆ²ğŸ‰‘ğŸˆ¸ğŸˆ´ğŸˆ³ãŠ—ï¸ãŠ™ï¸ğŸˆºğŸˆµğŸ”´ğŸŸ ğŸŸ¡ğŸŸ¢ğŸ”µğŸŸ£ğŸŸ¤âš«âšªğŸŸ¥ğŸŸ§ğŸŸ¨ğŸŸ©ğŸŸ¦ğŸŸªğŸŸ«â¬›â¬œâ—¼ï¸â—»ï¸â—¾â—½â–ªï¸â–«ï¸ğŸ”¶ğŸ”·ğŸ”¸ğŸ”¹ğŸ”ºğŸ”»ğŸ’ ğŸ”˜ğŸ”³ğŸ”²ğŸğŸš©ğŸŒğŸ´ğŸ³ï¸ğŸ³ï¸â€ğŸŒˆğŸ³ï¸â€âš§ï¸ğŸ´â€â˜ ï¸<br></span></p><h1 id="ç”Ÿè‚–-emoji"><a href="#ç”Ÿè‚–-emoji" class="headerlink" title="ç”Ÿè‚– emoji"></a>ç”Ÿè‚– emoji</h1><p><span style="font-size:xx-large">  ğŸğŸ‚ğŸ…ğŸ‡ğŸ‰ğŸğŸğŸğŸ’ğŸ“ğŸ•ğŸ–</span></p><h1 id="æ˜Ÿåº§-emoji"><a href="#æ˜Ÿåº§-emoji" class="headerlink" title="æ˜Ÿåº§ emoji"></a>æ˜Ÿåº§ emoji</h1><p><span style="font-size:xx-large">  â™ˆâ™‰â™Šâ™‹â™Œâ™â™â™â™â™‘â™’â™“â›</span></p><h1 id="é’Ÿè¡¨-emoji"><a href="#é’Ÿè¡¨-emoji" class="headerlink" title="é’Ÿè¡¨ emoji"></a>é’Ÿè¡¨ emoji</h1><p><span style="font-size:xx-large">  ğŸ•›ğŸ•§ğŸ•ğŸ•œğŸ•‘ğŸ•ğŸ•’ğŸ•ğŸ•“ğŸ•ŸğŸ•”ğŸ• ğŸ••ğŸ•¡ğŸ•–ğŸ•¢ğŸ•—ğŸ•£ğŸ•˜ğŸ•¤ğŸ•™ğŸ•¥ğŸ•šğŸ•¦âŒ›â³âŒšâ°â±â²ğŸ•°</span></p><h1 id="å¿ƒå½¢-emoji"><a href="#å¿ƒå½¢-emoji" class="headerlink" title="å¿ƒå½¢ emoji"></a>å¿ƒå½¢ emoji</h1><p><span style="font-size:xx-large">  ğŸ’˜â¤ğŸ’“ğŸ’”ğŸ’•ğŸ’–ğŸ’—ğŸ’™ğŸ’šğŸ’›ğŸ’œğŸ’ğŸ’ğŸ’Ÿâ£</span></p><h1 id="èŠ±è‰-emoji"><a href="#èŠ±è‰-emoji" class="headerlink" title="èŠ±è‰ emoji"></a>èŠ±è‰ emoji</h1><p>ï¸ï¸<span style="font-size:xx-large">  ğŸ’ğŸŒ¸ğŸ’®ğŸµï¸ğŸŒ¹ğŸ¥€ğŸŒºğŸŒ»ğŸŒ¼ğŸŒ·ğŸŒ±ğŸŒ¿â˜˜ï¸ğŸ€</span></p><h1 id="æ ‘å¶-emoji"><a href="#æ ‘å¶-emoji" class="headerlink" title="æ ‘å¶ emoji"></a>æ ‘å¶ emoji</h1><p><span style="font-size:xx-large">  ğŸŒ¿â˜˜ï¸ğŸ€ğŸğŸ‚ğŸƒ</span></p><h1 id="æœˆäº®-emoji"><a href="#æœˆäº®-emoji" class="headerlink" title="æœˆäº® emoji"></a>æœˆäº® emoji</h1><p><span style="font-size:xx-large">  ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜ğŸŒ™ğŸŒšğŸŒ›ğŸŒœğŸŒ</span></p><h1 id="æ°´æœ-emoji"><a href="#æ°´æœ-emoji" class="headerlink" title="æ°´æœ emoji"></a>æ°´æœ emoji</h1><p><span style="font-size:xx-large">  ğŸ‡ğŸˆğŸ‰ğŸŠğŸ‹ğŸŒğŸğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ¥</span></p><h1 id="é’±å¸-emoji"><a href="#é’±å¸-emoji" class="headerlink" title="é’±å¸ emoji"></a>é’±å¸ emoji</h1><p><span style="font-size:xx-large">  ğŸ’´ğŸ’µğŸ’¶ğŸ’·ğŸ’°ğŸ’¸ğŸ’³</span></p><h1 id="äº¤é€š-emoji"><a href="#äº¤é€š-emoji" class="headerlink" title="äº¤é€š emoji"></a>äº¤é€š emoji</h1><p><span style="font-size:xx-large">  ğŸš‚ğŸšƒğŸš„ğŸš…ğŸš†ğŸš‡ğŸšˆğŸš‰ğŸšŠğŸšğŸšğŸš‹ğŸšŒğŸšğŸšğŸšğŸšğŸš‘ğŸš’ğŸš“ğŸš”ğŸš•ğŸš–ğŸš—ğŸš˜ğŸššğŸš›ğŸšœğŸš²â›½ğŸš¨ğŸš¥ğŸš¦ğŸš§âš“â›µğŸš£ğŸš¤ğŸš¢âœˆğŸ’ºğŸšğŸšŸğŸš ğŸš¡ğŸš€</span></p><h1 id="å»ºç­‘-emoji"><a href="#å»ºç­‘-emoji" class="headerlink" title="å»ºç­‘ emoji"></a>å»ºç­‘ emoji</h1><p><span style="font-size:xx-large">  ğŸŸï¸ğŸ›ï¸ğŸ—ï¸ğŸ›–ğŸ˜ï¸ğŸšï¸ğŸ ğŸ¡ğŸ¢ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ¨ğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ¯ğŸ°ğŸ’’ğŸ—¼ğŸ—½â›ªğŸ•ŒğŸ›•ğŸ•â›©ï¸ğŸ•‹â›²â›ºğŸŒğŸŒƒğŸ™ï¸ğŸŒ„ğŸŒ…ğŸŒ†ğŸŒ‡ğŸŒ‰</span></p><h1 id="åŠå…¬-emoji"><a href="#åŠå…¬-emoji" class="headerlink" title="åŠå…¬ emoji"></a>åŠå…¬ emoji</h1><p><span style="font-size:xx-large">  ğŸ“±ğŸ“²â˜ï¸ğŸ“ğŸ“ŸğŸ“ ğŸ”‹ğŸ”ŒğŸ’»ğŸ–¥ï¸ğŸ–¨ï¸âŒ¨ï¸ğŸ–±ï¸ğŸ–²ï¸ğŸ’½ğŸ’¾ğŸ’¿ğŸ“€ğŸ§®ğŸ¥ğŸï¸ğŸ“½ï¸ğŸ“ºğŸ“·ğŸ“¸ğŸ“¹ğŸ“¼ğŸ”ğŸ”ğŸ•¯ï¸ğŸ’¡ğŸ”¦ğŸ®ğŸª”ğŸ“”ğŸ“•ğŸ“–ğŸ“—ğŸ“˜ğŸ“™ğŸ“šğŸ““ğŸ“’ğŸ“ƒğŸ“œğŸ“„ğŸ“°ğŸ—ï¸ğŸ“‘ğŸ”–ğŸ·ï¸ğŸ’°ğŸª™ğŸ’´ğŸ’µğŸ’¶ğŸ’·ğŸ’¸ğŸ’³ğŸ§¾âœ‰ï¸ğŸ“§ğŸ“¨ğŸ“©ğŸ“¤ğŸ“¥ğŸ“¦ğŸ“«ğŸ“ªğŸ“¬ğŸ“­ğŸ“®ğŸ—³ï¸âœï¸âœ’ï¸ğŸ–‹ï¸ğŸ–Šï¸ğŸ–Œï¸ğŸ–ï¸ğŸ“ğŸ“ğŸ“‚ğŸ—‚ï¸ğŸ“…ğŸ“†ğŸ—’ï¸ğŸ—“ï¸ğŸ“‡ğŸ“ˆğŸ“‰ğŸ“ŠğŸ“‹ğŸ“ŒğŸ“ğŸ“ğŸ–‡ï¸ğŸ“ğŸ“âœ‚ï¸ğŸ—ƒï¸ğŸ—„ï¸ğŸ—‘ï¸ğŸ”’ğŸ”“ğŸ”ğŸ”ğŸ”‘ğŸ—ï¸</span></p><h1 id="ç®­å¤´-emoji"><a href="#ç®­å¤´-emoji" class="headerlink" title="ç®­å¤´ emoji"></a>ç®­å¤´ emoji</h1><p><span style="font-size:xx-large">  â¬†â†—â¡â†˜â¬‡â†™â¬…â†–â†•â†”â†©â†ªâ¤´â¤µğŸ”ƒğŸ”„ğŸ”™ğŸ”šğŸ”›ğŸ”œğŸ”</span></p><h1 id="æ•°å­—-emoji"><a href="#æ•°å­—-emoji" class="headerlink" title="æ•°å­— emoji"></a>æ•°å­— emoji</h1><p><span style="font-size:xx-large">  <span style="font-size:xx-large"> ï¸âƒ£*ï¸âƒ£0ï¸âƒ£1ï¸âƒ£2ï¸âƒ£3ï¸âƒ£4ï¸âƒ£5ï¸âƒ£6ï¸âƒ£7ï¸âƒ£8ï¸âƒ£9ï¸âƒ£</span></p><h1 id="æ±‰å­—-emoji"><a href="#æ±‰å­—-emoji" class="headerlink" title="æ±‰å­— emoji"></a>æ±‰å­— emoji</h1><p><span style="font-size:xx-large">  ğŸˆ·ï¸ğŸˆ¶ğŸˆ¯ğŸ‰ğŸˆ¹ğŸˆšğŸˆ²ğŸ‰‘ğŸˆ¸ğŸˆ´ğŸˆ³ãŠ—ï¸ãŠ™ï¸ğŸˆºğŸˆµ</span></p><h1 id="åœ†åœˆ-emoji"><a href="#åœ†åœˆ-emoji" class="headerlink" title="åœ†åœˆ emoji"></a>åœ†åœˆ emoji</h1><p><span style="font-size:xx-large">  ğŸ”´ğŸŸ ğŸŸ¡ğŸŸ¢ğŸ”µğŸŸ£ğŸŸ¤âš«âšª â€ â€ â€â€ â€â€ â€â€ </span></p><h1 id="å¤©æ°”-emoji"><a href="#å¤©æ°”-emoji" class="headerlink" title="å¤©æ°” emoji"></a>å¤©æ°” emoji</h1><p><span style="font-size:xx-large">  â›…â˜â›ˆâ˜€âš¡â„â˜ƒâ›„â˜”â˜‚ÏŸâ˜€â˜â˜‚â˜ƒâ˜„â˜‰â˜¼â˜½â˜¾â™¨â„â…â†</span></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>go ioutilåŒ…1.16èµ·å¼ƒç”¨ ä½¿ç”¨ioåŒ…ä»£æ›¿</title>
      <link href="/posts/31408/"/>
      <url>/posts/31408/</url>
      
        <content type="html"><![CDATA[<p>20 å¹´ 10 æœˆä»½ï¼ŒGo æŒèˆµäºº Russ Cox å·²ç»æœ‰åºŸå¼ƒ ioutil åŒ…çš„ææ¡ˆ[1]ï¼ŒåºŸå¼ƒåŸå› æ˜¯:io&#x2F;ioutil, like most things with util in the name, has turned out to be a poorly defined and hard to understand collection of things.</p><p>åç»­çš„å‡ æ¬¡ä»£ç æäº¤ä¹Ÿè¯å®äº†è¿™ä¸€ç‚¹ï¼Œä» Go 1.16 å¼€å§‹ä¼šåºŸå¼ƒ io&#x2F;ioutil åŒ…ï¼Œç›¸å…³çš„åŠŸèƒ½ä¼šæŒªåˆ° io åŒ…æˆ– os åŒ…</p><p>ç›¸å…³è¿æ¥ <a href="https://github.com/go-critic/go-critic/issues/1019">https://github.com/go-critic/go-critic/issues/1019</a></p><p>ä¾‹å¦‚ ioutil.NopCloseræ–¹æ³•, æ”¹ä¸ºio.NopCloseræ–¹æ³•å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>go sha256withRSAç­¾å base64</title>
      <link href="/posts/44058/"/>
      <url>/posts/44058/</url>
      
        <content type="html"><![CDATA[<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> utils</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;crypto&quot;</span></span><br><span class="line"><span class="string">&quot;crypto/rand&quot;</span></span><br><span class="line"><span class="string">&quot;crypto/rsa&quot;</span></span><br><span class="line"><span class="string">&quot;crypto/sha256&quot;</span></span><br><span class="line"><span class="string">&quot;crypto/x509&quot;</span></span><br><span class="line"><span class="string">&quot;encoding/base64&quot;</span></span><br><span class="line"><span class="string">&quot;encoding/pem&quot;</span></span><br><span class="line"><span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**å®ä¾‹</span></span><br><span class="line"><span class="comment">//ç”Ÿæˆå¯†é’¥æ–‡ä»¶</span></span><br><span class="line"><span class="comment">GenerateRSAKey(2048)</span></span><br><span class="line"><span class="comment">//æ¨¡æ‹Ÿå‘é€æ–¹</span></span><br><span class="line"><span class="comment">//è¦å‘é€çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">msg := []byte(&quot;hello world&quot;)</span></span><br><span class="line"><span class="comment">//ç”Ÿæˆç­¾å</span></span><br><span class="line"><span class="comment">sign := GetSign(msg, &quot;private.pem&quot;)</span></span><br><span class="line"><span class="comment">fmt.Println(&quot;signlen lenlen&quot;, string(sign))</span></span><br><span class="line"><span class="comment">//æ¨¡æ‹Ÿæ¥æ”¶æ–¹</span></span><br><span class="line"><span class="comment">//æ¥å—åˆ°çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">acceptmsg := []byte(&quot;hello world&quot;)</span></span><br><span class="line"><span class="comment">//æ¥å—åˆ°çš„ç­¾å</span></span><br><span class="line"><span class="comment">acceptsign := sign</span></span><br><span class="line"><span class="comment">//éªŒè¯ç­¾å</span></span><br><span class="line"><span class="comment">result := VerifySign(acceptmsg, acceptsign, &quot;public.pem&quot;)</span></span><br><span class="line"><span class="comment">fmt.Println(&quot;éªŒè¯ç»“æœï¼š&quot;, result)</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”ŸæˆRSAç§é’¥å’Œå…¬é’¥ï¼Œä¿å­˜åˆ°æ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GenerateRSAKey</span><span class="params">(bits <span class="type">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">//GenerateKeyå‡½æ•°ä½¿ç”¨éšæœºæ•°æ®ç”Ÿæˆå™¨randomç”Ÿæˆä¸€å¯¹å…·æœ‰æŒ‡å®šå­—ä½æ•°çš„RSAå¯†é’¥</span></span><br><span class="line"><span class="comment">//Readeræ˜¯ä¸€ä¸ªå…¨å±€ã€å…±äº«çš„å¯†ç ç”¨å¼ºéšæœºæ•°ç”Ÿæˆå™¨</span></span><br><span class="line">privateKey, err := rsa.GenerateKey(rand.Reader, bits)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¿å­˜ç§é’¥</span></span><br><span class="line"><span class="comment">//é€šè¿‡x509æ ‡å‡†å°†å¾—åˆ°çš„rasç§é’¥åºåˆ—åŒ–ä¸ºASN.1 çš„ DERç¼–ç å­—ç¬¦ä¸²</span></span><br><span class="line">X509PrivateKey := x509.MarshalPKCS1PrivateKey(privateKey)</span><br><span class="line"><span class="comment">//ä½¿ç”¨pemæ ¼å¼å¯¹x509è¾“å‡ºçš„å†…å®¹è¿›è¡Œç¼–ç </span></span><br><span class="line"><span class="comment">//åˆ›å»ºæ–‡ä»¶ä¿å­˜ç§é’¥</span></span><br><span class="line">privateFile, err := os.Create(<span class="string">&quot;private.pem&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> privateFile.Close()</span><br><span class="line"><span class="comment">//æ„å»ºä¸€ä¸ªpem.Blockç»“æ„ä½“å¯¹è±¡</span></span><br><span class="line">privateBlock := pem.Block&#123;Type: <span class="string">&quot;RSA Private Key&quot;</span>, Bytes: X509PrivateKey&#125;</span><br><span class="line"><span class="comment">//å°†æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶</span></span><br><span class="line">pem.Encode(privateFile, &amp;privateBlock)</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿å­˜å…¬é’¥</span></span><br><span class="line"><span class="comment">//è·å–å…¬é’¥çš„æ•°æ®</span></span><br><span class="line">publicKey := privateKey.PublicKey</span><br><span class="line"><span class="comment">//X509å¯¹å…¬é’¥ç¼–ç </span></span><br><span class="line">X509PublicKey, err := x509.MarshalPKIXPublicKey(&amp;publicKey)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//pemæ ¼å¼ç¼–ç </span></span><br><span class="line"><span class="comment">//åˆ›å»ºç”¨äºä¿å­˜å…¬é’¥çš„æ–‡ä»¶</span></span><br><span class="line">publicFile, err := os.Create(<span class="string">&quot;public.pem&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> publicFile.Close()</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªpem.Blockç»“æ„ä½“å¯¹è±¡</span></span><br><span class="line">publicBlock := pem.Block&#123;Type: <span class="string">&quot;RSA Public Key&quot;</span>, Bytes: X509PublicKey&#125;</span><br><span class="line"><span class="comment">//ä¿å­˜åˆ°æ–‡ä»¶</span></span><br><span class="line">pem.Encode(publicFile, &amp;publicBlock)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–RSAç§é’¥</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetRSAPrivateKey</span><span class="params">(path <span class="type">string</span>)</span></span> *rsa.PrivateKey &#123;</span><br><span class="line"><span class="comment">//è¯»å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line">file, err := os.Open(path)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> file.Close()</span><br><span class="line">info, _ := file.Stat()</span><br><span class="line">buf := <span class="built_in">make</span>([]<span class="type">byte</span>, info.Size())</span><br><span class="line">file.Read(buf)</span><br><span class="line"><span class="comment">//pemè§£ç </span></span><br><span class="line">block, _ := pem.Decode(buf)</span><br><span class="line"><span class="comment">//X509è§£ç </span></span><br><span class="line">privateKey, err := x509.ParsePKCS1PrivateKey(block.Bytes)</span><br><span class="line"><span class="keyword">return</span> privateKey</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–RSAå…¬é’¥</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetRSAPublicKey</span><span class="params">(path <span class="type">string</span>)</span></span> *rsa.PublicKey &#123;</span><br><span class="line"><span class="comment">//è¯»å–å…¬é’¥å†…å®¹</span></span><br><span class="line">file, err := os.Open(path)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> file.Close()</span><br><span class="line">info, _ := file.Stat()</span><br><span class="line">buf := <span class="built_in">make</span>([]<span class="type">byte</span>, info.Size())</span><br><span class="line">file.Read(buf)</span><br><span class="line"><span class="comment">//pemè§£ç </span></span><br><span class="line">block, _ := pem.Decode(buf)</span><br><span class="line"><span class="comment">//x509è§£ç </span></span><br><span class="line">publicKeyInterface, err := x509.ParsePKIXPublicKey(block.Bytes)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">publicKey := publicKeyInterface.(*rsa.PublicKey)</span><br><span class="line"><span class="keyword">return</span> publicKey</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹æ¶ˆæ¯çš„æ•£åˆ—å€¼è¿›è¡Œæ•°å­—ç­¾å</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetSign</span><span class="params">(msg []<span class="type">byte</span>, path <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="comment">//å–å¾—ç§é’¥</span></span><br><span class="line">privateKey := GetRSAPrivateKey(path)</span><br><span class="line"><span class="comment">//è®¡ç®—æ•£åˆ—å€¼</span></span><br><span class="line">hash := sha256.New()</span><br><span class="line">hash.Write(msg)</span><br><span class="line">bytes := hash.Sum(<span class="literal">nil</span>)</span><br><span class="line"><span class="comment">//SignPKCS1v15ä½¿ç”¨RSA PKCS#1 v1.5è§„å®šçš„RSASSA-PKCS1-V1_5-SIGNç­¾åæ–¹æ¡ˆè®¡ç®—ç­¾å</span></span><br><span class="line">sign, err := rsa.SignPKCS1v15(rand.Reader, privateKey, crypto.SHA256, bytes)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(sign)</span><br><span class="line">&#125;</span><br><span class="line">signStr := base64.StdEncoding.EncodeToString(sign)</span><br><span class="line"><span class="keyword">return</span> signStr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯æ•°å­—ç­¾å</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">VerifySign</span><span class="params">(msg []<span class="type">byte</span>, sign <span class="type">string</span>, path <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"><span class="comment">//å–å¾—å…¬é’¥</span></span><br><span class="line">publicKey := GetRSAPublicKey(path)</span><br><span class="line"><span class="comment">//è®¡ç®—æ¶ˆæ¯æ•£åˆ—å€¼</span></span><br><span class="line">hash := sha256.New()</span><br><span class="line">hash.Write(msg)</span><br><span class="line">bytes := hash.Sum(<span class="literal">nil</span>)</span><br><span class="line"><span class="comment">//éªŒè¯æ•°å­—ç­¾å</span></span><br><span class="line">signBaseDe, _ := base64.StdEncoding.DecodeString(sign)</span><br><span class="line">err := rsa.VerifyPKCS1v15(publicKey, crypto.SHA256, bytes, signBaseDe)</span><br><span class="line"><span class="keyword">return</span> err == <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>goç¬¬äºŒæ¬¡è·å–bodyè·å–ä¸åˆ°é—®é¢˜</title>
      <link href="/posts/49443/"/>
      <url>/posts/49443/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨os.ReadAll(r.Body)æ–¹æ³•å,éœ€è¦æ‰§è¡Œä¸‹é¢æ–¹æ³•,å°†bodyé‡æ–°å†™å›å»</p><figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">ctx.Request.Body = io.NopCloser(bytes.NewBuffer(signStrByte)) <span class="comment">// æŠŠbodyå†å†™å›å»,ä¸ç„¶åˆ«çš„åœ°æ–¹å–ä¸åˆ°</span></span><br></pre></td></tr></table></figure><p>ç»å®è·µå‘ç° ä½¿ç”¨gin.Context.Bindxxxç›¸å…³æ–¹æ³• ,ä¹Ÿéœ€è¦æ‰§è¡Œä¸Šè¿°æ–¹æ³•é‡å†™body</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>golang ginæ¥å£ç­¾åsign</title>
      <link href="/posts/32888/"/>
      <url>/posts/32888/</url>
      
        <content type="html"><![CDATA[<p>golang ginæ¥å£ç­¾åsign</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">gin.Default().Group(<span class="string">&quot;&quot;</span>).Use(xxx.CheckSign())</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//æ³¨å†Œéœ€è¦ç­¾åçš„è·¯ç”±</span></span><br><span class="line">gin.Default().Group(<span class="string">&quot;testrouter&quot;</span>).POST(<span class="string">&quot;dotest&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(ctx *gin.Context)</span></span> &#123;</span><br><span class="line">response.Result(<span class="number">401</span>, gin.H&#123;&#125;, <span class="string">&quot;hello&quot;</span>, ctx)</span><br><span class="line">&#125;) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>sign.go ç­¾å éªŒç­¾</p><figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> xxx</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;crypto/sha256&quot;</span></span><br><span class="line"><span class="string">&quot;encoding/hex&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/flipped-aurora/gin-vue-admin/server/model/common/response&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">SignWrong  = <span class="string">&quot;sign wrong&quot;</span></span><br><span class="line">SignNull   = <span class="string">&quot;sign null&quot;</span></span><br><span class="line">ApiKeyNull = <span class="string">&quot;sign null&quot;</span></span><br><span class="line">UserWrong  = <span class="string">&quot;username wrong&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CheckSign</span><span class="params">()</span></span> gin.HandlerFunc &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">reqData := &amp;RequestHttp&#123;</span><br><span class="line">Ctx:    c,</span><br><span class="line">Params: <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line">apiKey := c.Request.FormValue(<span class="string">&quot;api_key&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> apiKey == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">response.Result(<span class="number">401</span>, gin.H&#123;&#125;, ApiKeyNull, c)</span><br><span class="line">c.Abort()</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">apiSecret := <span class="string">&quot;&quot;</span></span><br><span class="line">signReq := c.Request.FormValue(<span class="string">&quot;sign&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> signReq == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">response.Result(<span class="number">401</span>, gin.H&#123;&#125;, SignNull, c)</span><br><span class="line">c.Abort()</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">signStr := reqData.RequestParams(<span class="string">&quot;sign&quot;</span>) + apiSecret</span><br><span class="line">fmt.Println(signStr, <span class="string">&quot;signStr&quot;</span>)</span><br><span class="line">signReal := SignEncode(signStr)</span><br><span class="line"><span class="keyword">if</span> signReq != signReal &#123;</span><br><span class="line">response.Result(<span class="number">401</span>, gin.H&#123;&#125;, SignWrong, c)</span><br><span class="line">c.Abort()</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">c.Next()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@function: SignEncode</span></span><br><span class="line"><span class="comment">//@description: ç”Ÿæˆsign</span></span><br><span class="line"><span class="comment">//@param: message string</span></span><br><span class="line"><span class="comment">//@return: sign string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SignEncode</span><span class="params">(message <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> GetSHA256HashCode(message)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@function: GetSHA256HashCode</span></span><br><span class="line"><span class="comment">//@description: SHA256ç”Ÿæˆå“ˆå¸Œå€¼</span></span><br><span class="line"><span class="comment">//@param: message string</span></span><br><span class="line"><span class="comment">//@return: hashCode string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetSHA256HashCode</span><span class="params">(message <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">messageArr := []<span class="type">byte</span>(message)</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªåŸºäºSHA256ç®—æ³•çš„hash.Hashæ¥å£çš„å¯¹è±¡</span></span><br><span class="line">hash := sha256.New()</span><br><span class="line"><span class="comment">//è¾“å…¥æ•°æ®</span></span><br><span class="line">hash.Write(messageArr)</span><br><span class="line"><span class="comment">//è®¡ç®—å“ˆå¸Œå€¼</span></span><br><span class="line">bytes := hash.Sum(<span class="literal">nil</span>)</span><br><span class="line"><span class="comment">//å°†å­—ç¬¦ä¸²ç¼–ç ä¸º16è¿›åˆ¶æ ¼å¼,è¿”å›å­—ç¬¦ä¸²</span></span><br><span class="line">hashCode := hex.EncodeToString(bytes)</span><br><span class="line"><span class="comment">//è¿”å›å“ˆå¸Œå€¼</span></span><br><span class="line"><span class="keyword">return</span> hashCode</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>get_request.go è·å–è¯·æ±‚å‚æ•°,è½¬æ¢è¯·æ±‚å‚æ•°ä¸ºstring,å‚æ•°keyæ’åº</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> xxx</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;sort&quot;</span></span><br><span class="line"><span class="string">&quot;strings&quot;</span></span><br><span class="line"><span class="string">&quot;sync&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/gin-gonic/gin/binding&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> RequestHttp <span class="keyword">struct</span> &#123;</span><br><span class="line">Ctx    *gin.Context</span><br><span class="line">Params <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">lock   sync.Mutex</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@function: JoinParamsStr</span></span><br><span class="line"><span class="comment">//@description: è¯·æ±‚å‚æ•°è½¬æ¢å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">//@param: message string</span></span><br><span class="line"><span class="comment">//@return: a=1&amp;b=2 string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RequestHttp)</span></span> JoinParamsStr() <span class="type">string</span> &#123;</span><br><span class="line"><span class="comment">//å…ˆæŒ‰key æ’åº å‡åº ASCII å‡åº</span></span><br><span class="line">keys := <span class="built_in">make</span>([]<span class="type">string</span>, <span class="number">0</span>, <span class="built_in">len</span>(r.Params))</span><br><span class="line"><span class="keyword">for</span> k := <span class="keyword">range</span> r.Params &#123;</span><br><span class="line">keys = <span class="built_in">append</span>(keys, k)</span><br><span class="line">&#125;</span><br><span class="line">sort.Strings(keys)</span><br><span class="line"><span class="keyword">var</span> params []<span class="type">string</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(r.Params) &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">for</span> _, k := <span class="keyword">range</span> keys &#123;</span><br><span class="line">params = <span class="built_in">append</span>(params, fmt.Sprintf(<span class="string">&quot;%s=%v&quot;</span>, k, r.Params[k]))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> strings.Join(params, <span class="string">&quot;&amp;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@function: RequestParams</span></span><br><span class="line"><span class="comment">//@description: è·å–å‚æ•°é›†åˆ</span></span><br><span class="line"><span class="comment">//@param: exclude string æ’é™¤key</span></span><br><span class="line"><span class="comment">//@return: hashCode string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RequestHttp)</span></span> RequestParams(exclude <span class="type">string</span>) <span class="type">string</span> &#123;</span><br><span class="line">ctx := r.Ctx</span><br><span class="line">bindParams := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;&#125;</span><br><span class="line"><span class="keyword">if</span> ctx.Request.Method == <span class="string">&quot;POST&quot;</span> &#123;</span><br><span class="line">contextType := ctx.Request.Header.Get(<span class="string">&quot;Content-Type&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> contextType == <span class="string">&quot;application/json&quot;</span> &#123;</span><br><span class="line">err := ctx.ShouldBindBodyWith(&amp;bindParams, binding.JSON)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123; <span class="comment">//æŠ¥é”™</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;nyx_request_mid_error %v,err: %v \n&quot;</span>, bindParams, err)</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(bindParams) &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> bindParams &#123;</span><br><span class="line">r.Add(k, v)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">_ = ctx.Request.ParseMultipartForm(<span class="number">32</span> &lt;&lt; <span class="number">20</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(ctx.Request.PostForm) &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> ctx.Request.PostForm &#123;</span><br><span class="line">r.Add(k, v[<span class="number">0</span>])</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">var</span> tmpParams = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">err2 := ctx.ShouldBind(&amp;tmpParams)</span><br><span class="line"><span class="keyword">if</span> err2 != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;nyx_request_mid_error %v,err: %v \n&quot;</span>, bindParams, err2)</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> tmpParams &#123;</span><br><span class="line">r.Add(k, v)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">r.Delete(exclude)</span><br><span class="line"><span class="keyword">return</span> r.JoinParamsStr()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RequestHttp)</span></span> Add(key <span class="type">string</span>, value <span class="keyword">interface</span>&#123;&#125;) &#123;</span><br><span class="line">r.lock.Lock()</span><br><span class="line">r.Params[key] = value</span><br><span class="line">r.lock.Unlock()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *RequestHttp)</span></span> Delete(key <span class="type">string</span>) &#123;</span><br><span class="line">r.lock.Lock()</span><br><span class="line"><span class="keyword">if</span> _, ok := r.Params[key]; ok &#123;</span><br><span class="line"><span class="built_in">delete</span>(r.Params, key)</span><br><span class="line">&#125;</span><br><span class="line">r.lock.Unlock()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•åœ¨æ‰‹æœºä¸Šæ¸…é™¤å…¬ä¼—å·é¡µé¢æˆæƒ? åœ¨å¾®ä¿¡ä¸Šæ¸…é™¤å…¬ä¼—å·ä¸ªäººä¿¡æ¯æˆæƒ</title>
      <link href="/posts/22609/"/>
      <url>/posts/22609/</url>
      
        <content type="html"><![CDATA[<h4 id="1-é¦–å…ˆå–å…³å…¬ä¼—å·"><a href="#1-é¦–å…ˆå–å…³å…¬ä¼—å·" class="headerlink" title="1.é¦–å…ˆå–å…³å…¬ä¼—å·"></a>1.é¦–å…ˆå–å…³å…¬ä¼—å·</h4><h4 id="2-ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°-æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢"><a href="#2-ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°-æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢" class="headerlink" title="2.ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°,æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢"></a>2.ç„¶åé‡æ–°æœç´¢å…¬ä¼—å·åç§°,æ‰¾åˆ°å…¬ä¼—å·åç‚¹å‡»è¿›å…¥å…¬ä¼—å·é¡µé¢</h4><h4 id="3-ç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹-åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©â€è®¾ç½®â€"><a href="#3-ç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹-åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©â€è®¾ç½®â€" class="headerlink" title="3.ç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹,åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©â€è®¾ç½®â€"></a>3.ç‚¹å‡»å³ä¸Šè§’ä¸‰ä¸ªç‚¹,åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©â€è®¾ç½®â€</h4><h4 id="4-ç‚¹å‡»â€å·²è·å–çš„ä¿¡æ¯â€"><a href="#4-ç‚¹å‡»â€å·²è·å–çš„ä¿¡æ¯â€" class="headerlink" title="4.ç‚¹å‡»â€å·²è·å–çš„ä¿¡æ¯â€"></a>4.ç‚¹å‡»â€å·²è·å–çš„ä¿¡æ¯â€</h4><h4 id="5-ç‚¹å‡»ç®¡ç†æŒ‰é’®-åˆ é™¤å·²æˆæƒçš„ä¿¡æ¯åˆ—-å¹¶ç‚¹å‡»å®Œæˆ"><a href="#5-ç‚¹å‡»ç®¡ç†æŒ‰é’®-åˆ é™¤å·²æˆæƒçš„ä¿¡æ¯åˆ—-å¹¶ç‚¹å‡»å®Œæˆ" class="headerlink" title="5.ç‚¹å‡»ç®¡ç†æŒ‰é’®, åˆ é™¤å·²æˆæƒçš„ä¿¡æ¯åˆ—,å¹¶ç‚¹å‡»å®Œæˆ"></a>5.ç‚¹å‡»ç®¡ç†æŒ‰é’®, åˆ é™¤å·²æˆæƒçš„ä¿¡æ¯åˆ—,å¹¶ç‚¹å‡»å®Œæˆ</h4><h4 id="6-å†è¿›å…¥åˆ°å…¬ä¼—å·é¡µé¢-å‘ç°éœ€è¦é‡æ–°è·å–æˆæƒäº†"><a href="#6-å†è¿›å…¥åˆ°å…¬ä¼—å·é¡µé¢-å‘ç°éœ€è¦é‡æ–°è·å–æˆæƒäº†" class="headerlink" title="6.å†è¿›å…¥åˆ°å…¬ä¼—å·é¡µé¢,å‘ç°éœ€è¦é‡æ–°è·å–æˆæƒäº†"></a>6.å†è¿›å…¥åˆ°å…¬ä¼—å·é¡µé¢,å‘ç°éœ€è¦é‡æ–°è·å–æˆæƒäº†</h4>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>JSè§£æåœ°å€æ å‚æ•°a=1&amp;b=2ä¸ºå¯¹è±¡æ ¼å¼</title>
      <link href="/posts/23388/"/>
      <url>/posts/23388/</url>
      
        <content type="html"><![CDATA[<p>JSè§£æåœ°å€æ stringå‚æ•°ä¸ºobjectå¯¹è±¡æ ¼å¼ å°† a&#x3D;1&amp;b&#x3D;2 æ ¼å¼è½¬æ¢ä¸ºå¯¹è±¡æ ¼å¼</p><p>å°† â€œa&#x3D;1&amp;b&#x3D;2â€ æ ¼å¼è½¬æ¢ä¸º {a: â€œ1â€, b: â€œ2â€}</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"><span class="attr">str2Obj</span>: <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;string&quot;</span> != <span class="keyword">typeof</span> str) <span class="keyword">return</span> str</span><br><span class="line"><span class="keyword">if</span> (str.<span class="title function_">indexOf</span>(<span class="string">&quot;&amp;&quot;</span>) &lt; <span class="number">0</span> &amp;&amp; str.<span class="title function_">indexOf</span>(<span class="string">&quot;=&quot;</span>) &lt; <span class="number">0</span>) <span class="keyword">return</span> &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> newStr = str.<span class="title function_">split</span>(<span class="string">&quot;&amp;&quot;</span>),newOjb = &#123;&#125;</span><br><span class="line">newStr.<span class="title function_">forEach</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (value.<span class="title function_">indexOf</span>(<span class="string">&quot;=&quot;</span>) &gt; -<span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">let</span> newStr1 = value.<span class="title function_">split</span>(<span class="string">&quot;=&quot;</span>)</span><br><span class="line">newOjb[newStr1[<span class="number">0</span>]] = newStr1[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">return</span> newOjb</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">str2Obj</span>(<span class="string">&quot;a=1&amp;b=2&quot;</span>))</span><br><span class="line"><span class="comment">//log:&#123;a: &quot;1&quot;, b: &quot;2&quot;&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP é‚®ç®±é‚®ä»¶å‘é€ è…¾è®¯QQä¼ä¸šé‚®ä»¶å‘é€</title>
      <link href="/posts/5451/"/>
      <url>/posts/5451/</url>
      
        <content type="html"><![CDATA[<p>PHP é‚®ç®±é‚®ä»¶å‘é€ è…¾è®¯QQä¼ä¸šé‚®ä»¶å‘é€ å•æ–‡ä»¶ç‰ˆ</p><p><a href="https://github.com/haoleiqin/PHP_Email_OneFile/tree/main">code:https://github.com/haoleiqin/PHP_Email_OneFile&#x2F;tree&#x2F;main</a></p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Email</span></span></span><br><span class="line"><span class="class"></span>&#123;   </span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> Type reqData[&quot;title&quot;] é‚®ä»¶subject ä¸»é¢˜</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> Type reqData[&quot;content&quot;] é‚®ä»¶å†…å®¹</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> Type reqData[&quot;fromname&quot;] å‘ä»¶äººå§“å</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> Type reqData[&quot;receiver&quot;] æ”¶ä»¶äººé‚®ç®±</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> boolean å‘é€æˆåŠŸä¼šè¿”å›trueï¼Œå¤±è´¥false</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">qqComMailSend</span>(<span class="params"><span class="variable">$reqData</span> = <span class="literal">null</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$reqData</span>)) &#123;</span><br><span class="line">            <span class="variable">$reqData</span> = <span class="variable">$_REQUEST</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable">$mail</span> = <span class="keyword">new</span> <span class="title class_">Lib_Smtp</span>();</span><br><span class="line">        <span class="variable">$PHPMailer</span> = <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">&#x27;host&#x27;</span> =&gt; <span class="string">&#x27;smtp.exmail.qq.com&#x27;</span>,<span class="comment">//qqé‚®ç®±ä½¿ç”¨smtp.qq.comï¼Œqqä¼ä¸šé‚®ç®±ä½¿ç”¨smtp.exmail.qq.com</span></span><br><span class="line">            <span class="string">&#x27;username&#x27;</span> =&gt; <span class="string">&#x27;abc@abc.com&#x27;</span>,<span class="comment">//é‚®ç®±ç™»é™†è´¦å·</span></span><br><span class="line">            <span class="string">&#x27;password&#x27;</span> =&gt; <span class="string">&#x27;123456&#x27;</span>,<span class="comment">//é‚®ç®±ç™»é™†å¯†ç ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç‹¬ç«‹å¯†ç ï¼Œå°±æ˜¯å¼€å¯pop3/smtpæ—¶çš„æˆæƒç </span></span><br><span class="line">            <span class="string">&#x27;port&#x27;</span> =&gt; <span class="number">465</span>,<span class="comment">//é»˜è®¤25ï¼Œè…¾äº‘æœåŠ¡å™¨å±è”½25ç«¯å£ï¼Œæ‰€ä»¥ç”¨çš„465</span></span><br><span class="line">            <span class="string">&#x27;ssl&#x27;</span> =&gt; <span class="literal">true</span>,<span class="comment">//æ˜¯å¦å¼€å¯sslï¼Œç”¨465å°±å¾—å¼€å¯</span></span><br><span class="line">            <span class="string">&#x27;from&#x27;</span> =&gt; <span class="string">&#x27;abc@abc.com&#x27;</span><span class="comment">//å‘ä»¶äºº</span></span><br><span class="line">        );</span><br><span class="line">        <span class="variable">$reqData</span>[<span class="string">&quot;fromname&quot;</span>] = <span class="variable">$reqData</span>[<span class="string">&quot;fromname&quot;</span>]?<span class="variable">$reqData</span>[<span class="string">&quot;fromname&quot;</span>]:<span class="variable">$PHPMailer</span>[<span class="string">&quot;from&quot;</span>];</span><br><span class="line">        <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">setServer</span>(<span class="variable">$PHPMailer</span>[<span class="string">&quot;host&quot;</span>], <span class="variable">$PHPMailer</span>[<span class="string">&quot;username&quot;</span>], <span class="variable">$PHPMailer</span>[<span class="string">&quot;password&quot;</span>], <span class="variable">$PHPMailer</span>[<span class="string">&quot;port&quot;</span>], <span class="variable">$PHPMailer</span>[<span class="string">&quot;ssl&quot;</span>]); </span><br><span class="line">        <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">setFrom</span>(<span class="variable">$PHPMailer</span>[<span class="string">&quot;from&quot;</span>]); <span class="comment">//å‘é€è€…é‚®ç®±</span></span><br><span class="line">        <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">setFromName</span>(<span class="variable">$reqData</span>[<span class="string">&quot;fromname&quot;</span>]); <span class="comment">//å‘é€è€…å§“å</span></span><br><span class="line">        <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">setReceiver</span>(<span class="variable">$reqData</span>[<span class="string">&quot;receiver&quot;</span>]); <span class="comment">//æ¥æ”¶è€…é‚®ç®±</span></span><br><span class="line">        <span class="comment">//$mail-&gt;addAttachment(&quot;&quot;); //Attachment é™„ä»¶</span></span><br><span class="line">        <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">setMail</span>(<span class="variable">$reqData</span>[<span class="string">&quot;title&quot;</span>], <span class="variable">$reqData</span>[<span class="string">&quot;content&quot;</span>]); <span class="comment">//æ ‡é¢˜å’Œå†…å®¹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">send</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lib_Smtp</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string é‚®ä»¶ä¼ è¾“ä»£ç†ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> private</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$_userName</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string é‚®ä»¶ä¼ è¾“ä»£ç†å¯†ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> private</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$_password</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string é‚®ä»¶ä¼ è¾“ä»£ç†æœåŠ¡å™¨åœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> private</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$_sendServer</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> int é‚®ä»¶ä¼ è¾“ä»£ç†æœåŠ¡å™¨ç«¯å£</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> private</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$_port</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string å‘ä»¶äºº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_from</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string å‘ä»¶äººå§“å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_from_name</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string æ”¶ä»¶äºº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_to</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string æŠ„é€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_cc</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string ç§˜å¯†æŠ„é€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_bcc</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string ä¸»é¢˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_subject</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string é‚®ä»¶æ­£æ–‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_body</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string é™„ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_attachment</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> reource socketèµ„æº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_socket</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> reource æ˜¯å¦æ˜¯å®‰å…¨è¿æ¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_isSecurity</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_errorMessage</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$_debug</span> = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">/*è¾“å‡ºè°ƒè¯•ä¿¡æ¯*/</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">debug</span>(<span class="params"><span class="variable">$msg</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">$this</span>-&gt;_debug) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable">$msg</span>, <span class="string">&#x27;&lt;br&gt;&#x27;</span>, <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setDebug</span>(<span class="params"><span class="variable">$val</span> = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_debug = <span class="variable">$val</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®é‚®ä»¶ä¼ è¾“ä»£ç†ï¼Œå¦‚æœæ˜¯å¯ä»¥åŒ¿åå‘é€æœ‰é‚®ä»¶çš„æœåŠ¡å™¨ï¼Œåªéœ€ä¼ é€’ä»£ç†æœåŠ¡å™¨åœ°å€å°±è¡Œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $server ä»£ç†æœåŠ¡å™¨çš„ipæˆ–è€…åŸŸå</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $username è®¤è¯è´¦å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $password è®¤è¯å¯†ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $port ä»£ç†æœåŠ¡å™¨çš„ç«¯å£ï¼Œsmtpé»˜è®¤25å·ç«¯å£</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> boolean $isSecurity åˆ°æœåŠ¡å™¨çš„è¿æ¥æ˜¯å¦ä¸ºå®‰å…¨è¿æ¥ï¼Œé»˜è®¤false</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setServer</span>(<span class="params"><span class="variable">$server</span>, <span class="variable">$username</span> = <span class="string">&quot;&quot;</span>, <span class="variable">$password</span> = <span class="string">&quot;&quot;</span>, <span class="variable">$port</span> = <span class="number">25</span>, <span class="variable">$isSecurity</span> = <span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_sendServer = <span class="variable">$server</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_port = <span class="variable">$port</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_isSecurity = <span class="variable">$isSecurity</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_userName = <span class="keyword">empty</span>(<span class="variable">$username</span>) ? <span class="string">&quot;&quot;</span> : <span class="title function_ invoke__">base64_encode</span>(<span class="variable">$username</span>);</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_password = <span class="keyword">empty</span>(<span class="variable">$password</span>) ? <span class="string">&quot;&quot;</span> : <span class="title function_ invoke__">base64_encode</span>(<span class="variable">$password</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®å‘ä»¶äºº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $from å‘ä»¶äººåœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setFrom</span>(<span class="params"><span class="variable">$from</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_from = <span class="variable">$from</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®å‘ä»¶äººå§“å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $from å‘ä»¶äººåœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setFromName</span>(<span class="params"><span class="variable">$fromName</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_from_name = <span class="variable">$fromName</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®æ”¶ä»¶äººï¼Œå¤šä¸ªæ”¶ä»¶äººï¼Œè°ƒç”¨å¤šæ¬¡.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $to æ”¶ä»¶äººåœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setReceiver</span>(<span class="params"><span class="variable">$to</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_to)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_string</span>(<span class="variable">$this</span>-&gt;_to)) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_to = <span class="keyword">array</span>(<span class="variable language_">$this</span>-&gt;_to);</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_to[] = <span class="variable">$to</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;_to)) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_to[] = <span class="variable">$to</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_to = <span class="variable">$to</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®æŠ„é€ï¼Œå¤šä¸ªæŠ„é€ï¼Œè°ƒç”¨å¤šæ¬¡.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $cc æŠ„é€åœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setCc</span>(<span class="params"><span class="variable">$cc</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_cc)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_string</span>(<span class="variable">$this</span>-&gt;_cc)) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_cc = <span class="keyword">array</span>(<span class="variable language_">$this</span>-&gt;_cc);</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_cc[] = <span class="variable">$cc</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;_cc)) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_cc[] = <span class="variable">$cc</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_cc = <span class="variable">$cc</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®ç§˜å¯†æŠ„é€ï¼Œå¤šä¸ªç§˜å¯†æŠ„é€ï¼Œè°ƒç”¨å¤šæ¬¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $bcc ç§˜å¯†æŠ„é€åœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setBcc</span>(<span class="params"><span class="variable">$bcc</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_bcc)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_string</span>(<span class="variable">$this</span>-&gt;_bcc)) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_bcc = <span class="keyword">array</span>(<span class="variable language_">$this</span>-&gt;_bcc);</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_bcc[] = <span class="variable">$bcc</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;_bcc)) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_bcc[] = <span class="variable">$bcc</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_bcc = <span class="variable">$bcc</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®é‚®ä»¶é™„ä»¶ï¼Œå¤šä¸ªé™„ä»¶ï¼Œè°ƒç”¨å¤šæ¬¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $file æ–‡ä»¶åœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">addAttachment</span>(<span class="params"><span class="variable">$file</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_ invoke__">file_exists</span>(<span class="variable">$file</span>)) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;file &quot;</span> . <span class="variable">$file</span> . <span class="string">&quot; does not exist.&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_attachment)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_string</span>(<span class="variable">$this</span>-&gt;_attachment)) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_attachment = <span class="keyword">array</span>(<span class="variable language_">$this</span>-&gt;_attachment);</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_attachment[] = <span class="variable">$file</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;_attachment)) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_attachment[] = <span class="variable">$file</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_attachment = <span class="variable">$file</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®é‚®ä»¶ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $body é‚®ä»¶ä¸»é¢˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $subject é‚®ä»¶ä¸»ä½“å†…å®¹ï¼Œå¯ä»¥æ˜¯çº¯æ–‡æœ¬ï¼Œä¹Ÿå¯æ˜¯æ˜¯HTMLæ–‡æœ¬</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setMail</span>(<span class="params"><span class="variable">$subject</span>, <span class="variable">$body</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_subject = <span class="variable">$subject</span>;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_body = <span class="title function_ invoke__">base64_encode</span>(<span class="variable">$body</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€é‚®ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$command</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">getCommand</span>();</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_isSecurity ? <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">socketSecurity</span>() : <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">socket</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (<span class="variable">$command</span> <span class="keyword">as</span> <span class="variable">$value</span>) &#123;</span><br><span class="line">            <span class="variable">$result</span> = <span class="variable language_">$this</span>-&gt;_isSecurity ? <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">sendCommandSecurity</span>(<span class="variable">$value</span>[<span class="number">0</span>], <span class="variable">$value</span>[<span class="number">1</span>]) : <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">sendCommand</span>(<span class="variable">$value</span>[<span class="number">0</span>], <span class="variable">$value</span>[<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$result</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å…¶å®è¿™é‡Œä¹Ÿæ²¡å¿…è¦å…³é—­ï¼Œsmtpå‘½ä»¤ï¼šQUITå‘å‡ºä¹‹åï¼ŒæœåŠ¡å™¨å°±å…³é—­äº†è¿æ¥ï¼Œæœ¬åœ°çš„socketèµ„æºä¼šè‡ªåŠ¨é‡Šæ”¾</span></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_isSecurity ? <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">closeSecutity</span>() : <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_errorMessage)) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;_errorMessage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›mailå‘½ä»¤</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getCommand</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$separator</span> = <span class="string">&quot;----=_Part_&quot;</span> . <span class="title function_ invoke__">md5</span>(<span class="variable">$this</span>-&gt;_from . <span class="title function_ invoke__">time</span>()) . <span class="title function_ invoke__">uniqid</span>(); <span class="comment">//åˆ†éš”ç¬¦</span></span><br><span class="line"></span><br><span class="line">        <span class="variable">$command</span> = <span class="keyword">array</span>(</span><br><span class="line">            <span class="keyword">array</span>(<span class="string">&quot;HELO sendmail\r\n&quot;</span>, <span class="number">250</span>)</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;_userName)) &#123;</span><br><span class="line">            <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;AUTH LOGIN\r\n&quot;</span>, <span class="number">334</span>);</span><br><span class="line">            <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="variable language_">$this</span>-&gt;_userName . <span class="string">&quot;\r\n&quot;</span>, <span class="number">334</span>);</span><br><span class="line">            <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="variable language_">$this</span>-&gt;_password . <span class="string">&quot;\r\n&quot;</span>, <span class="number">235</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®å‘ä»¶äºº</span></span><br><span class="line">        <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;MAIL FROM: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_from . <span class="string">&quot;&gt;\r\n&quot;</span>, <span class="number">250</span>);</span><br><span class="line">        <span class="variable">$fromname_command</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;_from_name))&#123;</span><br><span class="line">            <span class="variable">$fromname_command</span> = <span class="string">&quot; =?utf-8?B?&quot;</span>. <span class="title function_ invoke__">base64_encode</span>(<span class="variable">$this</span>-&gt;_from_name).<span class="string">&quot;?= &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable">$header</span> = <span class="string">&quot;FROM:&quot;</span>.<span class="variable">$fromname_command</span>.<span class="string">&quot; &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_from . <span class="string">&quot;&gt;\r\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®æ”¶ä»¶äºº</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;_to)) &#123;</span><br><span class="line">            <span class="variable">$count</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$this</span>-&gt;_to);</span><br><span class="line">            <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$count</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">                <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;RCPT TO: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_to[<span class="variable">$i</span>] . <span class="string">&quot;&gt;\r\n&quot;</span>, <span class="number">250</span>);</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$i</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&quot;TO: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_to[<span class="variable">$i</span>] . <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">                &#125; <span class="keyword">elseif</span> (<span class="variable">$i</span> + <span class="number">1</span> == <span class="variable">$count</span>) &#123;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&quot;,&lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_to[<span class="variable">$i</span>] . <span class="string">&quot;&gt;\r\n&quot;</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&quot;,&lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_to[<span class="variable">$i</span>] . <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;RCPT TO: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_to . <span class="string">&quot;&gt;\r\n&quot;</span>, <span class="number">250</span>);</span><br><span class="line">            <span class="variable">$header</span> .= <span class="string">&quot;TO: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_to . <span class="string">&quot;&gt;\r\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®æŠ„é€</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_cc)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;_cc)) &#123;</span><br><span class="line">                <span class="variable">$count</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$this</span>-&gt;_cc);</span><br><span class="line">                <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$count</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">                    <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;RCPT TO: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_cc[<span class="variable">$i</span>] . <span class="string">&quot;&gt;\r\n&quot;</span>, <span class="number">250</span>);</span><br><span class="line">                    <span class="keyword">if</span> (<span class="variable">$i</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="variable">$header</span> .= <span class="string">&quot;CC: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_cc[<span class="variable">$i</span>] . <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">                    &#125; <span class="keyword">elseif</span> (<span class="variable">$i</span> + <span class="number">1</span> == <span class="variable">$count</span>) &#123;</span><br><span class="line">                        <span class="variable">$header</span> .= <span class="string">&quot;,&lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_cc[<span class="variable">$i</span>] . <span class="string">&quot;&gt;\r\n&quot;</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="variable">$header</span> .= <span class="string">&quot;,&lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_cc[<span class="variable">$i</span>] . <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;RCPT TO: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_cc . <span class="string">&quot;&gt;\r\n&quot;</span>, <span class="number">250</span>);</span><br><span class="line">                <span class="variable">$header</span> .= <span class="string">&quot;CC: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_cc . <span class="string">&quot;&gt;\r\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®ç§˜å¯†æŠ„é€</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_bcc)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;_bcc)) &#123;</span><br><span class="line">                <span class="variable">$count</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$this</span>-&gt;_bcc);</span><br><span class="line">                <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$count</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">                    <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;RCPT TO: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_bcc[<span class="variable">$i</span>] . <span class="string">&quot;&gt;\r\n&quot;</span>, <span class="number">250</span>);</span><br><span class="line">                    <span class="keyword">if</span> (<span class="variable">$i</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="variable">$header</span> .= <span class="string">&quot;BCC: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_bcc[<span class="variable">$i</span>] . <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">                    &#125; <span class="keyword">elseif</span> (<span class="variable">$i</span> + <span class="number">1</span> == <span class="variable">$count</span>) &#123;</span><br><span class="line">                        <span class="variable">$header</span> .= <span class="string">&quot;,&lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_bcc[<span class="variable">$i</span>] . <span class="string">&quot;&gt;\r\n&quot;</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="variable">$header</span> .= <span class="string">&quot;,&lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_bcc[<span class="variable">$i</span>] . <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;RCPT TO: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_bcc . <span class="string">&quot;&gt;\r\n&quot;</span>, <span class="number">250</span>);</span><br><span class="line">                <span class="variable">$header</span> .= <span class="string">&quot;BCC: &lt;&quot;</span> . <span class="variable language_">$this</span>-&gt;_bcc . <span class="string">&quot;&gt;\r\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸»é¢˜</span></span><br><span class="line">        <span class="variable">$header</span> .= <span class="string">&quot;Subject: &quot;</span> . <span class="variable language_">$this</span>-&gt;_subject . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_attachment)) &#123;</span><br><span class="line">            <span class="comment">//å«æœ‰é™„ä»¶çš„é‚®ä»¶å¤´éœ€è¦å£°æ˜æˆè¿™ä¸ª</span></span><br><span class="line">            <span class="variable">$header</span> .= <span class="string">&quot;Content-Type: multipart/mixed;\r\n&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">elseif</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="comment">//é‚®ä»¶ä½“å«æœ‰å›¾ç‰‡èµ„æºçš„éœ€è¦å£°æ˜æˆè¿™ä¸ª</span></span><br><span class="line">            <span class="variable">$header</span> .= <span class="string">&quot;Content-Type: multipart/related;\r\n&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//htmlæˆ–è€…çº¯æ–‡æœ¬çš„é‚®ä»¶å£°æ˜æˆè¿™ä¸ª</span></span><br><span class="line">            <span class="variable">$header</span> .= <span class="string">&quot;Content-Type: multipart/alternative;\r\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é‚®ä»¶å¤´åˆ†éš”ç¬¦</span></span><br><span class="line">        <span class="variable">$header</span> .= <span class="string">&quot;\t&quot;</span> . <span class="string">&#x27;boundary=&quot;&#x27;</span> . <span class="variable">$separator</span> . <span class="string">&#x27;&quot;&#x27;</span>;</span><br><span class="line">        <span class="variable">$header</span> .= <span class="string">&quot;\r\nMIME-Version: 1.0\r\n&quot;</span>;</span><br><span class="line">        <span class="variable">$header</span> .= <span class="string">&quot;\r\n--&quot;</span> . <span class="variable">$separator</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">        <span class="variable">$header</span> .= <span class="string">&quot;Content-Type:text/html; charset=utf-8\r\n&quot;</span>;</span><br><span class="line">        <span class="variable">$header</span> .= <span class="string">&quot;Content-Transfer-Encoding: base64\r\n\r\n&quot;</span>;</span><br><span class="line">        <span class="variable">$header</span> .= <span class="variable language_">$this</span>-&gt;_body . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">        <span class="variable">$header</span> .= <span class="string">&quot;--&quot;</span> . <span class="variable">$separator</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åŠ å…¥é™„ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_attachment) &amp;&amp; !<span class="keyword">empty</span>(<span class="variable language_">$this</span>-&gt;_attachment)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">is_array</span>(<span class="variable">$this</span>-&gt;_attachment)) &#123;</span><br><span class="line">                <span class="variable">$count</span> = <span class="title function_ invoke__">count</span>(<span class="variable">$this</span>-&gt;_attachment);</span><br><span class="line">                <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$count</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&quot;\r\n--&quot;</span> . <span class="variable">$separator</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&quot;Content-Type: &quot;</span> . <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">getMIMEType</span>(<span class="variable">$this</span>-&gt;_attachment[<span class="variable">$i</span>]) . <span class="string">&#x27;; name=&quot;&#x27;</span> . <span class="title function_ invoke__">basename</span>(<span class="variable">$this</span>-&gt;_attachment[<span class="variable">$i</span>]) . <span class="string">&#x27;&quot;&#x27;</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&quot;Content-Transfer-Encoding: base64\r\n&quot;</span>;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&#x27;Content-Disposition: attachment; filename=&quot;&#x27;</span> . <span class="title function_ invoke__">basename</span>(<span class="variable">$this</span>-&gt;_attachment[<span class="variable">$i</span>]) . <span class="string">&#x27;&quot;&#x27;</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">readFile</span>(<span class="variable">$this</span>-&gt;_attachment[<span class="variable">$i</span>]);</span><br><span class="line">                    <span class="variable">$header</span> .= <span class="string">&quot;\r\n--&quot;</span> . <span class="variable">$separator</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable">$header</span> .= <span class="string">&quot;\r\n--&quot;</span> . <span class="variable">$separator</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                <span class="variable">$header</span> .= <span class="string">&quot;Content-Type: &quot;</span> . <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">getMIMEType</span>(<span class="variable">$this</span>-&gt;_attachment) . <span class="string">&#x27;; name=&quot;&#x27;</span> . <span class="title function_ invoke__">basename</span>(<span class="variable">$this</span>-&gt;_attachment) . <span class="string">&#x27;&quot;&#x27;</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                <span class="variable">$header</span> .= <span class="string">&quot;Content-Transfer-Encoding: base64\r\n&quot;</span>;</span><br><span class="line">                <span class="variable">$header</span> .= <span class="string">&#x27;Content-Disposition: attachment; filename=&quot;&#x27;</span> . <span class="title function_ invoke__">basename</span>(<span class="variable">$this</span>-&gt;_attachment) . <span class="string">&#x27;&quot;&#x27;</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                <span class="variable">$header</span> .= <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                <span class="variable">$header</span> .= <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">readFile</span>(<span class="variable">$this</span>-&gt;_attachment);</span><br><span class="line">                <span class="variable">$header</span> .= <span class="string">&quot;\r\n--&quot;</span> . <span class="variable">$separator</span> . <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç»“æŸé‚®ä»¶æ•°æ®å‘é€</span></span><br><span class="line">        <span class="variable">$header</span> .= <span class="string">&quot;\r\n.\r\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;DATA\r\n&quot;</span>, <span class="number">354</span>);</span><br><span class="line">        <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="variable">$header</span>, <span class="number">250</span>);</span><br><span class="line">        <span class="variable">$command</span>[] = <span class="keyword">array</span>(<span class="string">&quot;QUIT\r\n&quot;</span>, <span class="number">221</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$command</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å‘½ä»¤</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $command å‘é€åˆ°æœåŠ¡å™¨çš„smtpå‘½ä»¤</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $code æœŸæœ›æœåŠ¡å™¨è¿”å›çš„å“åº”å—</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">sendCommand</span>(<span class="params"><span class="variable">$command</span>, <span class="variable">$code</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//debug(&#x27;Send command:&#x27; . $command . &#x27;,expected code:&#x27; . $code );</span></span><br><span class="line">        <span class="comment">//å‘é€å‘½ä»¤ç»™æœåŠ¡å™¨</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">socket_write</span>(<span class="variable">$this</span>-&gt;_socket, <span class="variable">$command</span>, <span class="title function_ invoke__">strlen</span>(<span class="variable">$command</span>))) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//å½“é‚®ä»¶å†…å®¹åˆ†å¤šæ¬¡å‘é€æ—¶ï¼Œæ²¡æœ‰$codeï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿”å›</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$code</span>)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//è¯»å–æœåŠ¡å™¨è¿”å›</span></span><br><span class="line">                <span class="variable">$data</span> = <span class="title function_ invoke__">trim</span>(<span class="title function_ invoke__">socket_read</span>(<span class="variable">$this</span>-&gt;_socket, <span class="number">1024</span>));</span><br><span class="line">                <span class="comment">//debug( &#x27;response:&#x27; . $data);</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$data</span>) &#123;</span><br><span class="line">                    <span class="variable">$pattern</span> = <span class="string">&quot;/^&quot;</span> . <span class="variable">$code</span> . <span class="string">&quot;/&quot;</span>;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="variable">$pattern</span>, <span class="variable">$data</span>)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;Error:&quot;</span> . <span class="variable">$data</span> . <span class="string">&quot;|**| command:&quot;</span>;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;Error:&quot;</span> . <span class="title function_ invoke__">socket_strerror</span>(<span class="title function_ invoke__">socket_last_error</span>());</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;Error:&quot;</span> . <span class="title function_ invoke__">socket_strerror</span>(<span class="title function_ invoke__">socket_last_error</span>());</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;Error:&quot;</span> . <span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€å‘½ä»¤</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $command å‘é€åˆ°æœåŠ¡å™¨çš„smtpå‘½ä»¤</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> int $code æœŸæœ›æœåŠ¡å™¨è¿”å›çš„å“åº”å—</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">sendCommandSecurity</span>(<span class="params"><span class="variable">$command</span>, <span class="variable">$code</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//debug(&#x27;Send command:&#x27; . $command . &#x27;,expected code:&#x27; . $code );</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_ invoke__">fwrite</span>(<span class="variable">$this</span>-&gt;_socket, <span class="variable">$command</span>)) &#123;</span><br><span class="line">                <span class="comment">//å½“é‚®ä»¶å†…å®¹åˆ†å¤šæ¬¡å‘é€æ—¶ï¼Œæ²¡æœ‰$codeï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿”å›</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$code</span>)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//è¯»å–æœåŠ¡å™¨è¿”å›</span></span><br><span class="line">                <span class="variable">$data</span> = <span class="title function_ invoke__">trim</span>(<span class="title function_ invoke__">fread</span>(<span class="variable">$this</span>-&gt;_socket, <span class="number">1024</span>));</span><br><span class="line">                <span class="comment">//debug( &#x27;response:&#x27; . $data );</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$data</span>) &#123;</span><br><span class="line">                    <span class="variable">$pattern</span> = <span class="string">&quot;/^&quot;</span> . <span class="variable">$code</span> . <span class="string">&quot;/&quot;</span>;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="variable">$pattern</span>, <span class="variable">$data</span>)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;Error:&quot;</span> . <span class="variable">$data</span> . <span class="string">&quot;|**| command:&quot;</span>;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;Error: &quot;</span> . <span class="variable">$command</span> . <span class="string">&quot; send failed&quot;</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;Error:&quot;</span> . <span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯»å–é™„ä»¶æ–‡ä»¶å†…å®¹ï¼Œè¿”å›base64ç¼–ç åçš„æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $file æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> mixed</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">readFile</span>(<span class="params"><span class="variable">$file</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$file</span>)) &#123;</span><br><span class="line">            <span class="variable">$file_obj</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$file</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_ invoke__">base64_encode</span>(<span class="variable">$file_obj</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;file &quot;</span> . <span class="variable">$file</span> . <span class="string">&quot; dose not exist&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–é™„ä»¶MIMEç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> protected</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $file æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> mixed</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getMIMEType</span>(<span class="params"><span class="variable">$file</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">file_exists</span>(<span class="variable">$file</span>)) &#123;</span><br><span class="line">            <span class="variable">$mime</span> = <span class="title function_ invoke__">mime_content_type</span>(<span class="variable">$file</span>);</span><br><span class="line">            <span class="keyword">if</span> (!<span class="title function_ invoke__">preg_match</span>(<span class="string">&quot;/gif|jpg|png|jpeg/&quot;</span>, <span class="variable">$mime</span>)) &#123;</span><br><span class="line">                <span class="variable">$mime</span> = <span class="string">&quot;application/octet-stream&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$mime</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å»ºç«‹åˆ°æœåŠ¡å™¨çš„ç½‘ç»œè¿æ¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> private</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">socket</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºsocketèµ„æº</span></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_socket = <span class="title function_ invoke__">socket_create</span>(AF_INET, SOCK_STREAM, <span class="title function_ invoke__">getprotobyname</span>(<span class="string">&#x27;tcp&#x27;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">$this</span>-&gt;_socket) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="title function_ invoke__">socket_strerror</span>(<span class="title function_ invoke__">socket_last_error</span>());</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_ invoke__">socket_set_block</span>(<span class="variable">$this</span>-&gt;_socket); <span class="comment">//è®¾ç½®é˜»å¡æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¿æ¥æœåŠ¡å™¨</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_ invoke__">socket_connect</span>(<span class="variable">$this</span>-&gt;_socket, <span class="variable">$this</span>-&gt;_sendServer, <span class="variable">$this</span>-&gt;_port)) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="title function_ invoke__">socket_strerror</span>(<span class="title function_ invoke__">socket_last_error</span>());</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable">$str</span> = <span class="title function_ invoke__">socket_read</span>(<span class="variable">$this</span>-&gt;_socket, <span class="number">1024</span>);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_ invoke__">strpos</span>(<span class="variable">$str</span>, <span class="string">&quot;220&quot;</span>)) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="variable">$str</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å»ºç«‹åˆ°æœåŠ¡å™¨çš„SSLç½‘ç»œè¿æ¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> private</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">socketSecurity</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$remoteAddr</span> = <span class="string">&quot;tcp://&quot;</span> . <span class="variable language_">$this</span>-&gt;_sendServer . <span class="string">&quot;:&quot;</span> . <span class="variable language_">$this</span>-&gt;_port;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_socket = <span class="title function_ invoke__">stream_socket_client</span>(<span class="variable">$remoteAddr</span>, <span class="variable">$errno</span>, <span class="variable">$errstr</span>, <span class="number">30</span>);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">$this</span>-&gt;_socket) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="variable">$errstr</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®åŠ å¯†è¿æ¥ï¼Œé»˜è®¤æ˜¯sslï¼Œå¦‚æœéœ€è¦tlsè¿æ¥ï¼Œå¯ä»¥æŸ¥çœ‹phpæ‰‹å†Œstream_socket_enable_cryptoå‡½æ•°çš„è§£é‡Š</span></span><br><span class="line">        <span class="title function_ invoke__">stream_socket_enable_crypto</span>(<span class="variable">$this</span>-&gt;_socket, <span class="literal">true</span>, STREAM_CRYPTO_METHOD_SSLv23_CLIENT);</span><br><span class="line"></span><br><span class="line">        <span class="title function_ invoke__">stream_set_blocking</span>(<span class="variable">$this</span>-&gt;_socket, <span class="number">1</span>); <span class="comment">//è®¾ç½®é˜»å¡æ¨¡å¼</span></span><br><span class="line">        <span class="variable">$str</span> = <span class="title function_ invoke__">fread</span>(<span class="variable">$this</span>-&gt;_socket, <span class="number">1024</span>);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_ invoke__">strpos</span>(<span class="variable">$str</span>, <span class="string">&quot;220&quot;</span>)) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="variable">$str</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…³é—­socket</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> private</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">close</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_socket) &amp;&amp; <span class="title function_ invoke__">is_object</span>(<span class="variable">$this</span>-&gt;_socket)) &#123;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;_socket-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;No resource can to be close&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…³é—­å®‰å…¨socket</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@access</span> private</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">closeSecutity</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable language_">$this</span>-&gt;_socket) &amp;&amp; <span class="title function_ invoke__">is_object</span>(<span class="variable">$this</span>-&gt;_socket)) &#123;</span><br><span class="line">            <span class="title function_ invoke__">stream_socket_shutdown</span>(<span class="variable">$this</span>-&gt;_socket, STREAM_SHUT_WR);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;_errorMessage = <span class="string">&quot;No resource can to be close&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PHPæ‰¹é‡æ¨¡ç³Šæ¸…ç©ºRedis redis-&gt;scan key*</title>
      <link href="/posts/32761/"/>
      <url>/posts/32761/</url>
      
        <content type="html"><![CDATA[<p>PHPæ‰¹é‡æ¨¡ç³Šæ¸…ç©ºRedis</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$redis</span> = <span class="keyword">new</span> <span class="title class_">\Redis</span>();</span><br><span class="line"><span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">connect</span>(<span class="string">&#x27;127.0.0.1&#x27;</span>,<span class="number">6379</span>);  </span><br><span class="line"><span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">setOption</span>(<span class="title class_">\Redis</span>::<span class="variable constant_">OPT_SCAN</span>, <span class="title class_">\Redis</span>::<span class="variable constant_">SCAN_RETRY</span>);</span><br><span class="line"><span class="keyword">while</span> (<span class="variable">$arr_keys</span> = <span class="variable">$redis</span>-&gt;<span class="title function_ invoke__">scan</span>(<span class="literal">NULL</span>, <span class="string">&quot;key_*&quot;</span>, <span class="number">5</span>)) &#123;</span><br><span class="line">    <span class="title function_ invoke__">call_user_func_array</span>([<span class="variable">$redis</span>, <span class="string">&#x27;del&#x27;</span>], <span class="variable">$arr_keys</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">var_export</span>(<span class="variable">$arr_keys</span>, <span class="literal">true</span>) . PHP_EOL;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>goåˆ©ç”¨nginxå®ç°çƒ­é‡è½½çƒ­æ›´æ–°å¹³æ»‘é‡å¯ golangä¸åœæœæ›´æ–° goçƒ­å‡çº§</title>
      <link href="/posts/11256/"/>
      <url>/posts/11256/</url>
      
        <content type="html"><![CDATA[<p>å¹³æ»‘é‡å¯(çƒ­é‡å¯)æ˜¯æŒ‡WebServeråœ¨é‡å¯çš„æ—¶å€™ä¸ä¼šä¸­æ–­å·²æœ‰è¯·æ±‚çš„æ‰§è¡Œ&#x2F;è¯¥ç‰¹æ€§åœ¨ä¸åŒçš„é¡¹ç›®ç‰ˆæœ¬å‘å¸ƒçš„æ—¶å€™ç‰¹åˆ«æœ‰ç”¨,ä¾‹å¦‚ï¼Œå½“éœ€è¦å…ˆåå‘å¸ƒä¸¤ä¸ªç‰ˆæœ¬ï¼šAã€Bï¼Œé‚£ä¹ˆåœ¨Aæ‰§è¡Œçš„è¿‡ç¨‹å½“ä¸­,å°†æœåŠ¡å¹³æ»‘é‡å¯è‡³Bç‰ˆæœ¬,å…·ä½“åšæ³•å¦‚ä¸‹</p><p>åˆ©ç”¨nginxçš„åå‘ä»£ç†è½¬å‘goæœåŠ¡ç«¯å£,ä¾‹å¦‚æœåŠ¡apiv1ç«¯å£æ˜¯1001,æœåŠ¡apiv2ç«¯å£æ˜¯1002, ç°æœ‰nginx.confé…ç½®å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    # golang api</span><br><span class="line">    location /golangapi/ &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:1001/;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡è®¾ç°åœ¨æˆ‘ä»¬éœ€è¦å°†æœåŠ¡å¹³æ»‘é‡å¯è‡³apiv2:1002,åˆ™åªéœ€è¦å°†nginxé…ç½®æ”¹ä¸º:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name abc.com;</span><br><span class="line">    # golang api</span><br><span class="line">    location /golangapi/ &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:1002/;#è¿™é‡Œæ›´æ”¹ç«¯å£å·</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿å­˜nginxé…ç½®å,æ‰§è¡Œ&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s reloadå‘½ä»¤é‡è½½é…ç½®,å³å¯å®ç°å¹³æ»‘é‡å¯</p><p>åœ¨reloadè¿‡ç¨‹ä¸­,nginxä¼šåœ¨ä¿æŒåŸæœ‰apiv1è¯·æ±‚çš„å‰æä¸‹å®ç°å¹³æ»‘é‡å¯,æ–°çš„[abc.com&#x2F;golangapi&#x2F;]è¯·æ±‚å°†æŒ‡å‘apiv2æœåŠ¡</p><p>å¦‚æœåœ¨reloadè¿‡ç¨‹ä¸­,æ‰“å¼€çš„è¿æ¥æ•°é‡è¿‡å¤š,è¯·æ±‚æ—¶é—´è¿‡é•¿,å¯ä»¥é€šè¿‡ä¿®æ”¹nginxå‚æ•°â€™worker_shutdown_timeoutâ€™æ¥è®¾ç½®è¿‡æœŸæ—¶é—´æ¥å…³é—­reloadè¿‡ç¨‹ä¸­ä»ç„¶æ‰“å¼€çš„è¿æ¥.</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gorm RawæŸ¥è¯¢æŠ¥é”™ sql converting argument $1 type unsupported type struct {}, a struct; invalid value, should be pointer to struct or slice; invalid value, should be pointer to struct or slice</title>
      <link href="/posts/26189/"/>
      <url>/posts/26189/</url>
      
        <content type="html"><![CDATA[<p>golang gorm æŸ¥è¯¢æ—¶æç¤ºå¦‚ä¸‹,å³ä½¿sqlParamå·²ç»åˆå§‹åŒ–è¿‡ä¹Ÿä¸€ç›´æç¤ºæ— æ•ˆå€¼</p><h4 id="æŠ¥é”™å†…å®¹"><a href="#æŠ¥é”™å†…å®¹" class="headerlink" title="æŠ¥é”™å†…å®¹"></a>æŠ¥é”™å†…å®¹</h4><p>sql: converting argument $1 type: unsupported type struct {}, a struct; invalid value, should be pointer to struct or slice; invalid value, should be pointer to struct or slice</p><h4 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› :"></a>åŸå› :</h4><p>å‘èµ·æŸ¥è¯¢æ—¶,Rawæ–¹æ³•ç¬¬äºŒä¸ªå‚æ•°ä¸èƒ½ä¸ºç©º,å¹¶ä¸”éœ€è¦åœ¨Rawæ–¹æ³•çš„ç¬¬ä¸€ä¸ªsqlè¯­å¥ä¸­æœ‰è°ƒç”¨@ç¬¬äºŒä¸ªå‚æ•°ä¸­çš„å­—æ®µ</p><h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h4><p>å¢åŠ  Placeholder , åˆå§‹åŒ–å€¼ä¸º1,å¹¶åœ¨sqlè¯­å¥ä¸­è°ƒç”¨ @Placeholder , æˆ–è€…æ ¹æ®è¯·æ±‚æƒ…å†µ,å¢åŠ åˆ¤æ–­æ˜¯å¦è¦ä¼ å…¥Rawæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">sql := <span class="string">&quot;SELECT * FROM test WHERE @Placeholder &quot;</span> <span class="comment">//SELECT * FROM test WHERE 1</span></span><br><span class="line"><span class="keyword">var</span> sqlParam <span class="keyword">struct</span> &#123;</span><br><span class="line">Applyno       <span class="type">string</span></span><br><span class="line">Status        *<span class="type">int</span></span><br><span class="line">Placeholder   <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line">sqlParam.Placeholder = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> info.Applyno != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">sql += <span class="string">&quot; AND applyno = @Applyno &quot;</span></span><br><span class="line">sqlParam.Applyno = info.Applyno</span><br><span class="line">&#125;</span><br><span class="line">dbRawErr := db.Raw(sql, sqlParam).Scan(&amp;dataList).Error</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>go goroutine chan å¹¶å‘/é€šé“ å¼‚æ­¥å¤„ç†å¾®ä¿¡è®¢å•åˆ†è´¦</title>
      <link href="/posts/56249/"/>
      <url>/posts/56249/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å¼€å‘å¾®ä¿¡æœåŠ¡å•†,ç”³è¯·åˆ†è´¦éœ€è¦å¯¹æ¯ä¸ªè®¢å•å•ç‹¬å‘èµ·,äºæ˜¯ç”¨åˆ°äº†golangçš„åç¨‹</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, runtime.NumCPU())</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(wechatOrderList); i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> modifyWxOrderProfit(&amp;wechatOrderList[i], ch)</span><br><span class="line">        ch &lt;- i</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">close</span>(ch)</span><br><span class="line"><span class="comment">// å¤„ç†åˆ†è´¦è®¢å•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyWxOrderProfit</span><span class="params">(wechatOrder *order.WechatOrder, ch <span class="keyword">chan</span> <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">        <span class="comment">// å‘èµ·å¾®ä¿¡è®¢å•åˆ†è´¦è¯·æ±‚</span></span><br><span class="line">        <span class="comment">// client.POST()...</span></span><br><span class="line">        <span class="keyword">for</span> v := <span class="keyword">range</span> ch &#123;</span><br><span class="line">                fmt.Println(<span class="string">&quot;å½“å‰å¼‚æ­¥å¤„ç†çš„æ˜¯ç¬¬&quot;</span>,v,<span class="string">&quot;ä¸ªè®¢å•&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Pythonæ‰¹é‡æ›¿æ¢æ–‡ä»¶å,Pythonæ‰¹é‡ä¿®æ”¹æ–‡ä»¶åå‰ç¼€</title>
      <link href="/posts/41707/"/>
      <url>/posts/41707/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#è®¾å®šæ–‡ä»¶è·¯å¾„</span></span><br><span class="line">path=<span class="string">&quot;F:\\éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶è·¯å¾„\\&quot;</span></span><br><span class="line"><span class="comment">#éå†æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> os.listdir(path):</span><br><span class="line">    <span class="keyword">if</span> os.path.isfile(os.path.join(path,file))==<span class="literal">True</span>:</span><br><span class="line"><span class="comment">#è®¾ç½®æ–°æ–‡ä»¶å</span></span><br><span class="line">        new_name=file.replace(<span class="string">&quot;è¦æ›¿æ¢çš„è€çš„æ–‡ä»¶åå†…å®¹&quot;</span>,<span class="string">&quot;æ–°çš„æ–‡ä»¶åå†…å®¹&quot;</span>)</span><br><span class="line"><span class="comment">#é‡å‘½åæ–‡ä»¶</span></span><br><span class="line">        os.rename(os.path.join(path,file),os.path.join(path,new_name))</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;complete!&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysql5.7æ•°æ®åº“é™çº§åˆ°5.6ç‰ˆæœ¬</title>
      <link href="/posts/40627/"/>
      <url>/posts/40627/</url>
      
        <content type="html"><![CDATA[<p>ä»MySQL 5.7ç‰ˆæœ¬çš„æ•°æ®åº“å¯¼å‡ºsqlæ–‡ä»¶å,å¯¼å…¥åˆ°MySQL 5.6ç‰ˆæœ¬çš„æ•°æ®åº“ä¸­æŠ¥å¦‚ä¸‹é”™è¯¯</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Specified key was too long; max key length is 767 bytes</span><br></pre></td></tr></table></figure><p>é”™è¯¯æç¤ºç´¢å¼•å­—æ®µé•¿åº¦é¦–å…ˆ,æœ€å¤§é•¿åº¦767 bytes</p><p>åœ¨*.sqlæ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹è®¾ç½®:</p><p>é¦–å…ˆè®¾ç½®MySQLçš„å…¨å±€å‚æ•°innodb_large_prefix&#x3D;ONï¼Œå°†InnoDBè¡¨çš„ç´¢å¼•é•¿åº¦ä¸Šé™æ‰©å¤§åˆ°3072ä¸ªå­—èŠ‚</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> innodb_large_prefix <span class="operator">=</span> <span class="keyword">ON</span>;</span><br></pre></td></tr></table></figure><p>æŒ‡å®šinnodbæ–‡ä»¶æ ¼å¼ä¸ºBarracuda</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> innodb_file_format<span class="operator">=</span>Barracuda;</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> innodb_file_format_max<span class="operator">=</span>Barracuda;</span><br></pre></td></tr></table></figure><p>æœ€åæˆåŠŸå¯¼å…¥</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éšè—3Då¯¹è±¡ å¿«æ·æ  éšè— Win10 ä¸­çš„3Då¯¹è±¡ã€æ–‡æ¡£ã€éŸ³ä¹ã€å›¾ç‰‡ã€è§†é¢‘ã€ä¸‹è½½ã€æ¡Œé¢7ä¸ªæ–‡ä»¶å¤¹</title>
      <link href="/posts/57909/"/>
      <url>/posts/57909/</url>
      
        <content type="html"><![CDATA[<p>Github - <a href="https://github.com/haoleiqin/OSS/blob/master/Download/REG/Hide%203D%20object.reg">https://github.com/haoleiqin/OSS/blob/master/Download/REG/Hide%203D%20object.reg</a><br>Download - <a href="https://raw.githubusercontent.com/haoleiqin/OSS/master/Download/REG/Hide%203D%20object.reg">https://raw.githubusercontent.com/haoleiqin/OSS/master/Download/REG/Hide%203D%20object.reg</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">; åˆ é™¤æˆ‘çš„ç”µè„‘/æ­¤ç”µè„‘é‡Œé¢çš„ 3Då¯¹è±¡</span><br><span class="line">[-HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\&#123;0DB7E03F-FC29-4DC6-9020-FF41B59E513A&#125;]</span><br><span class="line">[-HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\&#123;0DB7E03F-FC29-4DC6-9020-FF41B59E513A&#125;]</span><br><span class="line"></span><br><span class="line">; éšè—å¦å­˜ä¸ºé‡Œé¢çš„ 3Då¯¹è±¡</span><br><span class="line">[-HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;31C0DD25-9439-4F12-BF41-7FF4EDA38722&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">;éšè—æˆ‘çš„ç”µè„‘/æ­¤ç”µè„‘é‡Œé¢çš„ å›¾ç‰‡</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;0ddd015d-b06c-45d5-8c4c-f59713854639&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">; éšè—å¦å­˜ä¸ºé‡Œé¢çš„ å›¾ç‰‡</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;0ddd015d-b06c-45d5-8c4c-f59713854639&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">; è§†é¢‘</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;35286a68-3c57-41a1-bbb1-0eae73d76c95&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;35286a68-3c57-41a1-bbb1-0eae73d76c95&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">; ä¸‹è½½</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;7d83ee9b-2244-4e70-b1f5-5393042af1e4&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;7d83ee9b-2244-4e70-b1f5-5393042af1e4&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">; éŸ³ä¹</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;a0c69a99-21c8-4671-8703-7934162fcf1d&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;a0c69a99-21c8-4671-8703-7934162fcf1d&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">; æ¡Œé¢</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;B4BFCC3A-DB2C-424C-B029-7FE99A87C641&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;B4BFCC3A-DB2C-424C-B029-7FE99A87C641&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">; æ–‡æ¡£</span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;f42ee2d3-909f-4907-8871-4c22fc0bf756&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Explorer\FolderDescriptions\&#123;f42ee2d3-909f-4907-8871-4c22fc0bf756&#125;\PropertyBag]</span><br><span class="line">&quot;ThisPCPolicy&quot;=&quot;Hide&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>jsè·å–åœ°å€æ å‚æ•°</title>
      <link href="/posts/21288/"/>
      <url>/posts/21288/</url>
      
        <content type="html"><![CDATA[<p>jsè·å–åœ°å€æ å‚æ•°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–åœ°å€æ å‚æ•°ï¼Œname:å‚æ•°åç§°</span></span><br><span class="line"><span class="attr">getUrlParms</span>: <span class="keyword">function</span> <span class="title function_">getUrlParms</span>(<span class="params">name</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^|&amp;)&quot;</span> + name + <span class="string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>);</span><br><span class="line">        <span class="keyword">var</span> r = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>.<span class="title function_">split</span>(<span class="string">&quot;?&quot;</span>)[<span class="number">1</span>].<span class="title function_">match</span>(reg);</span><br><span class="line">        <span class="keyword">if</span> (r != <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®å¡”Javaé¡¹ç›®æ—¥å¿— æœ¬åœ°æ—¥å¿—æ–‡ä»¶ä½ç½®</title>
      <link href="/posts/27535/"/>
      <url>/posts/27535/</url>
      
        <content type="html"><![CDATA[<p>å®å¡”Javaé¡¹ç›®æ—¥å¿— æœ¬åœ°æ—¥å¿—æ–‡ä»¶ä½ç½® å®å¡” java -jar æ—¥å¿—æ–‡ä»¶</p><p><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2021/bt0.png"></p><h2 id="s-java-jar-xxx-jarå-æ‰€æœ‰è¾“å‡ºçš„æ—¥å¿—å‡ä¿å­˜åœ¨ä»¥ä¸‹ç›®å½•å†…"><a href="#s-java-jar-xxx-jarå-æ‰€æœ‰è¾“å‡ºçš„æ—¥å¿—å‡ä¿å­˜åœ¨ä»¥ä¸‹ç›®å½•å†…" class="headerlink" title="s java -jar xxx.jarå æ‰€æœ‰è¾“å‡ºçš„æ—¥å¿—å‡ä¿å­˜åœ¨ä»¥ä¸‹ç›®å½•å†…"></a>s java -jar xxx.jarå æ‰€æœ‰è¾“å‡ºçš„æ—¥å¿—å‡ä¿å­˜åœ¨ä»¥ä¸‹ç›®å½•å†…</h2><blockquote><p>&#x2F;var&#x2F;tmp&#x2F;springboot&#x2F;vhost&#x2F;logs</p></blockquote><p><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2021/bt1.png"></p><h2 id="å†…ç½®é¡¹ç›®å’Œç‹¬ç«‹é¡¹ç›®-æ›´æ”¹springbootè·¯å¾„ä¸ºå¯¹åº”ç›®å½•"><a href="#å†…ç½®é¡¹ç›®å’Œç‹¬ç«‹é¡¹ç›®-æ›´æ”¹springbootè·¯å¾„ä¸ºå¯¹åº”ç›®å½•" class="headerlink" title="å†…ç½®é¡¹ç›®å’Œç‹¬ç«‹é¡¹ç›®,æ›´æ”¹springbootè·¯å¾„ä¸ºå¯¹åº”ç›®å½•"></a>å†…ç½®é¡¹ç›®å’Œç‹¬ç«‹é¡¹ç›®,æ›´æ”¹springbootè·¯å¾„ä¸ºå¯¹åº”ç›®å½•</h2>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Go gorm åŸç”ŸSQLæŸ¥è¯¢ å‘½åå‚æ•°æ–¹å¼  Query Raw SQL with Scan , Named parameters</title>
      <link href="/posts/49704/"/>
      <url>/posts/49704/</url>
      
        <content type="html"><![CDATA[<p>gorm docs <a href="https://gorm.io/docs/sql_builder.html">https://gorm.io/docs/sql_builder.html</a></p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> MerchBill <span class="keyword">struct</span> &#123;</span><br><span class="line">ID        <span class="type">uint</span>           <span class="string">`gorm:&quot;primarykey&quot;`</span> <span class="comment">// ä¸»é”®ID</span></span><br><span class="line">CreatedAt time.Time      <span class="comment">// åˆ›å»ºæ—¶é—´</span></span><br><span class="line">UpdatedAt time.Time      <span class="comment">// æ›´æ–°æ—¶é—´</span></span><br><span class="line">DeletedAt gorm.DeletedAt <span class="string">`gorm:&quot;index&quot; json:&quot;-&quot;`</span> <span class="comment">// åˆ é™¤æ—¶é—´</span></span><br><span class="line">Applyno  <span class="type">string</span>   <span class="string">`json:&quot;applyno&quot; form:&quot;applyno&quot; gorm:&quot;column:applyno;comment:è®¢å•å·;type:varchar(255);&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getList</span><span class="params">(info req.Mer)</span></span> (err <span class="type">error</span>, list <span class="keyword">interface</span>&#123;&#125;, total <span class="type">int64</span>) &#123; </span><br><span class="line">db := *gorm.DB.Model(&amp;MerchBill&#123;&#125;)</span><br><span class="line"><span class="keyword">var</span> MerchBills []MerchBill</span><br><span class="line"><span class="keyword">var</span> MerchBillsCount []MerchBill</span><br><span class="line"></span><br><span class="line">sqlHeader := <span class="string">&quot;SELECT bill.*,mer.mobile,mer.merchname  &quot;</span></span><br><span class="line">sqlHeaderCount := <span class="string">&quot;SELECT COUNT(*) AS countnum &quot;</span></span><br><span class="line">sql := <span class="string">&quot; FROM billtable AS bill left join merch_user as mer on mer.id = bill.merchid WHERE 1 &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sqlParam <span class="keyword">struct</span> &#123;</span><br><span class="line">Applyno       <span class="type">string</span></span><br><span class="line">Status        *<span class="type">int</span></span><br><span class="line">Applytype     *<span class="type">int</span></span><br><span class="line">Applyrealname <span class="type">string</span></span><br><span class="line">Merchname     <span class="type">string</span></span><br><span class="line">Limit         <span class="type">int</span></span><br><span class="line">Offset        <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> info.Applyno != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">sql += <span class="string">&quot; AND `bill`.applyno = @Applyno &quot;</span></span><br><span class="line">sqlParam.Applyno = info.Applyno</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> info.Status != <span class="literal">nil</span> &#123;</span><br><span class="line">sql += <span class="string">&quot; AND `bill`.status = @Status &quot;</span></span><br><span class="line">sqlParam.Status = info.Status</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> info.Applytype != <span class="literal">nil</span> &#123;</span><br><span class="line">sql += <span class="string">&quot; AND `bill`.applytype = @Applytype &quot;</span></span><br><span class="line">sqlParam.Applytype = info.Applytype</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> info.Applyrealname != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">sql += <span class="string">&quot; AND `bill`.applyrealname = @Applyrealname &quot;</span></span><br><span class="line">sqlParam.Applyrealname = info.Applyrealname</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> info.Merchname != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">sql += <span class="string">&quot; AND `mer`.merchname. LIKE @Merchname &quot;</span></span><br><span class="line">sqlParam.Merchname = info.Merchname</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sqlFooter := <span class="string">&quot; ORDER BY id DESC LIMIT @Offset,@Limit&quot;</span></span><br><span class="line">sqlParam.Limit = info.PageSize</span><br><span class="line">sqlParam.Offset = info.PageSize * (info.Page - <span class="number">1</span>)</span><br><span class="line">err = db.Raw(sqlHeader+sql+sqlFooter, sqlParam).Scan(&amp;MerchBills).Error</span><br><span class="line">err = db.Raw(sqlHeaderCount+sql, sqlParam).Scan(&amp;MerchBillsCount).Error</span><br><span class="line">total = MerchBillsCount[<span class="number">0</span>].Countnum</span><br><span class="line"><span class="keyword">return</span> err, MerchBills, total</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Go å¤„ç†PHP serializeåºåˆ—åŒ–æ•°æ® ååºåˆ—åŒ– Go php serialize to json</title>
      <link href="/posts/59073/"/>
      <url>/posts/59073/</url>
      
        <content type="html"><![CDATA[<p>ä»£ç åœ°å€ <a href="https://github.com/haoleiqin/Go-PHP-serialize-json">https://github.com/haoleiqin/Go-PHP-serialize-json</a><br>php serialize to json (Go)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [id] =&gt; 1</span><br><span class="line">            [price] =&gt; 80</span><br><span class="line">            [name] =&gt; ä¸€ä¸ªåå­—</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>phpserialize string</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a:1:&#123;i:0;a:3:&#123;s:2:&quot;id&quot;;i:1;s:5:&quot;price&quot;;i:80;s:4:&quot;name&quot;;s:12:&quot;ä¸€ä¸ªåå­—&quot;;&#125;&#125;</span><br></pre></td></tr></table></figure><p>to json</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[&#123;&quot;Id&quot;:1,&quot;Price&quot;:80,&quot;Name&quot;:&quot;ä¸€ä¸ªåå­—&quot;&#125;]</span><br></pre></td></tr></table></figure><p>run go test</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;net/url&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;github.com/haoleiqin/phpserialize&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> serObj <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> serializeStruct <span class="keyword">struct</span> &#123;</span><br><span class="line">Id    <span class="type">int64</span></span><br><span class="line">Price <span class="type">int64</span></span><br><span class="line">Name  <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(serObj *serObj)</span></span> Phpserialize2Json(serialize <span class="type">string</span>) (jsonres <span class="type">string</span>) &#123;</span><br><span class="line"><span class="keyword">var</span> serializeMap []<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">err := phpserialize.Unmarshal([]<span class="type">byte</span>(serialize), &amp;serializeMap)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> convertData serializeStruct</span><br><span class="line"><span class="keyword">var</span> jsonMap []serializeStruct</span><br><span class="line"><span class="keyword">var</span> jsonRes <span class="type">string</span></span><br><span class="line">listKey := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> _, list := <span class="keyword">range</span> serializeMap &#123;</span><br><span class="line">listKey += <span class="number">1</span></span><br><span class="line">keyIndexNumCount := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> vkey, value := <span class="keyword">range</span> list.(<span class="keyword">map</span>[<span class="keyword">interface</span>&#123;&#125;]<span class="keyword">interface</span>&#123;&#125;) &#123;</span><br><span class="line">keyIndexNumCount += <span class="number">1</span></span><br><span class="line"><span class="keyword">switch</span> vkey &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;id&quot;</span>:</span><br><span class="line">convertData.Id = value.(<span class="type">int64</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;price&quot;</span>:</span><br><span class="line">convertData.Price = value.(<span class="type">int64</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;name&quot;</span>:</span><br><span class="line">convertData.Name = value.(<span class="type">string</span>)</span><br><span class="line">paramNums := <span class="number">3</span></span><br><span class="line"><span class="keyword">if</span> keyIndexNumCount == paramNums &#123;</span><br><span class="line">jsonMap = <span class="built_in">append</span>(jsonMap, convertData)</span><br><span class="line"><span class="keyword">if</span> listKey &gt;= <span class="built_in">len</span>(serializeMap) &#123;</span><br><span class="line">data, errsjon := json.Marshal(jsonMap)</span><br><span class="line"><span class="keyword">if</span> errsjon != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(errsjon)</span><br><span class="line">&#125;</span><br><span class="line">enEscapeUrl, queryUnescapeErr := url.QueryUnescape(<span class="type">string</span>(data))</span><br><span class="line"><span class="keyword">if</span> queryUnescapeErr != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(queryUnescapeErr)</span><br><span class="line">&#125;</span><br><span class="line">jsonRes = enEscapeUrl</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> jsonRes</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³uniapp å°ç¨‹åº vendor.jsè¿‡å¤§ å¤§äº500K æ— æ³•è½¬æ¢ES5é—®é¢˜</title>
      <link href="/posts/50563/"/>
      <url>/posts/50563/</url>
      
        <content type="html"><![CDATA[<h4 id="è§£å†³uniapp-å°ç¨‹åº-vendor-jsè¿‡å¤§-å¤§äº500K-æ— æ³•è½¬æ¢ES5é—®é¢˜"><a href="#è§£å†³uniapp-å°ç¨‹åº-vendor-jsè¿‡å¤§-å¤§äº500K-æ— æ³•è½¬æ¢ES5é—®é¢˜" class="headerlink" title="è§£å†³uniapp å°ç¨‹åº vendor.jsè¿‡å¤§ å¤§äº500K æ— æ³•è½¬æ¢ES5é—®é¢˜"></a>è§£å†³uniapp å°ç¨‹åº vendor.jsè¿‡å¤§ å¤§äº500K æ— æ³•è½¬æ¢ES5é—®é¢˜</h4><p>é¡¹ç›®é¡µé¢147ä¸ª,ç¼–è¯‘åçš„vendor.jså¤§å°2.4M,å¯¼è‡´æ— æ³•æ­£å¸¸è½¬æ¢ES5,å¯¼è‡´sourcemapä¸‹è½½åéƒ½æ˜¯åˆ†å·;;;;;, æ— æ³•å®šä½çº¿ä¸Šé”™è¯¯æ—¥å¿—çš„æ–‡ä»¶ä½ç½®.</p><p>ç¬¬ä¸€æ­¥æ˜¯æœ€é‡è¦çš„,éæ ¸å¿ƒé¡µé¢åšåˆ†åŒ…å¤„ç†<a href="https://uniapp.dcloud.io/collocation/pages?id=subpackages">åˆ†åŒ…å¤„ç†æ–‡æ¡£</a>,ç„¶ååœ¨manifest.jsonæ–‡ä»¶ä¸­è¿›è¡Œå¦‚ä¸‹é…ç½®,è¿™æ ·æ‰“åŒ…çš„æ—¶å€™åªæœ‰ä¸»åŒ…é¡µé¢ä¼šæ‰“åŒ…åˆ°vendor.jså†…</p><blockquote><p>manifest.json</p></blockquote><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;mp-weixin&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;optimization&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;subPackages&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥:ä½¿ç”¨jscompressç­‰å·¥å…·è¿›è¡ŒäºŒæ¬¡å‹ç¼©</p><p>æœ€ç»ˆæˆåŠŸå°†vendor.jsç¼©å°å¾®160K,æˆåŠŸè½¬æ¢ä¸ºES5</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniappä¸Šæ¶åä¸ºåº”ç”¨å•†åº— éšç§å¤„ç†</title>
      <link href="/posts/58576/"/>
      <url>/posts/58576/</url>
      
        <content type="html"><![CDATA[<p>1.ä¸è¦ç”³è¯·Appå†…æœªä½¿ç”¨çš„æƒé™<br>2.åœ¨app-plusä¸‹çš„privacyä¸­é…ç½®åŸç”Ÿtemplateéšç§åè®®å¼¹çª—,æ³¨æ„è¿™é‡Œçš„templateä¼šåœ¨APPå¯åŠ¨å‰ä¼˜å…ˆè¿è¡Œ,åä¸ºå•†åº—å®¡æ ¸è§„åˆ™è¦æ±‚å¿…é¡»åœ¨è¿›å…¥åº”ç”¨å…ˆå¼¹å‡ºéšç§è¯¢é—®.</p><p>manifest.json ç›¸å…³é…ç½®</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;appid&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;x&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;versionName&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;3.0.60&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;versionCode&quot;</span> <span class="punctuation">:</span> <span class="number">100</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;transformPx&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;app-plus&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;distribute&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;android&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;permissions&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                    <span class="string">&quot;&lt;uses-permission android:name=\&quot;android.permission.CALL_PHONE\&quot;/&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="string">&quot;&lt;uses-permission android:name=\&quot;android.permission.INTERNET\&quot;/&gt;&quot;</span></span><br><span class="line">                <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;permissionExternalStorage&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;request&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;prompt&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;ä¸ºä¿è¯æ‚¨æ­£å¸¸ã€å®‰å…¨åœ°ä½¿ç”¨ï¼Œéœ€è¦è·å–è®¾å¤‡è¯†åˆ«ç ï¼ˆéƒ¨åˆ†æ‰‹æœºæç¤ºä¸ºè·å–æ‰‹æœºå·ç ï¼‰ä½¿ç”¨æƒé™ï¼Œè¯·å…è®¸ã€‚&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;permissionPhoneState&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;request&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;prompt&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;ä¸ºä¿è¯æ‚¨æ­£å¸¸ã€å®‰å…¨åœ°ä½¿ç”¨ï¼Œéœ€è¦è·å–è®¾å¤‡è¯†åˆ«ç ï¼ˆéƒ¨åˆ†æ‰‹æœºæç¤ºä¸ºè·å–æ‰‹æœºå·ç ï¼‰ä½¿ç”¨æƒé™ï¼Œè¯·å…è®¸ã€‚&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;autoSdkPermissions&quot;</span> <span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;ios&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;capabilities&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;entitlements&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;com.apple.developer.associated-domains&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span> <span class="string">&quot;applinks:static-3d89687e-06a3-477e-9255-89948cfcaa4a.bspapp.com&quot;</span> <span class="punctuation">]</span></span><br><span class="line">                    <span class="punctuation">&#125;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;privacy&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;prompt&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;template&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;template&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;title&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;æœåŠ¡åè®®å’Œéšç§æ”¿ç­–&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;message&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;ã€€ã€€è¯·ä½ åŠ¡å¿…å®¡æ…é˜…è¯»ã€å……åˆ†ç†è§£â€œæœåŠ¡åè®®â€å’Œâ€œéšç§æ”¿ç­–â€å„æ¡æ¬¾ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šä¸ºäº†æ›´å¥½çš„å‘ä½ æä¾›æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦æ”¶é›†ä½ çš„è®¾å¤‡æ ‡è¯†ã€æ“ä½œæ—¥å¿—ç­‰ä¿¡æ¯ç”¨äºåˆ†æã€ä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚&lt;br/&gt;ã€€ã€€ä½ å¯é˜…è¯»&lt;a href=\&quot;https://xieyi.com\&quot;&gt;ã€ŠæœåŠ¡åè®®ã€‹&lt;/a&gt;å’Œ&lt;a href=\&quot;https://xieyi.com\&quot;&gt;ã€Šéšç§æ”¿ç­–ã€‹&lt;/a&gt;äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚å¦‚æœä½ åŒæ„ï¼Œè¯·ç‚¹å‡»ä¸‹é¢æŒ‰é’®å¼€å§‹æ¥å—æˆ‘ä»¬çš„æœåŠ¡ã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;buttonAccept&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;åŒæ„å¹¶ç»§ç»­&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;buttonRefuse&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;æš‚ä¸åŒæ„&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;second&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;title&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;æ¸©é¦¨æç¤º&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;message&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;ã€€ã€€è¿›å…¥åº”ç”¨å‰ï¼Œä½ éœ€å…ˆåŒæ„&lt;a href=&#x27;\&quot;&#x27;https://https://xieyi.com\&quot;&gt;ã€ŠæœåŠ¡åè®®ã€‹&lt;/a&gt;å’Œ&lt;a href=\&quot;https://xieyi.com\&quot;&gt;ã€Šéšç§æ”¿ç­–ã€‹&lt;/a&gt;ï¼Œå¦åˆ™å°†é€€å‡ºåº”ç”¨ã€‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;buttonAccept&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;åŒæ„å¹¶ç»§ç»­&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;buttonRefuse&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;é€€å‡ºåº”ç”¨&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MQTT client conflict å®¢æˆ·ç«¯IDå†²çªå¯¼è‡´é‡å¤æ‰çº¿é—®é¢˜</title>
      <link href="/posts/3126234220012/"/>
      <url>/posts/3126234220012/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨åšç‰©è¿å¼€å‘è¿‡ç¨‹ä¸­ç”¨åˆ°äº†MQTTåè®®,å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜:æ¯æ¬¡å»ºç«‹è¿æ¥å,å¾ˆå¿«å°±ä¼šæ–­å¼€é‡æ–°è¿æ¥,ç„¶åä¸æ–­æ–­å¼€é‡é“¾ </p><p>é¦–å…ˆè®¢é˜…ç«¯(è®¾å¤‡ç«¯)subscribe ä¸ æ¨é€ç«¯(publish)æ˜¯å®Œå…¨åˆ†å¼€çš„</p><p>å‰åè€…èº«ä»½å¯ä»¥éšæ—¶äº’æ¢,å®ƒä»¬éƒ½å•ç‹¬ä¸MQTTæœåŠ¡å™¨ä¿æŒé€šè®¯,è¿™æ ·è®¢é˜…ç«¯å’Œæ¨é€ç«¯åœ¨å»ºç«‹è¿æ¥æ—¶,æ³¨æ„æ˜¯å»ºç«‹é“¾æ¥ä¸æ˜¯è·å–è®¢é˜…æˆ–è€…å‘é€æ¨é€ä¿¡æ¯æ—¶</p><p>clientIDåº”è¯¥æ˜¯ç‹¬ç«‹å”¯ä¸€çš„,æ¯”å¦‚ç”¨æ—¶é—´æˆ³+uidçš„æ–¹å¼, å½“publishæ¨é€æ—¶å†å°†è®¾å¤‡IDç»„åˆå‘é€, è®¢é˜…ç«¯subscribeæ—¶å°±å¯ä»¥è¾¨åˆ«è®¾å¤‡å·æ¥æ¥æ”¶æ¨é€æ¶ˆæ¯äº†</p><p>æˆ‘çŠ¯çš„é”™è¯¯ä¸»è¦æ˜¯åœ¨è®¢é˜…ç«¯å’Œæ¨é€ç«¯å»ºç«‹é“¾æ¥connectæ—¶,éƒ½åªä½¿ç”¨äº†ä¸»é¢˜topic+è®¾å¤‡IDçš„å½¢å¼æ„å»ºclientID,è¿™æ ·å¯¼è‡´ä¸¤ç«¯çš„clientIDå®Œå…¨ä¸€è‡´,å¯¼è‡´äº†client conflictå†²çªçš„é—®é¢˜</p><p>è§£å†³åŠæ³•åªè¦å°†clientåŠ ä¸Šæ—¶é—´æˆ³å’Œuidå³å¯</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MQTT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLå­˜å‚¨å­—ç¬¦è¡¨æƒ….</title>
      <link href="/posts/2020110801/"/>
      <url>/posts/2020110801/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å°ç¨‹åºè¯„è®ºä¸­è¦æ”¯æŒå­—ç¬¦è¡¨æƒ…,å‘ç°å­—ç¬¦è¡¨æƒ…ä¸€ä¸ªå­—ç¬¦å å››ä¸ªå­—èŠ‚,æ‰€ä»¥éœ€è¦å°†å­—æ®µä¸æ•°æ®åº“æ”¹ä¸ºutf8mb4ç¼–ç æ ¼å¼,ä½†æ˜¯æ”¹å®Œæ•°æ®åº“,è¡¨å’Œå­—æ®µç¼–ç åè¡¨æƒ…ä¸€ç›´æ˜¯é—®å·???</p><p>éœ€è¦å°†å­—æ®µä¸æ•°æ®åº“æ”¹ä¸ºutf8mb4ç¼–ç æ ¼å¼;</p><p>è®°å½•ä¸€ä¸ªè‡ªå·±çŠ¯çš„é”™è¯¯: ä¸ä»…è¦ä¿®æ”¹å­—æ®µçš„ç¼–ç æ ¼å¼,è¿˜è¦ä¿®æ”¹è¡¨çš„ç¼–ç æ ¼å¼,mysqlæ•°æ®åº“çš„çš„configæ–‡ä»¶</p><p>è¿˜è¦ä¿®æ”¹åˆ›å»ºæ•°æ®åº“é“¾æ¥æ—¶æ‰€ç”¨å­—ç¬¦ç¼–ç æ ¼å¼ä¸ºâ€™utf8mb4â€™æ‰è¡Œ</p><p>ä¹‹å‰åœ¨ä¿®æ”¹äº†å‰ä¸‰ä¸ªåœ°æ–¹çš„ç¼–ç æ ¼å¼å,æ— è®ºæ€ä¹ˆå°è¯•éƒ½ä¸ç”Ÿæ•ˆ,è¡¨æƒ…ä¸€ç›´æ˜¯???,ç»“æœå‘ç°ä»£ç é‡Œåˆ›å»ºæ•°æ®åº“é“¾æ¥çš„åœ°æ–¹ç¼–ç æ ¼å¼è¿˜æ˜¯utf-8,æ”¹æˆutf8mb4,å†è¯•å¥½äº†</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ApiCloudæ‰“åŒ…H5å£³APP,apicloud h5ä½¿ç”¨apiå¯¹è±¡æ¥å£,h5é€€å‡ºAppåº”ç”¨æ–¹æ³•,Apicloud Web Appé€€å‡ºApp</title>
      <link href="/posts/43012/"/>
      <url>/posts/43012/</url>
      
        <content type="html"><![CDATA[<p>ApiCloudæ‰“åŒ…H5å£³APP,apicloud h5ä½¿ç”¨apiå¯¹è±¡æ¥å£,h5é€€å‡ºAppåº”ç”¨æ–¹æ³•,Apicloud Web Appé€€å‡ºApp</p><p>ä½¿ç”¨H5æ‰“åŒ…çš„apicloud web app,éœ€è¦é€€å‡ºAppæ—¶,å¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªæ¥å£</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onclick</span>=<span class="string">&#x27;closeApp()&#x27;</span>&gt;</span>ç›´æ¥é€€å‡º!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    api.<span class="title function_">closeWidget</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">silent</span>:<span class="literal">true</span> <span class="comment">// é™é»˜é€€å‡º</span></span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ApiCloud apiæ¥å£å¯ä»¥ç›´æ¥åœ¨Web Appé‡Œä½¿ç”¨<br><a href="https://docs.apicloud.com/Client-API/api#14">https://docs.apicloud.com/Client-API/api#14</a></p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ApiCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPå›¾åƒæ–‡å­—ç»˜åˆ¶ åæ ‡å°ºå¯¸æµ‹é‡ PHPå›¾åƒæ–‡å­—æ°´å¹³å±…ä¸­å¤„ç†</title>
      <link href="/posts/4818520201028/"/>
      <url>/posts/4818520201028/</url>
      
        <content type="html"><![CDATA[<p>PHPç»˜åˆ¶æ–‡å­—åˆ°å›¾åƒæ—¶,æœ‰æ—¶éœ€è¦æ–‡å­—å±…ä¸­,è¿™æ—¶å€™å°±è¦ç”¨åˆ°imagettfbboxå‡½æ•°.<br>ç¤ºä¾‹:</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.é…ç½®å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"><span class="variable">$src</span> = <span class="string">&#x27;å›¾ç‰‡æœ¬åœ°è·¯å¾„&#x27;</span>;</span><br><span class="line"><span class="comment">//2.è·å–å›¾ç‰‡ä¿¡æ¯</span></span><br><span class="line"><span class="variable">$info</span> = <span class="title function_ invoke__">getimagesize</span>(<span class="variable">$src</span>);</span><br><span class="line"><span class="comment">//3.é€šè¿‡ç¼–å·è·å–å›¾åƒç±»å‹</span></span><br><span class="line"><span class="variable">$type</span> = <span class="title function_ invoke__">image_type_to_extension</span>(<span class="variable">$info</span>[<span class="number">2</span>], <span class="literal">false</span>);</span><br><span class="line"><span class="comment">//4.åœ¨å†…å­˜ä¸­åˆ›å»ºå’Œå›¾åƒç±»å‹ä¸€æ ·çš„å›¾åƒ</span></span><br><span class="line"><span class="variable">$fun</span> = <span class="string">&quot;imagecreatefrom&quot;</span> . <span class="variable">$type</span>;</span><br><span class="line"><span class="comment">//5.å›¾ç‰‡å¤åˆ¶åˆ°å†…å­˜</span></span><br><span class="line"><span class="variable">$image</span> = <span class="variable">$fun</span>(<span class="variable">$src</span>);</span><br><span class="line"><span class="variable">$font</span> = <span class="string">&quot;å­—ä½“.ttf&quot;</span>;</span><br><span class="line"><span class="variable">$content</span>=<span class="string">&#x27;æˆ‘æ˜¯æ–‡å­—å†…å®¹&#x27;</span>;</span><br><span class="line"><span class="variable">$fontSize</span> = <span class="number">40</span>;<span class="comment">//åƒç´ å­—ä½“å¤§å°</span></span><br><span class="line"><span class="comment">//è®¾ç½®å­—ä½“é¢œè‰²å’Œé€æ˜åº¦</span></span><br><span class="line"><span class="variable">$color</span> = <span class="title function_ invoke__">imagecolorallocatealpha</span>(<span class="variable">$image</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"><span class="comment">//è®¡ç®—æ–‡å­—è¾¹è·åæ ‡ä½ç½®</span></span><br><span class="line"><span class="variable">$fontBox</span> = <span class="title function_ invoke__">imagettfbbox</span>(<span class="variable">$fontSize</span>, <span class="number">0</span>, <span class="variable">$font</span>, <span class="variable">$content</span>);</span><br><span class="line"><span class="comment">//æ–‡å­—æ°´å¹³å±…ä¸­å¤„ç† $info[0]æ˜¯å›¾åƒæ€»å®½åº¦,é€šè¿‡getimagesize($src)å‡½æ•°è·å–å›¾åƒå®½åº¦.</span></span><br><span class="line"><span class="title function_ invoke__">imagettftext</span>(<span class="variable">$image</span>, <span class="variable">$fontSize</span>, <span class="number">0</span>,<span class="title function_ invoke__">ceil</span>((<span class="variable">$info</span>[<span class="number">0</span>]- <span class="variable">$fontBox</span>[<span class="number">2</span>]) / <span class="number">2</span>), <span class="variable">$merchnameHpx</span>, <span class="variable">$color</span>, <span class="variable">$font</span>, <span class="variable">$content</span>);</span><br><span class="line"><span class="variable">$fun</span> = <span class="string">&quot;image&quot;</span> . <span class="variable">$type</span>;</span><br><span class="line"><span class="comment">//ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ°</span></span><br><span class="line"><span class="variable">$resultImg_2</span> = <span class="title function_ invoke__">uniqid</span>() . <span class="string">&#x27;bg_res.&#x27;</span> . <span class="variable">$type</span>;</span><br><span class="line"><span class="variable">$fun</span>(<span class="variable">$image</span>, <span class="string">&#x27;../æœ¬åœ°ä¿å­˜è·¯å¾„/&#x27;</span> . <span class="variable">$resultImg_2</span>);</span><br><span class="line"><span class="comment">/*é”€æ¯å›¾ç‰‡*/</span></span><br><span class="line"><span class="title function_ invoke__">imagedestroy</span>(<span class="variable">$image</span>);</span><br></pre></td></tr></table></figure><hr><p>imagettfbbox â€” å–å¾—ä½¿ç”¨ TrueType å­—ä½“çš„æ–‡æœ¬çš„èŒƒå›´</p><p>å‚æ•°è¯´æ˜ Â¶<br>imagettfbbox ( float $size , float $angle , string $fontfile , string $text ) : array<br>æœ¬å‡½æ•°è®¡ç®—å¹¶è¿”å›ä¸€ä¸ªåŒ…å›´ç€ TrueType æ–‡æœ¬èŒƒå›´çš„è™šæ‹Ÿæ–¹æ¡†çš„åƒç´ å¤§å°ã€‚</p><p>size<br>åƒç´ å•ä½çš„å­—ä½“å¤§å°ã€‚<br>angle<br>text å°†è¢«åº¦é‡çš„è§’åº¦å¤§å°ã€‚<br>fontfile<br>TrueType å­—ä½“æ–‡ä»¶çš„æ–‡ä»¶åï¼ˆå¯ä»¥æ˜¯ URLï¼‰ã€‚æ ¹æ® PHP æ‰€ä½¿ç”¨çš„ GD åº“ç‰ˆæœ¬ï¼Œå¯èƒ½å°è¯•æœç´¢é‚£äº›ä¸æ˜¯ä»¥ â€˜&#x2F;â€˜ å¼€å¤´çš„æ–‡ä»¶åå¹¶åŠ ä¸Š â€˜.ttfâ€™ çš„åç¼€å¹¶æœç´¢åº“å®šä¹‰çš„å­—ä½“è·¯å¾„ã€‚<br>text<br>è¦åº¦é‡çš„å­—ç¬¦ä¸²ã€‚</p><hr><p>è¿”å›å€¼<br>imagettfbbox() è¿”å›ä¸€ä¸ªå«æœ‰ 8 ä¸ªå•å…ƒçš„æ•°ç»„è¡¨ç¤ºäº†æ–‡æœ¬å¤–æ¡†çš„å››ä¸ªè§’ï¼š<br>0å·¦ä¸‹è§’ X ä½ç½®<br>1å·¦ä¸‹è§’ Y ä½ç½®<br>2å³ä¸‹è§’ X ä½ç½®<br>3å³ä¸‹è§’ Y ä½ç½®<br>4å³ä¸Šè§’ X ä½ç½®<br>5å³ä¸Šè§’ Y ä½ç½®<br>6å·¦ä¸Šè§’ X ä½ç½®<br>7å·¦ä¸Šè§’ Y ä½ç½®</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç»˜å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®æ“ç™»å½•å,ç›´æ¥è·³è½¬åˆ°åº”ç”¨åå°</title>
      <link href="/posts/34576/"/>
      <url>/posts/34576/</url>
      
        <content type="html"><![CDATA[<p>å¾®æ“ç™»å½•å,ç›´æ¥è·³è½¬åˆ°åº”ç”¨åå°</p><p>å¾®æ“ç‰ˆæœ¬: v2.5.4</p><p>æ ¹ç›®å½•\web\source\user\login.ctrl.php</p><p>åº•éƒ¨æ‰¾åˆ°</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">itoast</span>(<span class="string">&quot;æ¬¢è¿å›æ¥ï¼Œ<span class="subst">&#123;$record[&#x27;username&#x27;]&#125;</span>&quot;</span>, <span class="variable">$forward</span>, <span class="string">&#x27;success&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ä»£ç ,åœ¨å‰é¢æ·»åŠ </p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$forward</span> =<span class="string">&#x27;./index.php?c=home&amp;a=welcome&amp;do=ext&amp;m=æ¨¡å—å&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆ</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">isetcookie</span>(<span class="string">&#x27;__uid&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="number">7</span> * <span class="number">86400</span>);</span><br><span class="line"><span class="title function_ invoke__">isetcookie</span>(<span class="string">&#x27;__uniacid&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="number">7</span> * <span class="number">86400</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$forward</span> =<span class="string">&#x27;./index.php?c=home&amp;a=welcome&amp;do=ext&amp;m=xxx&#x27;</span>;</span><br><span class="line"><span class="title function_ invoke__">itoast</span>(<span class="string">&quot;æ¬¢è¿å›æ¥ï¼Œ<span class="subst">&#123;$record[&#x27;username&#x27;]&#125;</span>ã€‚&quot;</span>, <span class="variable">$forward</span>, <span class="string">&#x27;success&#x27;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>çŒ®è¡€è®°</title>
      <link href="/posts/4319/"/>
      <url>/posts/4319/</url>
      
        <content type="html"><![CDATA[<p>è®°å½•ç¬¬äºŒæ¬¡çŒ®è¡€<br><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2020/xianxue1.jpg" alt="(^Ï‰^)"><br><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2020/xianxue2.jpg" alt="(^Ï‰^)"><br><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2020/xianxue3.jpg" alt="(^Ï‰^)"></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…¬ç›Š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿›ç¨‹ çº¿ç¨‹ å­è¿›ç¨‹ About Processes,Threads,Coroutine</title>
      <link href="/posts/55598/"/>
      <url>/posts/55598/</url>
      
        <content type="html"><![CDATA[<p>here is a story to explain what Processes,Threads,Coroutine is,and<br>understanding of parallel and concurrent programming</p><h3 id="1-Parallel-and-Concurrent"><a href="#1-Parallel-and-Concurrent" class="headerlink" title="1.Parallel and Concurrent"></a>1.Parallel and Concurrent</h3><ul><li>Parallel: simultaneous execution of multiple tasks</li><li>Concurrent Multiple tasks are executed alternately on the same processor</li></ul><h3 id="2-Processes"><a href="#2-Processes" class="headerlink" title="2.Processes"></a>2.Processes</h3><p><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2020/Processes%20and%20Threads2.png" alt="(^Ï‰^)"><br>mean program in progress</p><h4 id="strengths-and-weaknesses"><a href="#strengths-and-weaknesses" class="headerlink" title="strengths and weaknesses"></a>strengths and weaknesses</h4><p>strengths:</p><ul><li>more stability and safety</li></ul><p>weaknesses:</p><ul><li>require more resource overhead when processe swiching</li><li>IPC is complex and time-consuming</li></ul><h3 id="3-Threads"><a href="#3-Threads" class="headerlink" title="3.Threads"></a>3.Threads</h3><p><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2020/Processes%20and%20Threads.png" alt="(^Ï‰^)"><br>Thread contained in process,also called lightweight process</p><p>if Processes as a hight speed road, threads like the car, they make one processes can execute multiple task</p><h4 id="strengths-and-weaknesses-1"><a href="#strengths-and-weaknesses-1" class="headerlink" title="strengths and weaknesses"></a>strengths and weaknesses</h4><p>strengths:</p><ul><li>require less resource overhead when threads swiching</li></ul><p>weaknesses:</p><ul><li>not stable enough,data might be lost,deadlock</li></ul><h3 id="4-Coroutine"><a href="#4-Coroutine" class="headerlink" title="4.Coroutine"></a>4.Coroutine</h3><p>coroutine is lightweight threads<br><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2020/Processes%20and%20Threads3.jpg" alt="(^Ï‰^)"></p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">echoTimes</span>(<span class="params"><span class="variable">$msg</span>, <span class="variable">$max</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">1</span>; <span class="variable">$i</span> &lt;= <span class="variable">$max</span>; ++<span class="variable">$i</span>) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$msg</span> iteration <span class="subst">$i</span>\n&quot;</span>;</span><br><span class="line">        <span class="keyword">yield</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">task1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> <span class="title function_ invoke__">echoTimes</span>(<span class="string">&#x27;bar&#x27;</span>, <span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>strengths:</p><ul><li>high execution efficiency</li><li>shared resource,no need lock</li></ul><p>for multi-core cpu,use multiple processes and coroutine,can get better performance</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿›ç¨‹/çº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP ZIPARCHIVE å‹ç¼©æ–‡ä»¶å¤„ç†ç›®å½•ç»“æ„ PHP ZIPARCHIVE directory structure</title>
      <link href="/posts/47954/"/>
      <url>/posts/47954/</url>
      
        <content type="html"><![CDATA[<p>PHP ZIPARCHIVE å‹ç¼©æ–‡ä»¶å¤„ç†ç›®å½•ç»“æ„ Prevent directory structure in compressed package</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$flag</span> = <span class="variable">$zip</span>-&gt;<span class="title function_ invoke__">open</span>(<span class="variable">$filePath</span>, \ZIPARCHIVE::<span class="variable constant_">CREATE</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$flag</span>!== <span class="literal">TRUE</span>) &#123;</span><br><span class="line">      <span class="comment">//if Linux,need check file authorization</span></span><br><span class="line">      <span class="keyword">exit</span>(<span class="string">&quot;open file err=&quot;</span>+<span class="variable">$flag</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//add test.php to zip file </span></span><br><span class="line"><span class="variable">$zip</span>-&gt;<span class="title function_ invoke__">addFile</span>(<span class="string">&#x27;test.php&#x27;</span>);</span><br><span class="line"><span class="comment">// run rename</span></span><br><span class="line"><span class="variable">$zip</span>-&gt;<span class="title function_ invoke__">renameName</span>(<span class="string">&#x27;test.php&#x27;</span>,<span class="string">&#x27;test.php&#x27;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>async await promise demo</title>
      <link href="/posts/14797/"/>
      <url>/posts/14797/</url>
      
        <content type="html"><![CDATA[<p>async await promise å®ä¾‹</p><p><a href="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/2020/promise.mp4">video demo</a></p><video id="video"  controls="" preload="none" width=100% poster="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/2020/promise.png"><source id="mp4" src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/2020/promise.mp4" type="video/mp4"></video><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">step1</span>(<span class="params">query</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">success</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> waiting=<span class="number">2000</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">           <span class="title function_">success</span>(<span class="string">&#x27;wait-time:&#x27;</span>+waiting+<span class="string">&#x27; step:&#x27;</span>+query);</span><br><span class="line">        &#125;, waiting);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">step2</span>(<span class="params">query</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">success</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> waiting=<span class="number">1000</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">success</span>(<span class="string">&#x27;wait-time:&#x27;</span>+waiting+<span class="string">&#x27; step:&#x27;</span>+query);</span><br><span class="line">        &#125;, waiting);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">step3</span>(<span class="params">query</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">success</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> waiting=<span class="number">500</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">success</span>(<span class="string">&#x27;wait-time:&#x27;</span>+waiting+<span class="string">&#x27; step:&#x27;</span>+query);</span><br><span class="line">        &#125;, waiting);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">task</span> = <span class="keyword">async</span>(<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">step1</span>(<span class="string">&#x27;step1&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">success</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(success);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">step2</span>(<span class="string">&#x27;step2&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">success</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(success);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">step3</span>(<span class="string">&#x27;step3&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">success</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(success);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">task</span>();</span><br><span class="line"><span class="comment">// step 1,2,3 setTimout&#x27;time is decrement,but will execute in order by async function tack</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>axios post data by form type</title>
      <link href="/posts/3174/"/>
      <url>/posts/3174/</url>
      
        <content type="html"><![CDATA[<p>axios post data by form type,axios application&#x2F;x-www-form-urlencoded</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">request</span>(&#123;</span><br><span class="line">        <span class="comment">// url: &#x27;&#x27;,</span></span><br><span class="line">        <span class="attr">transformRequest</span>: [<span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> ret = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> it <span class="keyword">in</span> data) &#123;</span><br><span class="line">                ret += <span class="built_in">encodeURIComponent</span>(it) + <span class="string">&#x27;=&#x27;</span> + <span class="built_in">encodeURIComponent</span>(data[it]) + <span class="string">&#x27;&amp;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">        &#125;],</span><br><span class="line">        <span class="attr">headers</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">        <span class="attr">params</span>: query</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­¦æ±‰è‚ºç‚å† çŠ¶ç—…æ¯’ç–«æƒ…ä¿¡æ¯æ¥å£Api</title>
      <link href="/posts/46178/"/>
      <url>/posts/46178/</url>
      
        <content type="html"><![CDATA[<p>è¯·å¤§å®¶è®¤å‡†å›½å®¶å«å¥å§”å‘å¸ƒçš„æƒå¨æ•°æ®ï¼Œä¸ç§è‡ªä¼ æ’­ç–«æƒ…ç›¸å…³ä¿¡æ¯ï¼Œç›¸ä¿¡æƒå¨åª’ä½“çš„ä¸“ä¸šå‘å¸ƒï¼Œä¸é€ è°£ä¸ä¼ è°£ä¸ä¿¡è°£<br>æ•°æ®ä»…ä¾›å­¦ä¹ ä½¿ç”¨,ç¦æ­¢ä»–ç”¨<br>å«å„å›½å®¶å’Œä¸­å›½å„åŸå¸‚å†å²ç»Ÿè®¡.æ­¦æ±‰åŠ æ²¹ ä¸­å›½åŠ æ²¹ ä¼—å¿—æˆåŸ å…±æ¸¡éš¾å…³!</p><h4 id="å…¨å±€"><a href="#å…¨å±€" class="headerlink" title="å…¨å±€"></a>å…¨å±€</h4><ul><li><p>è¯·æ±‚ç±»å‹: GET || POST</p></li><li><p>è¯·æ±‚æ ¼å¼: application&#x2F;x-www-form-urlencoded</p></li><li><p>ç¼–ç : UTF-8  æ—¶åŒº:Asia&#x2F;Shanghai</p></li></ul><hr><h4 id="æŒ‰åŸå¸‚æŸ¥è¯¢-æ¥å£"><a href="#æŒ‰åŸå¸‚æŸ¥è¯¢-æ¥å£" class="headerlink" title="æŒ‰åŸå¸‚æŸ¥è¯¢-æ¥å£"></a>æŒ‰åŸå¸‚æŸ¥è¯¢-æ¥å£</h4><h5 id="æµ‹è¯•åœ°å€"><a href="#æµ‹è¯•åœ°å€" class="headerlink" title="æµ‹è¯•åœ°å€"></a>æµ‹è¯•åœ°å€</h5><p><a href="https://myapi.ihogu.com/public/?s=Whfy.city">https://myapi.ihogu.com/public/?s=Whfy.city</a></p><h5 id="è¯·æ±‚å‚æ•°"><a href="#è¯·æ±‚å‚æ•°" class="headerlink" title="è¯·æ±‚å‚æ•°"></a>è¯·æ±‚å‚æ•°</h5><table><thead><tr><th>å‚æ•°å</th><th>å‚æ•°ç±»å‹</th><th>å‚æ•°æ ¼å¼</th><th>å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>s</td><td>string</td><td>è¯·å¡«å†™ Whfy.city</td><td>å¿…å¡«</td><td>Whfy.city</td><td>æ–¹æ³•å</td></tr><tr><td>page</td><td>int</td><td>&gt;&#x3D;1</td><td>é€‰å¡«</td><td>1</td><td>ç¬¬?é¡µ</td></tr><tr><td>limit</td><td>int</td><td>1-5000</td><td>é€‰å¡«</td><td>200</td><td>æ¯é¡µ?æ¡</td></tr><tr><td>area</td><td>string</td><td>çœä»½æ¨¡ç³Šæœç´¢ä¾‹å¦‚ æ¹–åŒ— ä¸å¸¦â€™çœâ€™å­—</td><td>é€‰å¡«</td><td>æ— </td><td>æœ«å°¾ä¸è¦åŠ â€™çœâ€™</td></tr><tr><td>city</td><td>string</td><td>åŸå¸‚æ¨¡ç³Šæœç´¢ä¾‹å¦‚ æ­¦æ±‰ ä¸å¸¦â€™å¸‚â€™å­—</td><td>é€‰å¡«</td><td>æ— </td><td>æœ«å°¾ä¸è¦åŠ â€™å¸‚â€™</td></tr><tr><td>date_start</td><td>date</td><td>Y-m-d 2020-02-20</td><td>é€‰å¡«</td><td>æ— </td><td>date_endå­˜åœ¨æ—¶å¿…å¡«</td></tr><tr><td>date_end</td><td>date</td><td>Y-m-d 2020-02-22</td><td>é€‰å¡«</td><td>æ— </td><td>date_startå­˜åœ¨æ—¶å¿…å¡«</td></tr><tr><td>order</td><td>string</td><td>æ’åºå­—æ®µ,å¯é€‰å€¼ confirm,suspect,dead,heal,create_time</td><td>é€‰å¡«</td><td>æ— </td><td>å«ä¹‰è§è¿”å›å€¼è¯´æ˜</td></tr><tr><td>order_sort</td><td>string</td><td>æ’åºæ–¹å¼,å¯é€‰å€¼ DESC,ASC</td><td>é€‰å¡«</td><td>ASC</td><td>å¤§å†™</td></tr></tbody></table><h2 id="è¿”å›å€¼è¯´æ˜"><a href="#è¿”å›å€¼è¯´æ˜" class="headerlink" title="è¿”å›å€¼è¯´æ˜"></a>è¿”å›å€¼è¯´æ˜<br><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// https://myapi.ihogu.com/public/?s=Whfy.city</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;ret&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;items&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;country&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸­å›½&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;area&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æ¹–åŒ—&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æ­¦æ±‰&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;confirm&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1590&quot;</span><span class="punctuation">,</span> <span class="comment">// å·²ç¡®è®¤ </span></span><br><span class="line">        <span class="attr">&quot;dead&quot;</span><span class="punctuation">:</span> <span class="string">&quot;85&quot;</span><span class="punctuation">,</span> <span class="comment">// æ­»äº¡</span></span><br><span class="line">        <span class="attr">&quot;heal&quot;</span><span class="punctuation">:</span> <span class="string">&quot;44&quot;</span><span class="punctuation">,</span> <span class="comment">// æ²»æ„ˆ</span></span><br><span class="line">        <span class="attr">&quot;create_time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2020-01-28&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">339</span>  <span class="comment">// è®¡æ•°count</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span> <span class="comment">// é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></h2><h4 id="æŒ‰å›½å®¶æŸ¥è¯¢-æ¥å£"><a href="#æŒ‰å›½å®¶æŸ¥è¯¢-æ¥å£" class="headerlink" title="æŒ‰å›½å®¶æŸ¥è¯¢-æ¥å£"></a>æŒ‰å›½å®¶æŸ¥è¯¢-æ¥å£</h4><h5 id="æµ‹è¯•åœ°å€-1"><a href="#æµ‹è¯•åœ°å€-1" class="headerlink" title="æµ‹è¯•åœ°å€"></a>æµ‹è¯•åœ°å€</h5><p><a href="https://myapi.ihogu.com/public/?s=Whfy.count">https://myapi.ihogu.com/public/?s=Whfy.count</a></p><h5 id="è¯·æ±‚å‚æ•°-1"><a href="#è¯·æ±‚å‚æ•°-1" class="headerlink" title="è¯·æ±‚å‚æ•°"></a>è¯·æ±‚å‚æ•°</h5><table><thead><tr><th>å‚æ•°å</th><th>å‚æ•°ç±»å‹</th><th>å‚æ•°æ ¼å¼</th><th>å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>s</td><td>string</td><td>è¯·å¡«å†™ Whfy.count</td><td>å¿…å¡«</td><td>Whfy.count</td><td>æ–¹æ³•å</td></tr><tr><td>country</td><td>string</td><td>å›½å®¶æ¨¡ç³Šæœç´¢ä¾‹å¦‚ æ–¯é‡Œå…°å¡</td><td>é€‰å¡«</td><td>æ— </td><td></td></tr><tr><td>page</td><td>int</td><td>&gt;&#x3D;1</td><td>é€‰å¡«</td><td>1</td><td>ç¬¬?é¡µ</td></tr><tr><td>limit</td><td>int</td><td>1-5000</td><td>é€‰å¡«</td><td>200</td><td>æ¯é¡µ?æ¡</td></tr><tr><td>date_start</td><td>date</td><td>Y-m-d 2020-02-20</td><td>é€‰å¡«</td><td>æ— </td><td>date_endå­˜åœ¨æ—¶å¿…å¡«</td></tr><tr><td>date_end</td><td>date</td><td>Y-m-d 2020-02-22</td><td>é€‰å¡«</td><td>æ— </td><td>date_startå­˜åœ¨æ—¶å¿…å¡«</td></tr><tr><td>order</td><td>string</td><td>æ’åºå­—æ®µ,å¯é€‰å€¼ confirm,suspect,dead,heal,create_time</td><td>é€‰å¡«</td><td>æ— </td><td>å«ä¹‰è§è¿”å›å€¼è¯´æ˜</td></tr><tr><td>order_sort</td><td>string</td><td>æ’åºæ–¹å¼,å¯é€‰å€¼ DESC,ASC</td><td>é€‰å¡«</td><td>ASC</td><td>å¤§å†™</td></tr></tbody></table><p>è¿”å›å€¼è¯´æ˜</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// https://myapi.ihogu.com/public/?s=Whfy.count</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;ret&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;items&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;country&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸­å›½&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;confirm&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4685&quot;</span><span class="punctuation">,</span><span class="comment">// å·²ç¡®è®¤</span></span><br><span class="line">        <span class="attr">&quot;suspect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;98&quot;</span><span class="punctuation">,</span> <span class="comment">// ç–‘ä¼¼</span></span><br><span class="line">        <span class="attr">&quot;dead&quot;</span><span class="punctuation">:</span> <span class="string">&quot;106&quot;</span><span class="punctuation">,</span><span class="comment">// æ­»äº¡</span></span><br><span class="line">        <span class="attr">&quot;heal&quot;</span><span class="punctuation">:</span> <span class="string">&quot;73&quot;</span><span class="punctuation">,</span><span class="comment">// æ²»æ„ˆ</span></span><br><span class="line">        <span class="attr">&quot;create_time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2020-01-28&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">1</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><a href="https://news.qq.com/">æ•°æ®æ¥æº:è…¾è®¯æ–°é—»</a></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>git reset to new repository</title>
      <link href="/posts/3126234/"/>
      <url>/posts/3126234/</url>
      
        <content type="html"><![CDATA[<p> git reset to new repository </p><ul><li>git checkout â€“orphan latest_branch</li><li>git add -A</li><li>git commit -am â€œcommit messageâ€</li><li>git branch -D master</li><li>git branch -m master</li><li>git push -f origin master</li></ul><p>one line:</p><p>git checkout â€“orphan latest_branch &amp;&amp; git add -A &amp;&amp; git commit -am â€œcommit messageâ€ &amp;&amp; git branch -D master &amp;&amp; git branch -m master &amp;&amp; git push -f origin master</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>We are getting married</title>
      <link href="/posts/27255/"/>
      <url>/posts/27255/</url>
      
        <content type="html"><![CDATA[<div class="gallery">    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2018/%E7%BB%93%E5%A9%9A%E5%95%A6.png","alt":"(^Ï‰^)"},{"url":"http://ihogo-1251903635.piccd.myqcloud.com/qin/blog/img/2018/jiehun2.jpg?imageMogr2/thumbnail/x800","alt":"(^Ï‰^)"},{"url":"http://ihogo-1251903635.piccd.myqcloud.com/qin/blog/img/2018/jiehun1.jpg?imageMogr2/thumbnail/x800","alt":"(^Ï‰^)"},{"url":"http://ihogo-1251903635.piccd.myqcloud.com/qin/blog/img/2018/jiehun4.jpg?imageMogr2/thumbnail/x800","alt":"(^Ï‰^)"},{"url":"http://ihogo-1251903635.piccd.myqcloud.com/qin/blog/img/2018/jiehun5.jpg?imageMogr2/thumbnail/x800","alt":"(^Ï‰^)"}]</span>    </div>    <button class="gallery-load-more"><span>åŠ è½½æ›´å¤š</span><i class="fa-solid fa-arrow-down"></i></button>    </div>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>My first blood donation</title>
      <link href="/posts/38678/"/>
      <url>/posts/38678/</url>
      
        <content type="html"><![CDATA[<p>record my first blood donation<br><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2019/xianxue1.png" alt="(^Ï‰^)"></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> public spirited </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Came to WeiHai</title>
      <link href="/posts/5432/"/>
      <url>/posts/5432/</url>
      
        <content type="html"><![CDATA[<video id="video"  controls="" preload="none" width=100% poster="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/%E6%9D%A5%E5%A8%81%E6%B5%B7%E4%BA%86.png"><source id="mp4" src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/%E6%9D%A5%E5%A8%81%E6%B5%B7%E4%BA%86.mp4" type="video/mp4"></video><video id="video"  controls="" preload="none" width=100% poster="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/%E6%9D%A5%E5%A8%81%E6%B5%B7%E4%BA%861.png"><source id="mp4" src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/%E6%9D%A5%E5%A8%81%E6%B5%B7%E4%BA%861.mp4" type="video/mp4"></video></video>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Northern Expedition Memorial(English/Chinese)</title>
      <link href="/posts/41828/"/>
      <url>/posts/41828/</url>
      
        <content type="html"><![CDATA[<video id="video"  controls="" preload="none" width=100% poster="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/%E5%87%BA%E5%B8%88%E8%A1%A8.png"><source id="mp4" src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/video/%E5%87%BA%E5%B8%88%E8%A1%A8.mp4" type="video/mp4"></video><h4 id="ä½œè€…ï¼šè¯¸è‘›äº®-é­æ™‹"><a href="#ä½œè€…ï¼šè¯¸è‘›äº®-é­æ™‹" class="headerlink" title="ä½œè€…ï¼šè¯¸è‘›äº® (é­æ™‹)"></a>ä½œè€…ï¼šè¯¸è‘›äº® (é­æ™‹)</h4><h4 id="è‡£äº®è¨€ï¼šå…ˆå¸åˆ›ä¸šæœªåŠè€Œä¸­é“å´©æ®‚ï¼Œ"><a href="#è‡£äº®è¨€ï¼šå…ˆå¸åˆ›ä¸šæœªåŠè€Œä¸­é“å´©æ®‚ï¼Œ" class="headerlink" title="è‡£äº®è¨€ï¼šå…ˆå¸åˆ›ä¸šæœªåŠè€Œä¸­é“å´©æ®‚ï¼Œ"></a>è‡£äº®è¨€ï¼šå…ˆå¸åˆ›ä¸šæœªåŠè€Œä¸­é“å´©æ®‚ï¼Œ</h4><p>Permit me to observe: the late emperor was taken from us before he could finish his life&#96;s work, the restoration of Han.</p><h4 id="ä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œç›Šå·ç–²å¼Šï¼Œæ­¤è¯šå±æ€¥å­˜äº¡ä¹‹ç§‹ä¹Ÿã€‚"><a href="#ä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œç›Šå·ç–²å¼Šï¼Œæ­¤è¯šå±æ€¥å­˜äº¡ä¹‹ç§‹ä¹Ÿã€‚" class="headerlink" title="ä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œç›Šå·ç–²å¼Šï¼Œæ­¤è¯šå±æ€¥å­˜äº¡ä¹‹ç§‹ä¹Ÿã€‚"></a>ä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œç›Šå·ç–²å¼Šï¼Œæ­¤è¯šå±æ€¥å­˜äº¡ä¹‹ç§‹ä¹Ÿã€‚</h4><p>Today, the empire is still divided in three, and our very survival is threatened.</p><h4 id="ç„¶ä¾å«ä¹‹è‡£ä¸æ‡ˆäºå†…ï¼Œå¿ å¿—ä¹‹å£«å¿˜èº«äºå¤–è€…ï¼Œ"><a href="#ç„¶ä¾å«ä¹‹è‡£ä¸æ‡ˆäºå†…ï¼Œå¿ å¿—ä¹‹å£«å¿˜èº«äºå¤–è€…ï¼Œ" class="headerlink" title="ç„¶ä¾å«ä¹‹è‡£ä¸æ‡ˆäºå†…ï¼Œå¿ å¿—ä¹‹å£«å¿˜èº«äºå¤–è€…ï¼Œ"></a>ç„¶ä¾å«ä¹‹è‡£ä¸æ‡ˆäºå†…ï¼Œå¿ å¿—ä¹‹å£«å¿˜èº«äºå¤–è€…ï¼Œ</h4><p>Yet still the officials at court and the soldiers throughout the realm remain loyal to you, your majesty.</p><h4 id="ç›–è¿½å…ˆå¸ä¹‹æ®Šé‡ï¼Œæ¬²æŠ¥ä¹‹äºé™›ä¸‹ä¹Ÿã€‚"><a href="#ç›–è¿½å…ˆå¸ä¹‹æ®Šé‡ï¼Œæ¬²æŠ¥ä¹‹äºé™›ä¸‹ä¹Ÿã€‚" class="headerlink" title="ç›–è¿½å…ˆå¸ä¹‹æ®Šé‡ï¼Œæ¬²æŠ¥ä¹‹äºé™›ä¸‹ä¹Ÿã€‚"></a>ç›–è¿½å…ˆå¸ä¹‹æ®Šé‡ï¼Œæ¬²æŠ¥ä¹‹äºé™›ä¸‹ä¹Ÿã€‚</h4><p>Because they remember the late emperor, all of them, and they wish to repay his kindness in service to you.</p><h4 id="è¯šå®œå¼€å¼ åœ£å¬ï¼Œä»¥å…‰å…ˆå¸é—å¾·ï¼Œæ¢å¼˜å¿—å£«ä¹‹æ°”ï¼Œ"><a href="#è¯šå®œå¼€å¼ åœ£å¬ï¼Œä»¥å…‰å…ˆå¸é—å¾·ï¼Œæ¢å¼˜å¿—å£«ä¹‹æ°”ï¼Œ" class="headerlink" title="è¯šå®œå¼€å¼ åœ£å¬ï¼Œä»¥å…‰å…ˆå¸é—å¾·ï¼Œæ¢å¼˜å¿—å£«ä¹‹æ°”ï¼Œ"></a>è¯šå®œå¼€å¼ åœ£å¬ï¼Œä»¥å…‰å…ˆå¸é—å¾·ï¼Œæ¢å¼˜å¿—å£«ä¹‹æ°”ï¼Œ</h4><p>This is the moment to extend your divine influence, to honour the memory of the late Emperor and strengthen the morale of your officers.</p><h4 id="ä¸å®œå¦„è‡ªè²è–„ï¼Œå¼•å–»å¤±ä¹‰ï¼Œä»¥å¡å¿ è°ä¹‹è·¯ä¹Ÿã€‚"><a href="#ä¸å®œå¦„è‡ªè²è–„ï¼Œå¼•å–»å¤±ä¹‰ï¼Œä»¥å¡å¿ è°ä¹‹è·¯ä¹Ÿã€‚" class="headerlink" title="ä¸å®œå¦„è‡ªè²è–„ï¼Œå¼•å–»å¤±ä¹‰ï¼Œä»¥å¡å¿ è°ä¹‹è·¯ä¹Ÿã€‚"></a>ä¸å®œå¦„è‡ªè²è–„ï¼Œå¼•å–»å¤±ä¹‰ï¼Œä»¥å¡å¿ è°ä¹‹è·¯ä¹Ÿã€‚</h4><p>It is not time to listen to bad advice, or close your ears to the suggestions of loyal men.</p><h4 id="å®«ä¸­åºœä¸­ï¼Œä¿±ä¸ºä¸€ä½“ï¼Œé™Ÿç½šè‡§å¦ï¼Œä¸å®œå¼‚åŒã€‚"><a href="#å®«ä¸­åºœä¸­ï¼Œä¿±ä¸ºä¸€ä½“ï¼Œé™Ÿç½šè‡§å¦ï¼Œä¸å®œå¼‚åŒã€‚" class="headerlink" title="å®«ä¸­åºœä¸­ï¼Œä¿±ä¸ºä¸€ä½“ï¼Œé™Ÿç½šè‡§å¦ï¼Œä¸å®œå¼‚åŒã€‚"></a>å®«ä¸­åºœä¸­ï¼Œä¿±ä¸ºä¸€ä½“ï¼Œé™Ÿç½šè‡§å¦ï¼Œä¸å®œå¼‚åŒã€‚</h4><p>The court and the administration are as one. Both must be judged by one standard.</p><h4 id="è‹¥æœ‰ä½œå¥¸çŠ¯ç§‘åŠä¸ºå¿ å–„è€…ï¼Œå®œä»˜æœ‰å¸è®ºå…¶åˆ‘èµï¼Œ"><a href="#è‹¥æœ‰ä½œå¥¸çŠ¯ç§‘åŠä¸ºå¿ å–„è€…ï¼Œå®œä»˜æœ‰å¸è®ºå…¶åˆ‘èµï¼Œ" class="headerlink" title="è‹¥æœ‰ä½œå¥¸çŠ¯ç§‘åŠä¸ºå¿ å–„è€…ï¼Œå®œä»˜æœ‰å¸è®ºå…¶åˆ‘èµï¼Œ"></a>è‹¥æœ‰ä½œå¥¸çŠ¯ç§‘åŠä¸ºå¿ å–„è€…ï¼Œå®œä»˜æœ‰å¸è®ºå…¶åˆ‘èµï¼Œ</h4><p>Those who are loyal and good must get what they deserve, but so must the evil-doers who break the law.</p><h4 id="ä»¥æ˜­é™›ä¸‹å¹³æ˜ä¹‹ç†ï¼Œä¸å®œåç§ï¼Œä½¿å†…å¤–å¼‚æ³•ä¹Ÿã€‚"><a href="#ä»¥æ˜­é™›ä¸‹å¹³æ˜ä¹‹ç†ï¼Œä¸å®œåç§ï¼Œä½¿å†…å¤–å¼‚æ³•ä¹Ÿã€‚" class="headerlink" title="ä»¥æ˜­é™›ä¸‹å¹³æ˜ä¹‹ç†ï¼Œä¸å®œåç§ï¼Œä½¿å†…å¤–å¼‚æ³•ä¹Ÿã€‚"></a>ä»¥æ˜­é™›ä¸‹å¹³æ˜ä¹‹ç†ï¼Œä¸å®œåç§ï¼Œä½¿å†…å¤–å¼‚æ³•ä¹Ÿã€‚</h4><p>This will demonstrate the justice of your rule. There cannot be one law for the court and another for the administration.</p><h4 id="ä¾ä¸­ã€ä¾éƒéƒ­æ”¸ä¹‹ã€è´¹ç¥ã€è‘£å…ç­‰ï¼Œæ­¤çš†è‰¯å®ï¼Œå¿—è™‘å¿ çº¯ï¼Œæ˜¯ä»¥å…ˆå¸ç®€æ‹”ä»¥é—é™›ä¸‹ã€‚æ„šä»¥ä¸ºå®«ä¸­ä¹‹äº‹ï¼Œäº‹æ— å¤§å°ï¼Œæ‚‰ä»¥å’¨ä¹‹ï¼Œç„¶åæ–½è¡Œï¼Œå¿…å¾—è£¨è¡¥é˜™æ¼ï¼Œæœ‰æ‰€å¹¿ç›Šã€‚"><a href="#ä¾ä¸­ã€ä¾éƒéƒ­æ”¸ä¹‹ã€è´¹ç¥ã€è‘£å…ç­‰ï¼Œæ­¤çš†è‰¯å®ï¼Œå¿—è™‘å¿ çº¯ï¼Œæ˜¯ä»¥å…ˆå¸ç®€æ‹”ä»¥é—é™›ä¸‹ã€‚æ„šä»¥ä¸ºå®«ä¸­ä¹‹äº‹ï¼Œäº‹æ— å¤§å°ï¼Œæ‚‰ä»¥å’¨ä¹‹ï¼Œç„¶åæ–½è¡Œï¼Œå¿…å¾—è£¨è¡¥é˜™æ¼ï¼Œæœ‰æ‰€å¹¿ç›Šã€‚" class="headerlink" title="ä¾ä¸­ã€ä¾éƒéƒ­æ”¸ä¹‹ã€è´¹ç¥ã€è‘£å…ç­‰ï¼Œæ­¤çš†è‰¯å®ï¼Œå¿—è™‘å¿ çº¯ï¼Œæ˜¯ä»¥å…ˆå¸ç®€æ‹”ä»¥é—é™›ä¸‹ã€‚æ„šä»¥ä¸ºå®«ä¸­ä¹‹äº‹ï¼Œäº‹æ— å¤§å°ï¼Œæ‚‰ä»¥å’¨ä¹‹ï¼Œç„¶åæ–½è¡Œï¼Œå¿…å¾—è£¨è¡¥é˜™æ¼ï¼Œæœ‰æ‰€å¹¿ç›Šã€‚"></a>ä¾ä¸­ã€ä¾éƒéƒ­æ”¸ä¹‹ã€è´¹ç¥ã€è‘£å…ç­‰ï¼Œæ­¤çš†è‰¯å®ï¼Œå¿—è™‘å¿ çº¯ï¼Œæ˜¯ä»¥å…ˆå¸ç®€æ‹”ä»¥é—é™›ä¸‹ã€‚æ„šä»¥ä¸ºå®«ä¸­ä¹‹äº‹ï¼Œäº‹æ— å¤§å°ï¼Œæ‚‰ä»¥å’¨ä¹‹ï¼Œç„¶åæ–½è¡Œï¼Œå¿…å¾—è£¨è¡¥é˜™æ¼ï¼Œæœ‰æ‰€å¹¿ç›Šã€‚</h4><p>Counselors and attendants like Guo Youzhi, Fei Yi, and Dong Yun are all reliable men, loyal of purpose and pure in motive. The late Emperor selected them for office so that they would serve you after his death.These are the men who should be consulted on all palace affairs.</p><h4 id="å°†å†›å‘å® ï¼Œæ€§è¡Œæ·‘å‡ï¼Œæ™“ç•…å†›äº‹ï¼Œè¯•ç”¨ä¹‹äºæ˜”æ—¥ï¼Œå…ˆå¸ç§°ä¹‹æ›°èƒ½ï¼Œæ˜¯ä»¥ä¼—è®®ä¸¾å® ä¸ºç£ã€‚æ„šä»¥ä¸ºè¥ä¸­ä¹‹äº‹ï¼Œæ‚‰ä»¥å’¨ä¹‹ï¼Œå¿…èƒ½ä½¿è¡Œé˜µå’Œç¦ï¼Œä¼˜åŠ£å¾—æ‰€ã€‚"><a href="#å°†å†›å‘å® ï¼Œæ€§è¡Œæ·‘å‡ï¼Œæ™“ç•…å†›äº‹ï¼Œè¯•ç”¨ä¹‹äºæ˜”æ—¥ï¼Œå…ˆå¸ç§°ä¹‹æ›°èƒ½ï¼Œæ˜¯ä»¥ä¼—è®®ä¸¾å® ä¸ºç£ã€‚æ„šä»¥ä¸ºè¥ä¸­ä¹‹äº‹ï¼Œæ‚‰ä»¥å’¨ä¹‹ï¼Œå¿…èƒ½ä½¿è¡Œé˜µå’Œç¦ï¼Œä¼˜åŠ£å¾—æ‰€ã€‚" class="headerlink" title="å°†å†›å‘å® ï¼Œæ€§è¡Œæ·‘å‡ï¼Œæ™“ç•…å†›äº‹ï¼Œè¯•ç”¨ä¹‹äºæ˜”æ—¥ï¼Œå…ˆå¸ç§°ä¹‹æ›°èƒ½ï¼Œæ˜¯ä»¥ä¼—è®®ä¸¾å® ä¸ºç£ã€‚æ„šä»¥ä¸ºè¥ä¸­ä¹‹äº‹ï¼Œæ‚‰ä»¥å’¨ä¹‹ï¼Œå¿…èƒ½ä½¿è¡Œé˜µå’Œç¦ï¼Œä¼˜åŠ£å¾—æ‰€ã€‚"></a>å°†å†›å‘å® ï¼Œæ€§è¡Œæ·‘å‡ï¼Œæ™“ç•…å†›äº‹ï¼Œè¯•ç”¨ä¹‹äºæ˜”æ—¥ï¼Œå…ˆå¸ç§°ä¹‹æ›°èƒ½ï¼Œæ˜¯ä»¥ä¼—è®®ä¸¾å® ä¸ºç£ã€‚æ„šä»¥ä¸ºè¥ä¸­ä¹‹äº‹ï¼Œæ‚‰ä»¥å’¨ä¹‹ï¼Œå¿…èƒ½ä½¿è¡Œé˜µå’Œç¦ï¼Œä¼˜åŠ£å¾—æ‰€ã€‚</h4><p>Xiang Chong has proved himself a fine general in battle, and the late Emperor believed in him. That is why the assembly has recommended him for overall command. It will keep the troops happy if he is consulted on all military matters.</p><h4 id="äº²è´¤è‡£ï¼Œè¿œå°äººï¼Œæ­¤å…ˆæ±‰æ‰€ä»¥å…´éš†ä¹Ÿï¼›"><a href="#äº²è´¤è‡£ï¼Œè¿œå°äººï¼Œæ­¤å…ˆæ±‰æ‰€ä»¥å…´éš†ä¹Ÿï¼›" class="headerlink" title="äº²è´¤è‡£ï¼Œè¿œå°äººï¼Œæ­¤å…ˆæ±‰æ‰€ä»¥å…´éš†ä¹Ÿï¼›"></a>äº²è´¤è‡£ï¼Œè¿œå°äººï¼Œæ­¤å…ˆæ±‰æ‰€ä»¥å…´éš†ä¹Ÿï¼›</h4><p>The emperors of the Western Han chose their courtiers wisely, and their dynasty flourished.</p><h4 id="äº²å°äººï¼Œè¿œè´¤è‡£ï¼Œæ­¤åæ±‰æ‰€ä»¥å€¾é¢“ä¹Ÿã€‚"><a href="#äº²å°äººï¼Œè¿œè´¤è‡£ï¼Œæ­¤åæ±‰æ‰€ä»¥å€¾é¢“ä¹Ÿã€‚" class="headerlink" title="äº²å°äººï¼Œè¿œè´¤è‡£ï¼Œæ­¤åæ±‰æ‰€ä»¥å€¾é¢“ä¹Ÿã€‚"></a>äº²å°äººï¼Œè¿œè´¤è‡£ï¼Œæ­¤åæ±‰æ‰€ä»¥å€¾é¢“ä¹Ÿã€‚</h4><p>The emperors of the Eastern Han chose poorly, and they doomed the empire to ruin.</p><h4 id="å…ˆå¸åœ¨æ—¶ï¼Œæ¯ä¸è‡£è®ºæ­¤äº‹ï¼Œæœªå°ä¸å¹æ¯ç—›æ¨äºæ¡“ã€çµä¹Ÿã€‚"><a href="#å…ˆå¸åœ¨æ—¶ï¼Œæ¯ä¸è‡£è®ºæ­¤äº‹ï¼Œæœªå°ä¸å¹æ¯ç—›æ¨äºæ¡“ã€çµä¹Ÿã€‚" class="headerlink" title="å…ˆå¸åœ¨æ—¶ï¼Œæ¯ä¸è‡£è®ºæ­¤äº‹ï¼Œæœªå°ä¸å¹æ¯ç—›æ¨äºæ¡“ã€çµä¹Ÿã€‚"></a>å…ˆå¸åœ¨æ—¶ï¼Œæ¯ä¸è‡£è®ºæ­¤äº‹ï¼Œæœªå°ä¸å¹æ¯ç—›æ¨äºæ¡“ã€çµä¹Ÿã€‚</h4><p>Whenever the late Emperor discussed this problem with me, he lamented the failings of Emperors Huan and Ling.</p><h4 id="ä¾ä¸­ã€å°šä¹¦ã€é•¿å²ã€å‚å†›ï¼Œæ­¤æ‚‰è´è‰¯æ­»èŠ‚ä¹‹è‡£ï¼Œæ„¿é™›ä¸‹äº²ä¹‹ä¿¡ä¹‹ï¼Œåˆ™æ±‰å®¤ä¹‹éš†ï¼Œå¯è®¡æ—¥è€Œå¾…ä¹Ÿã€‚"><a href="#ä¾ä¸­ã€å°šä¹¦ã€é•¿å²ã€å‚å†›ï¼Œæ­¤æ‚‰è´è‰¯æ­»èŠ‚ä¹‹è‡£ï¼Œæ„¿é™›ä¸‹äº²ä¹‹ä¿¡ä¹‹ï¼Œåˆ™æ±‰å®¤ä¹‹éš†ï¼Œå¯è®¡æ—¥è€Œå¾…ä¹Ÿã€‚" class="headerlink" title="ä¾ä¸­ã€å°šä¹¦ã€é•¿å²ã€å‚å†›ï¼Œæ­¤æ‚‰è´è‰¯æ­»èŠ‚ä¹‹è‡£ï¼Œæ„¿é™›ä¸‹äº²ä¹‹ä¿¡ä¹‹ï¼Œåˆ™æ±‰å®¤ä¹‹éš†ï¼Œå¯è®¡æ—¥è€Œå¾…ä¹Ÿã€‚"></a>ä¾ä¸­ã€å°šä¹¦ã€é•¿å²ã€å‚å†›ï¼Œæ­¤æ‚‰è´è‰¯æ­»èŠ‚ä¹‹è‡£ï¼Œæ„¿é™›ä¸‹äº²ä¹‹ä¿¡ä¹‹ï¼Œåˆ™æ±‰å®¤ä¹‹éš†ï¼Œå¯è®¡æ—¥è€Œå¾…ä¹Ÿã€‚</h4><p>Advisors like Guo Youzhi, Fei Yi, Chen Zhen, Zhang Yi, and Jiang Wan â€“ these are all men of great integrity and devotion. I encourage you to trust them, your majesty, if the house of Han is to rise again.</p><h4 id="è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ï¼Œè‹Ÿå…¨æ€§å‘½äºä¹±ä¸–ï¼Œä¸æ±‚é—»è¾¾äºè¯¸ä¾¯ã€‚"><a href="#è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ï¼Œè‹Ÿå…¨æ€§å‘½äºä¹±ä¸–ï¼Œä¸æ±‚é—»è¾¾äºè¯¸ä¾¯ã€‚" class="headerlink" title="è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ï¼Œè‹Ÿå…¨æ€§å‘½äºä¹±ä¸–ï¼Œä¸æ±‚é—»è¾¾äºè¯¸ä¾¯ã€‚"></a>è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ï¼Œè‹Ÿå…¨æ€§å‘½äºä¹±ä¸–ï¼Œä¸æ±‚é—»è¾¾äºè¯¸ä¾¯ã€‚</h4><p>I begin as a common man, farming in my fields in Nanyang, doing what I could to survive in an age of chaos. I never had any interest in making a name for myself as a noble.</p><h4 id="å…ˆå¸ä¸ä»¥è‡£å‘é„™ï¼ŒçŒ¥è‡ªæ‰å±ˆï¼Œä¸‰é¡¾è‡£äºè‰åºä¹‹ä¸­ï¼Œå’¨è‡£ä»¥å½“ä¸–ä¹‹äº‹ï¼Œ"><a href="#å…ˆå¸ä¸ä»¥è‡£å‘é„™ï¼ŒçŒ¥è‡ªæ‰å±ˆï¼Œä¸‰é¡¾è‡£äºè‰åºä¹‹ä¸­ï¼Œå’¨è‡£ä»¥å½“ä¸–ä¹‹äº‹ï¼Œ" class="headerlink" title="å…ˆå¸ä¸ä»¥è‡£å‘é„™ï¼ŒçŒ¥è‡ªæ‰å±ˆï¼Œä¸‰é¡¾è‡£äºè‰åºä¹‹ä¸­ï¼Œå’¨è‡£ä»¥å½“ä¸–ä¹‹äº‹ï¼Œ"></a>å…ˆå¸ä¸ä»¥è‡£å‘é„™ï¼ŒçŒ¥è‡ªæ‰å±ˆï¼Œä¸‰é¡¾è‡£äºè‰åºä¹‹ä¸­ï¼Œå’¨è‡£ä»¥å½“ä¸–ä¹‹äº‹ï¼Œ</h4><p>The late Emperor was not ashamed to visit my cottage and seek my advice.</p><h4 id="ç”±æ˜¯æ„Ÿæ¿€ï¼Œé‚è®¸å…ˆå¸ä»¥é©±é©°ã€‚"><a href="#ç”±æ˜¯æ„Ÿæ¿€ï¼Œé‚è®¸å…ˆå¸ä»¥é©±é©°ã€‚" class="headerlink" title="ç”±æ˜¯æ„Ÿæ¿€ï¼Œé‚è®¸å…ˆå¸ä»¥é©±é©°ã€‚"></a>ç”±æ˜¯æ„Ÿæ¿€ï¼Œé‚è®¸å…ˆå¸ä»¥é©±é©°ã€‚</h4><p>Grateful for his regard, I responded to his appeal and threw myself into his service.</p><h4 id="åå€¼å€¾è¦†ï¼Œå—ä»»äºè´¥å†›ä¹‹é™…ï¼Œå¥‰å‘½äºå±éš¾ä¹‹é—´ï¼Œå°”æ¥äºŒåæœ‰ä¸€å¹´çŸ£ã€‚å…ˆå¸çŸ¥è‡£è°¨æ…ï¼Œæ•…ä¸´å´©å¯„è‡£ä»¥å¤§äº‹ä¹Ÿã€‚"><a href="#åå€¼å€¾è¦†ï¼Œå—ä»»äºè´¥å†›ä¹‹é™…ï¼Œå¥‰å‘½äºå±éš¾ä¹‹é—´ï¼Œå°”æ¥äºŒåæœ‰ä¸€å¹´çŸ£ã€‚å…ˆå¸çŸ¥è‡£è°¨æ…ï¼Œæ•…ä¸´å´©å¯„è‡£ä»¥å¤§äº‹ä¹Ÿã€‚" class="headerlink" title="åå€¼å€¾è¦†ï¼Œå—ä»»äºè´¥å†›ä¹‹é™…ï¼Œå¥‰å‘½äºå±éš¾ä¹‹é—´ï¼Œå°”æ¥äºŒåæœ‰ä¸€å¹´çŸ£ã€‚å…ˆå¸çŸ¥è‡£è°¨æ…ï¼Œæ•…ä¸´å´©å¯„è‡£ä»¥å¤§äº‹ä¹Ÿã€‚"></a>åå€¼å€¾è¦†ï¼Œå—ä»»äºè´¥å†›ä¹‹é™…ï¼Œå¥‰å‘½äºå±éš¾ä¹‹é—´ï¼Œå°”æ¥äºŒåæœ‰ä¸€å¹´çŸ£ã€‚å…ˆå¸çŸ¥è‡£è°¨æ…ï¼Œæ•…ä¸´å´©å¯„è‡£ä»¥å¤§äº‹ä¹Ÿã€‚</h4><p>Now twenty-one years has passed, the late Emperor always appreciated my caution and, in his final days, entrusted me with his cause.</p><h4 id="å—å‘½ä»¥æ¥ï¼Œå¤™å¤œå¿§å¹ï¼Œæä»˜æ‰˜ä¸æ•ˆï¼Œä»¥ä¼¤å…ˆå¸ä¹‹æ˜ï¼Œ"><a href="#å—å‘½ä»¥æ¥ï¼Œå¤™å¤œå¿§å¹ï¼Œæä»˜æ‰˜ä¸æ•ˆï¼Œä»¥ä¼¤å…ˆå¸ä¹‹æ˜ï¼Œ" class="headerlink" title="å—å‘½ä»¥æ¥ï¼Œå¤™å¤œå¿§å¹ï¼Œæä»˜æ‰˜ä¸æ•ˆï¼Œä»¥ä¼¤å…ˆå¸ä¹‹æ˜ï¼Œ"></a>å—å‘½ä»¥æ¥ï¼Œå¤™å¤œå¿§å¹ï¼Œæä»˜æ‰˜ä¸æ•ˆï¼Œä»¥ä¼¤å…ˆå¸ä¹‹æ˜ï¼Œ</h4><p>Since that moment, I have been tormented day and night by the fear that I might let him down.</p><h4 id="æ•…äº”æœˆæ¸¡æ³¸ï¼Œæ·±å…¥ä¸æ¯›ã€‚"><a href="#æ•…äº”æœˆæ¸¡æ³¸ï¼Œæ·±å…¥ä¸æ¯›ã€‚" class="headerlink" title="æ•…äº”æœˆæ¸¡æ³¸ï¼Œæ·±å…¥ä¸æ¯›ã€‚"></a>æ•…äº”æœˆæ¸¡æ³¸ï¼Œæ·±å…¥ä¸æ¯›ã€‚</h4><p>That is why I crossed the Lu river at the height of summer, and entered the wastelands beyond.</p><h4 id="ä»Šå—æ–¹å·²å®šï¼Œç”²å…µå·²è¶³ï¼Œ"><a href="#ä»Šå—æ–¹å·²å®šï¼Œç”²å…µå·²è¶³ï¼Œ" class="headerlink" title="ä»Šå—æ–¹å·²å®šï¼Œç”²å…µå·²è¶³ï¼Œ"></a>ä»Šå—æ–¹å·²å®šï¼Œç”²å…µå·²è¶³ï¼Œ</h4><p>Now the south has been subdued, and our forces are fully armed.</p><h4 id="å½“å¥–ç‡ä¸‰å†›ï¼ŒåŒ—å®šä¸­åŸï¼Œåº¶ç«­é©½é’ï¼Œæ”˜é™¤å¥¸å‡¶ï¼Œå…´å¤æ±‰å®¤ï¼Œè¿˜äºæ—§éƒ½ã€‚"><a href="#å½“å¥–ç‡ä¸‰å†›ï¼ŒåŒ—å®šä¸­åŸï¼Œåº¶ç«­é©½é’ï¼Œæ”˜é™¤å¥¸å‡¶ï¼Œå…´å¤æ±‰å®¤ï¼Œè¿˜äºæ—§éƒ½ã€‚" class="headerlink" title="å½“å¥–ç‡ä¸‰å†›ï¼ŒåŒ—å®šä¸­åŸï¼Œåº¶ç«­é©½é’ï¼Œæ”˜é™¤å¥¸å‡¶ï¼Œå…´å¤æ±‰å®¤ï¼Œè¿˜äºæ—§éƒ½ã€‚"></a>å½“å¥–ç‡ä¸‰å†›ï¼ŒåŒ—å®šä¸­åŸï¼Œåº¶ç«­é©½é’ï¼Œæ”˜é™¤å¥¸å‡¶ï¼Œå…´å¤æ±‰å®¤ï¼Œè¿˜äºæ—§éƒ½ã€‚</h4><p>I should lead our soldiers to conquer the northern heartland and attempt to remove the hateful traitors, restore the house of Han, and return it to the former capital.</p><h4 id="æ­¤è‡£æ‰€ä»¥æŠ¥å…ˆå¸è€Œå¿ é™›ä¸‹ä¹‹èŒåˆ†ä¹Ÿã€‚"><a href="#æ­¤è‡£æ‰€ä»¥æŠ¥å…ˆå¸è€Œå¿ é™›ä¸‹ä¹‹èŒåˆ†ä¹Ÿã€‚" class="headerlink" title="æ­¤è‡£æ‰€ä»¥æŠ¥å…ˆå¸è€Œå¿ é™›ä¸‹ä¹‹èŒåˆ†ä¹Ÿã€‚"></a>æ­¤è‡£æ‰€ä»¥æŠ¥å…ˆå¸è€Œå¿ é™›ä¸‹ä¹‹èŒåˆ†ä¹Ÿã€‚</h4><p>This the way I mean to honor my debt to the late Emperor and fulfill my duty to you.</p><h4 id="è‡³äºæ–Ÿé…ŒæŸç›Šï¼Œè¿›å°½å¿ è¨€ï¼Œåˆ™æ”¸ä¹‹ã€ç¥ã€å…ä¹‹ä»»ä¹Ÿã€‚"><a href="#è‡³äºæ–Ÿé…ŒæŸç›Šï¼Œè¿›å°½å¿ è¨€ï¼Œåˆ™æ”¸ä¹‹ã€ç¥ã€å…ä¹‹ä»»ä¹Ÿã€‚" class="headerlink" title="è‡³äºæ–Ÿé…ŒæŸç›Šï¼Œè¿›å°½å¿ è¨€ï¼Œåˆ™æ”¸ä¹‹ã€ç¥ã€å…ä¹‹ä»»ä¹Ÿã€‚"></a>è‡³äºæ–Ÿé…ŒæŸç›Šï¼Œè¿›å°½å¿ è¨€ï¼Œåˆ™æ”¸ä¹‹ã€ç¥ã€å…ä¹‹ä»»ä¹Ÿã€‚</h4><p>Guo Youzhi, Fei Yi, and Dong Yun are the ones who should be making policy decisions and recommendations.</p><h4 id="æ„¿é™›ä¸‹æ‰˜è‡£ä»¥è®¨è´¼å…´å¤ä¹‹æ•ˆï¼Œ"><a href="#æ„¿é™›ä¸‹æ‰˜è‡£ä»¥è®¨è´¼å…´å¤ä¹‹æ•ˆï¼Œ" class="headerlink" title="æ„¿é™›ä¸‹æ‰˜è‡£ä»¥è®¨è´¼å…´å¤ä¹‹æ•ˆï¼Œ"></a>æ„¿é™›ä¸‹æ‰˜è‡£ä»¥è®¨è´¼å…´å¤ä¹‹æ•ˆï¼Œ</h4><p>My only desire is to be permitted to drive out the traitors and restore the Han.</p><h4 id="ä¸æ•ˆï¼Œåˆ™æ²»è‡£ä¹‹ç½ªï¼Œä»¥å‘Šå…ˆå¸ä¹‹çµã€‚"><a href="#ä¸æ•ˆï¼Œåˆ™æ²»è‡£ä¹‹ç½ªï¼Œä»¥å‘Šå…ˆå¸ä¹‹çµã€‚" class="headerlink" title="ä¸æ•ˆï¼Œåˆ™æ²»è‡£ä¹‹ç½ªï¼Œä»¥å‘Šå…ˆå¸ä¹‹çµã€‚"></a>ä¸æ•ˆï¼Œåˆ™æ²»è‡£ä¹‹ç½ªï¼Œä»¥å‘Šå…ˆå¸ä¹‹çµã€‚</h4><h4 id="If-I-should-let-you-down-punish-my-offense-and-report-it-to-the-spirit-of-the-late-Emperor"><a href="#If-I-should-let-you-down-punish-my-offense-and-report-it-to-the-spirit-of-the-late-Emperor" class="headerlink" title="If I should let you down, punish my offense and report it to the spirit of the late Emperor."></a>If I should let you down, punish my offense and report it to the spirit of the late Emperor.</h4><h4 id="è‹¥æ— å…´å¾·ä¹‹è¨€ï¼Œåˆ™è´£æ”¸ä¹‹ã€ç¥ã€å…ç­‰ä¹‹æ…¢ï¼Œä»¥å½°å…¶å’ï¼›"><a href="#è‹¥æ— å…´å¾·ä¹‹è¨€ï¼Œåˆ™è´£æ”¸ä¹‹ã€ç¥ã€å…ç­‰ä¹‹æ…¢ï¼Œä»¥å½°å…¶å’ï¼›" class="headerlink" title="è‹¥æ— å…´å¾·ä¹‹è¨€ï¼Œåˆ™è´£æ”¸ä¹‹ã€ç¥ã€å…ç­‰ä¹‹æ…¢ï¼Œä»¥å½°å…¶å’ï¼›"></a>è‹¥æ— å…´å¾·ä¹‹è¨€ï¼Œåˆ™è´£æ”¸ä¹‹ã€ç¥ã€å…ç­‰ä¹‹æ…¢ï¼Œä»¥å½°å…¶å’ï¼›</h4><p>If those three advisors should fail in their duties, then they should be punished for their negligence.</p><h4 id="é™›ä¸‹äº¦å®œè‡ªè°‹ï¼Œä»¥å’¨è¯¹å–„é“ï¼Œå¯Ÿçº³é›…è¨€ï¼Œæ·±è¿½å…ˆå¸é—è¯ï¼Œ"><a href="#é™›ä¸‹äº¦å®œè‡ªè°‹ï¼Œä»¥å’¨è¯¹å–„é“ï¼Œå¯Ÿçº³é›…è¨€ï¼Œæ·±è¿½å…ˆå¸é—è¯ï¼Œ" class="headerlink" title="é™›ä¸‹äº¦å®œè‡ªè°‹ï¼Œä»¥å’¨è¯¹å–„é“ï¼Œå¯Ÿçº³é›…è¨€ï¼Œæ·±è¿½å…ˆå¸é—è¯ï¼Œ"></a>é™›ä¸‹äº¦å®œè‡ªè°‹ï¼Œä»¥å’¨è¯¹å–„é“ï¼Œå¯Ÿçº³é›…è¨€ï¼Œæ·±è¿½å…ˆå¸é—è¯ï¼Œ</h4><p>Your Majesty, consider your course of action carefully. Seek out good advice, and never forget the late Emperor.</p><h4 id="è‡£ä¸èƒœå—æ©æ„Ÿæ¿€ã€‚ä»Šå½“è¿œç¦»ï¼Œ"><a href="#è‡£ä¸èƒœå—æ©æ„Ÿæ¿€ã€‚ä»Šå½“è¿œç¦»ï¼Œ" class="headerlink" title="è‡£ä¸èƒœå—æ©æ„Ÿæ¿€ã€‚ä»Šå½“è¿œç¦»ï¼Œ"></a>è‡£ä¸èƒœå—æ©æ„Ÿæ¿€ã€‚ä»Šå½“è¿œç¦»ï¼Œ</h4><p>I depart now on a long expedition, and I will be forever grateful if you heed my advice.</p><h4 id="ä¸´è¡¨æ¶•é›¶ï¼Œä¸çŸ¥æ‰€è¨€ã€‚"><a href="#ä¸´è¡¨æ¶•é›¶ï¼Œä¸çŸ¥æ‰€è¨€ã€‚" class="headerlink" title="ä¸´è¡¨æ¶•é›¶ï¼Œä¸çŸ¥æ‰€è¨€ã€‚"></a>ä¸´è¡¨æ¶•é›¶ï¼Œä¸çŸ¥æ‰€è¨€ã€‚</h4><p>Blinded by my own tears, I know not what I write.</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>wechat ban domain check</title>
      <link href="/posts/3126/"/>
      <url>/posts/3126/</url>
      
        <content type="html"><![CDATA[<p>wechat ban domain check! </p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$domain</span> = <span class="string">&#x27;https://baidu.com&#x27;</span>;</span><br><span class="line"><span class="variable">$domain</span> = <span class="title function_ invoke__">urlencode</span>(<span class="variable">$domain</span>);</span><br><span class="line"><span class="variable">$wxCheckUrl</span> = <span class="string">&#x27;https://weixin110.qq.com/cgi-bin/mmspamsupport-bin/newredirectconfirmcgi?main_type=2&amp;evil_type=20&amp;source=2&amp;url=&#x27;</span>;</span><br><span class="line"><span class="variable">$wxCheckUrl</span> .= <span class="variable">$domain</span>;</span><br><span class="line"><span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$wxCheckUrl</span>);</span><br><span class="line"><span class="title function_ invoke__">file_put_contents</span>(<span class="title function_ invoke__">uniqid</span>().<span class="string">&#x27;.txt&#x27;</span>,<span class="title function_ invoke__">json_encode</span>(<span class="variable">$res</span>));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wechat miniprogram payment</title>
      <link href="/posts/65027/"/>
      <url>/posts/65027/</url>
      
        <content type="html"><![CDATA[<p>wechat miniprogram payment</p><p>first need get wechat user openid</p><p>demo:<a href="https://qinhaolei.com/posts/4383">wechat miniprogram get user openid </a></p><p><a href="https://gist.github.com/haoleiqin/bd6d5842f70d44cc788221d01a36ad02">PHP code Github</a></p><h5 id="wechat-miniprogram"><a href="#wechat-miniprogram" class="headerlink" title="wechat miniprogram"></a>wechat miniprogram</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;order url&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">openid</span>: openid.<span class="property">data</span>.<span class="property">openid</span>,</span><br><span class="line">        <span class="attr">payAmount</span>: <span class="string">&#x27;0.01&#x27;</span>,</span><br><span class="line">        <span class="attr">orderName</span>: <span class="string">&#x27;goods&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">results</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> tempArr = (results.<span class="property">data</span>);</span><br><span class="line">        wx.<span class="title function_">requestPayment</span>(&#123;</span><br><span class="line">            <span class="attr">timeStamp</span>: <span class="string">&#x27;&#x27;</span> + tempArr.<span class="property">timeStamp</span>,</span><br><span class="line">            <span class="attr">nonceStr</span>: tempArr.<span class="property">nonceStr</span>,</span><br><span class="line">            <span class="attr">package</span>: tempArr.<span class="property">package</span>,</span><br><span class="line">            <span class="attr">signType</span>: tempArr.<span class="property">signType</span>,</span><br><span class="line">            <span class="attr">paySign</span>: tempArr.<span class="property">paySign</span>,</span><br><span class="line">            <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">                <span class="comment">//   payment success</span></span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><a href="https://gist.github.com/haoleiqin/bd6d5842f70d44cc788221d01a36ad02">PHP code Github</a></p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wechat-mini </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axios CROSæ¯æ¬¡è¯·æ±‚å¤šä¸€æ¬¡optionsè¯·æ±‚ axios CROS request two times every time</title>
      <link href="/posts/30125/"/>
      <url>/posts/30125/</url>
      
        <content type="html"><![CDATA[<p>axios CROSæ¯æ¬¡è¯·æ±‚å¤šä¸€æ¬¡optionsè¯·æ±‚<br>case: <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS</a><br>headerâ€™s param except for the following</p><ul><li>Accept</li><li>Accept-Language</li><li>Content-Language</li><li>Content-Type ï¼ˆéœ€è¦æ³¨æ„é¢å¤–çš„é™åˆ¶ï¼‰</li><li>DPR</li><li>Downlink</li><li>Save-Data</li><li>Viewport-Width</li><li>Width<br>other param make the request become complex requests</li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">config.<span class="property">headers</span>[<span class="string">&#x27;X-Token&#x27;</span>] = <span class="title function_">getToken</span>()</span><br></pre></td></tr></table></figure><p>here the reason is â€˜X-Tokenâ€™ </p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue.jsé˜»æ­¢clickäº‹ä»¶ç©¿é€</title>
      <link href="/posts/201906063126/"/>
      <url>/posts/201906063126/</url>
      
        <content type="html"><![CDATA[<p>Vue.jsé˜»æ­¢clickäº‹ä»¶ç©¿é€ </p><h4 id="å°†-click-x3D-â€fnâ€-æ”¹ä¸º-click-stop-x3D-â€fnâ€-å³å¯"><a href="#å°†-click-x3D-â€fnâ€-æ”¹ä¸º-click-stop-x3D-â€fnâ€-å³å¯" class="headerlink" title="å°† @click&#x3D;â€fnâ€  æ”¹ä¸º @click.stop&#x3D;â€fnâ€ å³å¯"></a>å°† @click&#x3D;â€fnâ€  æ”¹ä¸º @click.stop&#x3D;â€fnâ€ å³å¯</h4>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ”¯ä»˜å®è½¬è´¦è·³è½¬jsè·³è½¬</title>
      <link href="/posts/39056/"/>
      <url>/posts/39056/</url>
      
        <content type="html"><![CDATA[<p>æ”¯ä»˜å®è½¬è´¦è·³è½¬jsè·³è½¬</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">  <span class="string">&quot;s&quot;</span>: <span class="string">&quot;money&quot;</span>,</span><br><span class="line">  <span class="string">&quot;u&quot;</span>: <span class="string">&quot;20889012xxxxxxxx&quot;</span>,</span><br><span class="line">  <span class="string">&quot;a&quot;</span>: <span class="string">&quot;0.04&quot;</span>,</span><br><span class="line">  <span class="string">&quot;m&quot;</span>: <span class="string">&quot;HM07L520550221254&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> url = <span class="string">&#x27;alipays://platformapi/startapp?appId=20000123&amp;actionType=scan&amp;biz_data=&#x27;</span>+data;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">personal userId</span></span><br><span class="line"><span class="comment">20889012xxxxxxxx</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">company cooperation IP</span></span><br><span class="line"><span class="comment">20889012xxxxxxxx</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> payment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP è·å–å°ç¨‹åºopenID</title>
      <link href="/posts/4383/"/>
      <url>/posts/4383/</url>
      
        <content type="html"><![CDATA[<p>PHP è·å–å°ç¨‹åºopenID</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$appid</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="variable">$secret</span> = <span class="variable language_">$this</span>-&gt;app;</span><br><span class="line"><span class="variable">$code</span> = <span class="variable">$_REQUEST</span>[<span class="string">&quot;code&quot;</span>];</span><br><span class="line"><span class="variable">$url</span> = <span class="string">&#x27;https://api.weixin.qq.com/sns/jscode2session?appid=&#x27;</span> . <span class="variable">$appid</span> . <span class="string">&#x27;&amp;secret=&#x27;</span> . <span class="variable">$secret</span> . <span class="string">&#x27;&amp;js_code=&#x27;</span> . <span class="variable">$code</span> . <span class="string">&#x27;&amp;grant_type=authorization_code&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$curl</span> = <span class="title function_ invoke__">curl_init</span>();</span><br><span class="line"><span class="title function_ invoke__">curl_setopt</span>(<span class="variable">$curl</span>, CURLOPT_RETURNTRANSFER, <span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">curl_setopt</span>(<span class="variable">$curl</span>, CURLOPT_TIMEOUT, <span class="number">500</span>);</span><br><span class="line"><span class="comment">// To ensure communication security,all api use https,so need use two line code to open ssl safety check</span></span><br><span class="line"><span class="title function_ invoke__">curl_setopt</span>(<span class="variable">$curl</span>, CURLOPT_SSL_VERIFYHOST, <span class="literal">false</span>);</span><br><span class="line"><span class="title function_ invoke__">curl_setopt</span>(<span class="variable">$curl</span>, CURLOPT_URL, <span class="variable">$url</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$res</span> = <span class="title function_ invoke__">curl_exec</span>(<span class="variable">$curl</span>);</span><br><span class="line"><span class="title function_ invoke__">curl_close</span>(<span class="variable">$curl</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$json_obj</span> = <span class="title function_ invoke__">json_decode</span>(<span class="variable">$res</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="variable">$openid</span> = <span class="variable">$json_obj</span>[<span class="string">&quot;openid&quot;</span>];</span><br><span class="line"><span class="variable">$data</span>[<span class="string">&#x27;openid&#x27;</span>] = <span class="variable">$openid</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="title function_ invoke__">json_encode</span>(<span class="variable">$data</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginxè´Ÿè½½å‡è¡¡é…ç½®</title>
      <link href="/posts/58568/"/>
      <url>/posts/58568/</url>
      
        <content type="html"><![CDATA[<p>Nginx è´Ÿè½½å‡è¡¡é…ç½®</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">upstream</span> hcon.com &#123;</span><br><span class="line">  <span class="attribute">server</span> localhost:<span class="number">8081</span> weight=<span class="number">10</span>;</span><br><span class="line">  <span class="attribute">server</span> localhost:<span class="number">8082</span> weight=<span class="number">2</span>;</span><br><span class="line">  <span class="attribute">server</span> localhost:<span class="number">8083</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">  <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">  <span class="attribute">server_name</span> localhost;</span><br><span class="line">  <span class="section">location</span> / &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://hcon.com</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åº å…¼å®¹ç”¨æˆ·æ‹’ç»è·å–ä½ç½®æƒé™ ç”¨æˆ·æ‹’ç»æƒé™å¤„ç†</title>
      <link href="/posts/53277/"/>
      <url>/posts/53277/</url>
      
        <content type="html"><![CDATA[<p>å¾®ä¿¡å°ç¨‹åº å…¼å®¹ç”¨æˆ·æ‹’ç»è·å–ä½ç½®æƒé™ ç”¨æˆ·æ‹’ç»æƒé™å¤„ç†</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">function</span> <span class="title function_">getAuthor</span>(<span class="params"></span>) &#123;</span><br><span class="line">  wx.<span class="title function_">getSetting</span>(&#123;</span><br><span class="line">    <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!res.<span class="property">authSetting</span>[<span class="string">&#x27;scope.userLocation&#x27;</span>]) &#123;</span><br><span class="line">        wx.<span class="title function_">openSetting</span>(&#123;</span><br><span class="line">          <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="keyword">if</span> (!res.<span class="property">authSetting</span>[<span class="string">&#x27;scope.userLocation&#x27;</span>]) &#123;</span><br><span class="line">              wx.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">                <span class="attr">title</span>: <span class="string">&#x27;æ¸©é¦¨æé†’&#x27;</span>,</span><br><span class="line">                <span class="attr">content</span>: <span class="string">&#x27;éœ€è¦è·å–æ‚¨çš„åœ°ç†ä½ç½®æ‰èƒ½ä½¿ç”¨å°ç¨‹åº&#x27;</span>,</span><br><span class="line">                <span class="attr">cancelText</span>: <span class="string">&#x27;ä¸ä½¿ç”¨&#x27;</span>,</span><br><span class="line">                <span class="attr">confirmText</span>: <span class="string">&#x27;è·å–ä½ç½®&#x27;</span>,</span><br><span class="line">                <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">                  <span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">                    <span class="title function_">getAuthor</span>();</span><br><span class="line">                  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">cancel</span>) &#123;</span><br><span class="line">                    wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">                      <span class="attr">title</span>: <span class="string">&#x27;æ‚¨å¯ç‚¹å‡»å·¦ä¸‹è§’ å®šä½æŒ‰é’® é‡æ–°è·å–ä½ç½®&#x27;</span>,</span><br><span class="line">                      <span class="attr">icon</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">                      <span class="attr">duration</span>: <span class="number">3000</span></span><br><span class="line">                    &#125;)</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>JSåˆ¤æ–­è®¾å¤‡ æ£€æŸ¥æ‰‹æœºç³»ç»Ÿ æ£€æµ‹ç³»ç»Ÿ</title>
      <link href="/posts/54213/"/>
      <url>/posts/54213/</url>
      
        <content type="html"><![CDATA[<p>JS åˆ¤æ–­è®¾å¤‡ æ£€æŸ¥æ‰‹æœºç³»ç»Ÿ æ£€æµ‹ç³»ç»Ÿ</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (</span><br><span class="line">  <span class="regexp">/AppleWebKit.*Mobile/i</span>.<span class="title function_">test</span>(navigator.<span class="property">userAgent</span>) ||</span><br><span class="line">  <span class="regexp">/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/</span>.<span class="title function_">test</span>(</span><br><span class="line">    navigator.<span class="property">userAgent</span></span><br><span class="line">  )</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;?mobile&quot;</span>) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="regexp">/Android|webOS|iPhone|iPod|BlackBerry/i</span>.<span class="title function_">test</span>(navigator.<span class="property">userAgent</span>)) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&quot;../m/index.html&quot;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/iPad/i</span>.<span class="title function_">test</span>(navigator.<span class="property">userAgent</span>)) &#123;</span><br><span class="line">        <span class="comment">//ipad</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å…¶ä»–</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getPgjs</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> agent = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line">  <span class="keyword">var</span> res = agent.<span class="title function_">match</span>(<span class="regexp">/android/</span>);</span><br><span class="line">  <span class="keyword">if</span> (res == <span class="string">&quot;android&quot;</span>) <span class="keyword">return</span> res;</span><br><span class="line">  res = agent.<span class="title function_">match</span>(<span class="regexp">/iphone/</span>);</span><br><span class="line">  <span class="keyword">if</span> (res == <span class="string">&quot;iphone&quot;</span>) <span class="keyword">return</span> <span class="string">&quot;ios&quot;</span>;</span><br><span class="line">  res = agent.<span class="title function_">match</span>(<span class="regexp">/ipad/</span>);</span><br><span class="line">  <span class="keyword">if</span> (res == <span class="string">&quot;ipad&quot;</span>) <span class="keyword">return</span> <span class="string">&quot;ios&quot;</span>;</span><br><span class="line">  res = agent.<span class="title function_">match</span>(<span class="regexp">/windows/</span>);</span><br><span class="line">  <span class="keyword">if</span> (res == <span class="string">&quot;windows&quot;</span>) <span class="keyword">return</span> <span class="string">&quot;wp&quot;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;pc&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å“åº”å¼viewport metaæ ‡ç­¾é…ç½®</title>
      <link href="/posts/54213/"/>
      <url>/posts/54213/</url>
      
        <content type="html"><![CDATA[<p>å“åº”å¼viewport metaæ ‡ç­¾é…ç½®</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>widthï¼šæ§åˆ¶ viewport çš„å¤§å°ï¼Œå¯ä»¥æŒ‡å®šçš„ä¸€ä¸ªå€¼ï¼Œå¦‚æœ 600ï¼Œæˆ–è€…ç‰¹æ®Šçš„å€¼ï¼Œå¦‚ â€“</li><li>device-width ä¸ºè®¾å¤‡çš„å®½åº¦ï¼ˆå•ä½ä¸ºç¼©æ”¾ä¸º 100% æ—¶çš„ CSS çš„åƒç´ ï¼‰ã€‚</li><li>heightï¼šå’Œ width ç›¸å¯¹åº”ï¼ŒæŒ‡å®šé«˜åº¦ã€‚</li><li>initial-scaleï¼šåˆå§‹ç¼©æ”¾æ¯”ä¾‹ï¼Œä¹Ÿå³æ˜¯å½“é¡µé¢ç¬¬ä¸€æ¬¡ load çš„æ—¶å€™ç¼©æ”¾æ¯”ä¾‹ã€‚</li><li>maximum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å¤§æ¯”ä¾‹ã€‚</li><li>minimum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹ã€‚</li><li>user-scalableï¼šç”¨æˆ·æ˜¯å¦å¯ä»¥æ‰‹åŠ¨ç¼©æ”¾ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>pageX  clientX  screenX åŒºåˆ«</title>
      <link href="/posts/47854/"/>
      <url>/posts/47854/</url>
      
        <content type="html"><![CDATA[<p>pageX  clientX  screenX åŒºåˆ«<br><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/img/2015/29002336_cTdr.png"></p><ul><li>screen X screenY æ˜¯ä»¥æˆ‘ä»¬çš„ç”µè„‘å±å¹• ä¸ºåŸºå‡†ç‚¹æµ‹é‡</li><li>pageX pageY ä»¥æˆ‘ä»¬çš„ æ–‡æ¡£ ï¼ˆç»å¯¹å®šä½ï¼‰ çš„åŸºå‡†ç‚¹ å¯¹é½ ie678 ä¸è®¤è¯†</li><li>clientX clientY ä»¥ å¯è§†åŒºåŸŸ ä¸ºåŸºå‡†ç‚¹ ç±»ä¼¼äº å›ºå®šå®šä½</li></ul>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ </category>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>copyright</title>
      <link href="/posts/23355/"/>
      <url>/posts/23355/</url>
      
        <content type="html"><![CDATA[<p><img src="https://ihogo-1251903635.cos.ap-chengdu.myqcloud.com/qin/blog/site_img/common/copyright/copyright.png" alt="cc logo"></p><h2 id="Attribution-NonCommercial-ShareAlike-4-0-International-CC-BY-NC-SA-4-0"><a href="#Attribution-NonCommercial-ShareAlike-4-0-International-CC-BY-NC-SA-4-0" class="headerlink" title="Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)"></a>Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</h2><p>This is a human-readable summary of (and not a substitute for) the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">license</a>. <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/#">Disclaimer</a>.</p><h3 id="You-are-free-to"><a href="#You-are-free-to" class="headerlink" title="You are free to:"></a>You are free to:</h3><ul><li><p>Share â€” copy and redistribute the material in any medium or format</p></li><li><p>Adapt â€” remix, transform, and build upon the material</p></li><li><p>The licensor cannot revoke these freedoms as long as you follow the license terms.</p></li></ul><hr><h3 id="Under-the-following-terms"><a href="#Under-the-following-terms" class="headerlink" title="Under the following terms:"></a>Under the following terms:</h3><ul><li><p>Attribution â€” You must give <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/#">appropriate credit</a>, provide a link to the license, and <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/#">indicate if changes were made</a>. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.</p></li><li><p>NonCommercial â€” You may not use the material for <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/#">commercial purposes</a>.</p></li><li><p>ShareAlike â€” If you remix, transform, or build upon the material, you must distribute your contributions under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/#">same license</a> as the original.</p></li><li><p>No additional restrictions â€” You may not apply legal terms or <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/#">technological measures</a> that legally restrict others from doing anything the license permits.</p></li></ul><hr><h3 id="Notices"><a href="#Notices" class="headerlink" title="Notices:"></a>Notices:</h3><ul><li><p>You do not have to comply with the license for elements of the material in the public domain or where your use is permitted by an applicable <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/#">exception or limitation</a>.</p></li><li><p>No warranties are given. The license may not give you all of the permissions necessary for your intended use. For example, other rights such as <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/#">publicity, privacy, or moral rights</a> may limit how you use the material.</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
